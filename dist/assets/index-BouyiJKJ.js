var iI=Object.defineProperty;var rI=(t,e,n)=>e in t?iI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Hc=(t,e,n)=>rI(t,typeof e!="symbol"?e+"":e,n);function sI(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var aC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function oI(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var lC={exports:{}},uh={},cC={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tc=Symbol.for("react.element"),aI=Symbol.for("react.portal"),lI=Symbol.for("react.fragment"),cI=Symbol.for("react.strict_mode"),uI=Symbol.for("react.profiler"),dI=Symbol.for("react.provider"),hI=Symbol.for("react.context"),fI=Symbol.for("react.forward_ref"),pI=Symbol.for("react.suspense"),mI=Symbol.for("react.memo"),gI=Symbol.for("react.lazy"),Q_=Symbol.iterator;function vI(t){return t===null||typeof t!="object"?null:(t=Q_&&t[Q_]||t["@@iterator"],typeof t=="function"?t:null)}var uC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dC=Object.assign,hC={};function Zo(t,e,n){this.props=t,this.context=e,this.refs=hC,this.updater=n||uC}Zo.prototype.isReactComponent={};Zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fC(){}fC.prototype=Zo.prototype;function n0(t,e,n){this.props=t,this.context=e,this.refs=hC,this.updater=n||uC}var i0=n0.prototype=new fC;i0.constructor=n0;dC(i0,Zo.prototype);i0.isPureReactComponent=!0;var X_=Array.isArray,pC=Object.prototype.hasOwnProperty,r0={current:null},mC={key:!0,ref:!0,__self:!0,__source:!0};function gC(t,e,n){var i,r={},o=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)pC.call(e,i)&&!mC.hasOwnProperty(i)&&(r[i]=e[i]);var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}if(t&&t.defaultProps)for(i in c=t.defaultProps,c)r[i]===void 0&&(r[i]=c[i]);return{$$typeof:tc,type:t,key:o,ref:a,props:r,_owner:r0.current}}function yI(t,e){return{$$typeof:tc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function s0(t){return typeof t=="object"&&t!==null&&t.$$typeof===tc}function _I(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var J_=/\/+/g;function Af(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_I(""+t.key):e.toString(36)}function ku(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case tc:case aI:a=!0}}if(a)return a=t,r=r(a),t=i===""?"."+Af(a,0):i,X_(r)?(n="",t!=null&&(n=t.replace(J_,"$&/")+"/"),ku(r,e,n,"",function(d){return d})):r!=null&&(s0(r)&&(r=yI(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(J_,"$&/")+"/")+t)),e.push(r)),1;if(a=0,i=i===""?".":i+":",X_(t))for(var c=0;c<t.length;c++){o=t[c];var u=i+Af(o,c);a+=ku(o,e,n,u,r)}else if(u=vI(t),typeof u=="function")for(t=u.call(t),c=0;!(o=t.next()).done;)o=o.value,u=i+Af(o,c++),a+=ku(o,e,n,u,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Kc(t,e,n){if(t==null)return t;var i=[],r=0;return ku(t,i,"","",function(o){return e.call(n,o,r++)}),i}function xI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},Au={transition:null},wI={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:Au,ReactCurrentOwner:r0};function vC(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Kc,forEach:function(t,e,n){Kc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kc(t,function(){e++}),e},toArray:function(t){return Kc(t,function(e){return e})||[]},only:function(t){if(!s0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=Zo;ye.Fragment=lI;ye.Profiler=uI;ye.PureComponent=n0;ye.StrictMode=cI;ye.Suspense=pI;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wI;ye.act=vC;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=dC({},t.props),r=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=r0.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)pC.call(e,u)&&!mC.hasOwnProperty(u)&&(i[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:tc,type:t.type,key:r,ref:o,props:i,_owner:a}};ye.createContext=function(t){return t={$$typeof:hI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dI,_context:t},t.Consumer=t};ye.createElement=gC;ye.createFactory=function(t){var e=gC.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:fI,render:t}};ye.isValidElement=s0;ye.lazy=function(t){return{$$typeof:gI,_payload:{_status:-1,_result:t},_init:xI}};ye.memo=function(t,e){return{$$typeof:mI,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Au.transition;Au.transition={};try{t()}finally{Au.transition=e}};ye.unstable_act=vC;ye.useCallback=function(t,e){return Mt.current.useCallback(t,e)};ye.useContext=function(t){return Mt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Mt.current.useEffect(t,e)};ye.useId=function(){return Mt.current.useId()};ye.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Mt.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};ye.useRef=function(t){return Mt.current.useRef(t)};ye.useState=function(t){return Mt.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Mt.current.useTransition()};ye.version="18.3.1";cC.exports=ye;var T=cC.exports;const td=t0(T),yC=sI({__proto__:null,default:td},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bI=T,CI=Symbol.for("react.element"),SI=Symbol.for("react.fragment"),EI=Object.prototype.hasOwnProperty,PI=bI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TI={key:!0,ref:!0,__self:!0,__source:!0};function _C(t,e,n){var i,r={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)EI.call(e,i)&&!TI.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:CI,type:t,key:o,ref:a,props:r,_owner:PI.current}}uh.Fragment=SI;uh.jsx=_C;uh.jsxs=_C;lC.exports=uh;var b=lC.exports,xC={exports:{}},tn={},wC={exports:{}},bC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,Z){var K=F.length;F.push(Z);e:for(;0<K;){var Q=K-1>>>1,ie=F[Q];if(0<r(ie,Z))F[Q]=Z,F[K]=ie,K=Q;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var Z=F[0],K=F.pop();if(K!==Z){F[0]=K;e:for(var Q=0,ie=F.length,be=ie>>>1;Q<be;){var _e=2*(Q+1)-1,de=F[_e],ne=_e+1,ht=F[ne];if(0>r(de,K))ne<ie&&0>r(ht,de)?(F[Q]=ht,F[ne]=K,Q=ne):(F[Q]=de,F[_e]=K,Q=_e);else if(ne<ie&&0>r(ht,K))F[Q]=ht,F[ne]=K,Q=ne;else break e}}return Z}function r(F,Z){var K=F.sortIndex-Z.sortIndex;return K!==0?K:F.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],d=[],f=1,p=null,m=3,v=!1,C=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var Z=n(d);Z!==null;){if(Z.callback===null)i(d);else if(Z.startTime<=F)i(d),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(d)}}function k(F){if(_=!1,S(F),!C)if(n(u)!==null)C=!0,z(A);else{var Z=n(d);Z!==null&&$(k,Z.startTime-F)}}function A(F,Z){C=!1,_&&(_=!1,w(U),U=-1),v=!0;var K=m;try{for(S(Z),p=n(u);p!==null&&(!(p.expirationTime>Z)||F&&!j());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,m=p.priorityLevel;var ie=Q(p.expirationTime<=Z);Z=t.unstable_now(),typeof ie=="function"?p.callback=ie:p===n(u)&&i(u),S(Z)}else i(u);p=n(u)}if(p!==null)var be=!0;else{var _e=n(d);_e!==null&&$(k,_e.startTime-Z),be=!1}return be}finally{p=null,m=K,v=!1}}var O=!1,R=null,U=-1,H=5,q=-1;function j(){return!(t.unstable_now()-q<H)}function M(){if(R!==null){var F=t.unstable_now();q=F;var Z=!0;try{Z=R(!0,F)}finally{Z?B():(O=!1,R=null)}}else O=!1}var B;if(typeof x=="function")B=function(){x(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,D=N.port2;N.port1.onmessage=M,B=function(){D.postMessage(null)}}else B=function(){E(M,0)};function z(F){R=F,O||(O=!0,B())}function $(F,Z){U=E(function(){F(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){C||v||(C=!0,z(A))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var K=m;m=Z;try{return F()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,Z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var K=m;m=F;try{return Z()}finally{m=K}},t.unstable_scheduleCallback=function(F,Z,K){var Q=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Q+K:Q):K=Q,F){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=K+ie,F={id:f++,callback:Z,priorityLevel:F,startTime:K,expirationTime:ie,sortIndex:-1},K>Q?(F.sortIndex=K,e(d,F),n(u)===null&&F===n(d)&&(_?(w(U),U=-1):_=!0,$(k,K-Q))):(F.sortIndex=ie,e(u,F),C||v||(C=!0,z(A))),F},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(F){var Z=m;return function(){var K=m;m=Z;try{return F.apply(this,arguments)}finally{m=K}}}})(bC);wC.exports=bC;var kI=wC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AI=T,Xt=kI;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CC=new Set,pl={};function ys(t,e){No(t,e),No(t+"Capture",e)}function No(t,e){for(pl[t]=e,t=0;t<e.length;t++)CC.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$p=Object.prototype.hasOwnProperty,NI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ex={},tx={};function II(t){return $p.call(tx,t)?!0:$p.call(ex,t)?!1:NI.test(t)?tx[t]=!0:(ex[t]=!0,!1)}function RI(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function LI(t,e,n,i){if(e===null||typeof e>"u"||RI(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ot(t,e,n,i,r,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new Ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new Ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new Ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new Ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new Ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new Ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new Ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new Ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new Ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var o0=/[\-:]([a-z])/g;function a0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(o0,a0);vt[e]=new Ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(o0,a0);vt[e]=new Ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(o0,a0);vt[e]=new Ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function l0(t,e,n,i){var r=vt.hasOwnProperty(e)?vt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LI(e,n,r,i)&&(n=null),i||r===null?II(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Ii=AI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zc=Symbol.for("react.element"),qs=Symbol.for("react.portal"),Gs=Symbol.for("react.fragment"),c0=Symbol.for("react.strict_mode"),Hp=Symbol.for("react.profiler"),SC=Symbol.for("react.provider"),EC=Symbol.for("react.context"),u0=Symbol.for("react.forward_ref"),Kp=Symbol.for("react.suspense"),Zp=Symbol.for("react.suspense_list"),d0=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),PC=Symbol.for("react.offscreen"),nx=Symbol.iterator;function ba(t){return t===null||typeof t!="object"?null:(t=nx&&t[nx]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,Nf;function Fa(t){if(Nf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nf=e&&e[1]||""}return`
`+Nf+t}var If=!1;function Rf(t,e){if(!t||If)return"";If=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var i=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){i=d}t.call(e.prototype)}else{try{throw Error()}catch(d){i=d}t()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),o=i.stack.split(`
`),a=r.length-1,c=o.length-1;1<=a&&0<=c&&r[a]!==o[c];)c--;for(;1<=a&&0<=c;a--,c--)if(r[a]!==o[c]){if(a!==1||c!==1)do if(a--,c--,0>c||r[a]!==o[c]){var u=`
`+r[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=c);break}}}finally{If=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fa(t):""}function MI(t){switch(t.tag){case 5:return Fa(t.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return t=Rf(t.type,!1),t;case 11:return t=Rf(t.type.render,!1),t;case 1:return t=Rf(t.type,!0),t;default:return""}}function qp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gs:return"Fragment";case qs:return"Portal";case Hp:return"Profiler";case c0:return"StrictMode";case Kp:return"Suspense";case Zp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case EC:return(t.displayName||"Context")+".Consumer";case SC:return(t._context.displayName||"Context")+".Provider";case u0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case d0:return e=t.displayName||null,e!==null?e:qp(t.type)||"Memo";case $i:e=t._payload,t=t._init;try{return qp(t(e))}catch{}}return null}function OI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qp(e);case 8:return e===c0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function dr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function TC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DI(t){var e=TC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qc(t){t._valueTracker||(t._valueTracker=DI(t))}function kC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=TC(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function nd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gp(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ix(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=dr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function AC(t,e){e=e.checked,e!=null&&l0(t,"checked",e,!1)}function Yp(t,e){AC(t,e);var n=dr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qp(t,e.type,dr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qp(t,e,n){(e!=="number"||nd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ba=Array.isArray;function po(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+dr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Xp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(Ba(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:dr(n)}}function NC(t,e){var n=dr(e.value),i=dr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function ox(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gc,RC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gc=Gc||document.createElement("div"),Gc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ml(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jI=["Webkit","ms","Moz","O"];Object.keys(Ka).forEach(function(t){jI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ka[e]=Ka[t]})});function LC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ka.hasOwnProperty(t)&&Ka[t]?(""+e).trim():e+"px"}function MC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=LC(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var FI=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function em(t,e){if(e){if(FI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function tm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nm=null;function h0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var im=null,mo=null,go=null;function ax(t){if(t=rc(t)){if(typeof im!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=mh(e),im(t.stateNode,t.type,e))}}function OC(t){mo?go?go.push(t):go=[t]:mo=t}function DC(){if(mo){var t=mo,e=go;if(go=mo=null,ax(t),e)for(t=0;t<e.length;t++)ax(e[t])}}function jC(t,e){return t(e)}function FC(){}var Lf=!1;function BC(t,e,n){if(Lf)return t(e,n);Lf=!0;try{return jC(t,e,n)}finally{Lf=!1,(mo!==null||go!==null)&&(FC(),DC())}}function gl(t,e){var n=t.stateNode;if(n===null)return null;var i=mh(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var rm=!1;if(bi)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){rm=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{rm=!1}function BI(t,e,n,i,r,o,a,c,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var Za=!1,id=null,rd=!1,sm=null,zI={onError:function(t){Za=!0,id=t}};function VI(t,e,n,i,r,o,a,c,u){Za=!1,id=null,BI.apply(zI,arguments)}function UI(t,e,n,i,r,o,a,c,u){if(VI.apply(this,arguments),Za){if(Za){var d=id;Za=!1,id=null}else throw Error(Y(198));rd||(rd=!0,sm=d)}}function _s(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lx(t){if(_s(t)!==t)throw Error(Y(188))}function WI(t){var e=t.alternate;if(!e){if(e=_s(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return lx(r),t;if(o===i)return lx(r),e;o=o.sibling}throw Error(Y(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,c=r.child;c;){if(c===n){a=!0,n=r,i=o;break}if(c===i){a=!0,i=r,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,i=r;break}if(c===i){a=!0,i=o,n=r;break}c=c.sibling}if(!a)throw Error(Y(189))}}if(n.alternate!==i)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function VC(t){return t=WI(t),t!==null?UC(t):null}function UC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=UC(t);if(e!==null)return e;t=t.sibling}return null}var WC=Xt.unstable_scheduleCallback,cx=Xt.unstable_cancelCallback,$I=Xt.unstable_shouldYield,HI=Xt.unstable_requestPaint,Ye=Xt.unstable_now,KI=Xt.unstable_getCurrentPriorityLevel,f0=Xt.unstable_ImmediatePriority,$C=Xt.unstable_UserBlockingPriority,sd=Xt.unstable_NormalPriority,ZI=Xt.unstable_LowPriority,HC=Xt.unstable_IdlePriority,dh=null,Un=null;function qI(t){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(dh,t,void 0,(t.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:QI,GI=Math.log,YI=Math.LN2;function QI(t){return t>>>=0,t===0?32:31-(GI(t)/YI|0)|0}var Yc=64,Qc=4194304;function za(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function od(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~r;c!==0?i=za(c):(o&=a,o!==0&&(i=za(o)))}else a=n&~r,a!==0?i=za(a):o!==0&&(i=za(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Pn(e),r=1<<n,i|=t[n],e&=~r;return i}function XI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JI(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Pn(o),c=1<<a,u=r[a];u===-1?(!(c&n)||c&i)&&(r[a]=XI(c,e)):u<=e&&(t.expiredLanes|=c),o&=~c}}function om(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function KC(){var t=Yc;return Yc<<=1,!(Yc&4194240)&&(Yc=64),t}function Mf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pn(e),t[e]=n}function eR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Pn(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function p0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Pn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Pe=0;function ZC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qC,m0,GC,YC,QC,am=!1,Xc=[],Ji=null,er=null,tr=null,vl=new Map,yl=new Map,Zi=[],tR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ux(t,e){switch(t){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":vl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(e.pointerId)}}function Sa(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=rc(e),e!==null&&m0(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function nR(t,e,n,i,r){switch(e){case"focusin":return Ji=Sa(Ji,t,e,n,i,r),!0;case"dragenter":return er=Sa(er,t,e,n,i,r),!0;case"mouseover":return tr=Sa(tr,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return vl.set(o,Sa(vl.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,yl.set(o,Sa(yl.get(o)||null,t,e,n,i,r)),!0}return!1}function XC(t){var e=Kr(t.target);if(e!==null){var n=_s(e);if(n!==null){if(e=n.tag,e===13){if(e=zC(n),e!==null){t.blockedOn=e,QC(t.priority,function(){GC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);nm=i,n.target.dispatchEvent(i),nm=null}else return e=rc(n),e!==null&&m0(e),t.blockedOn=n,!1;e.shift()}return!0}function dx(t,e,n){Nu(t)&&n.delete(e)}function iR(){am=!1,Ji!==null&&Nu(Ji)&&(Ji=null),er!==null&&Nu(er)&&(er=null),tr!==null&&Nu(tr)&&(tr=null),vl.forEach(dx),yl.forEach(dx)}function Ea(t,e){t.blockedOn===e&&(t.blockedOn=null,am||(am=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,iR)))}function _l(t){function e(r){return Ea(r,t)}if(0<Xc.length){Ea(Xc[0],t);for(var n=1;n<Xc.length;n++){var i=Xc[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Ji!==null&&Ea(Ji,t),er!==null&&Ea(er,t),tr!==null&&Ea(tr,t),vl.forEach(e),yl.forEach(e),n=0;n<Zi.length;n++)i=Zi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Zi.length&&(n=Zi[0],n.blockedOn===null);)XC(n),n.blockedOn===null&&Zi.shift()}var vo=Ii.ReactCurrentBatchConfig,ad=!0;function rR(t,e,n,i){var r=Pe,o=vo.transition;vo.transition=null;try{Pe=1,g0(t,e,n,i)}finally{Pe=r,vo.transition=o}}function sR(t,e,n,i){var r=Pe,o=vo.transition;vo.transition=null;try{Pe=4,g0(t,e,n,i)}finally{Pe=r,vo.transition=o}}function g0(t,e,n,i){if(ad){var r=lm(t,e,n,i);if(r===null)$f(t,e,i,ld,n),ux(t,i);else if(nR(r,t,e,n,i))i.stopPropagation();else if(ux(t,i),e&4&&-1<tR.indexOf(t)){for(;r!==null;){var o=rc(r);if(o!==null&&qC(o),o=lm(t,e,n,i),o===null&&$f(t,e,i,ld,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else $f(t,e,i,null,n)}}var ld=null;function lm(t,e,n,i){if(ld=null,t=h0(i),t=Kr(t),t!==null)if(e=_s(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ld=t,null}function JC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KI()){case f0:return 1;case $C:return 4;case sd:case ZI:return 16;case HC:return 536870912;default:return 16}default:return 16}}var Yi=null,v0=null,Iu=null;function eS(){if(Iu)return Iu;var t,e=v0,n=e.length,i,r="value"in Yi?Yi.value:Yi.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[o-i];i++);return Iu=r.slice(t,1<i?1-i:void 0)}function Ru(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jc(){return!0}function hx(){return!1}function nn(t){function e(n,i,r,o,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Jc:hx,this.isPropagationStopped=hx,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jc)},persist:function(){},isPersistent:Jc}),e}var qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},y0=nn(qo),ic=He({},qo,{view:0,detail:0}),oR=nn(ic),Of,Df,Pa,hh=He({},ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pa&&(Pa&&t.type==="mousemove"?(Of=t.screenX-Pa.screenX,Df=t.screenY-Pa.screenY):Df=Of=0,Pa=t),Of)},movementY:function(t){return"movementY"in t?t.movementY:Df}}),fx=nn(hh),aR=He({},hh,{dataTransfer:0}),lR=nn(aR),cR=He({},ic,{relatedTarget:0}),jf=nn(cR),uR=He({},qo,{animationName:0,elapsedTime:0,pseudoElement:0}),dR=nn(uR),hR=He({},qo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fR=nn(hR),pR=He({},qo,{data:0}),px=nn(pR),mR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vR[t])?!!e[t]:!1}function _0(){return yR}var _R=He({},ic,{key:function(t){if(t.key){var e=mR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ru(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_0,charCode:function(t){return t.type==="keypress"?Ru(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ru(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xR=nn(_R),wR=He({},hh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mx=nn(wR),bR=He({},ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_0}),CR=nn(bR),SR=He({},qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ER=nn(SR),PR=He({},hh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TR=nn(PR),kR=[9,13,27,32],x0=bi&&"CompositionEvent"in window,qa=null;bi&&"documentMode"in document&&(qa=document.documentMode);var AR=bi&&"TextEvent"in window&&!qa,tS=bi&&(!x0||qa&&8<qa&&11>=qa),gx=" ",vx=!1;function nS(t,e){switch(t){case"keyup":return kR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ys=!1;function NR(t,e){switch(t){case"compositionend":return iS(e);case"keypress":return e.which!==32?null:(vx=!0,gx);case"textInput":return t=e.data,t===gx&&vx?null:t;default:return null}}function IR(t,e){if(Ys)return t==="compositionend"||!x0&&nS(t,e)?(t=eS(),Iu=v0=Yi=null,Ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tS&&e.locale!=="ko"?null:e.data;default:return null}}var RR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RR[t.type]:e==="textarea"}function rS(t,e,n,i){OC(i),e=cd(e,"onChange"),0<e.length&&(n=new y0("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ga=null,xl=null;function LR(t){mS(t,0)}function fh(t){var e=Js(t);if(kC(e))return t}function MR(t,e){if(t==="change")return e}var sS=!1;if(bi){var Ff;if(bi){var Bf="oninput"in document;if(!Bf){var _x=document.createElement("div");_x.setAttribute("oninput","return;"),Bf=typeof _x.oninput=="function"}Ff=Bf}else Ff=!1;sS=Ff&&(!document.documentMode||9<document.documentMode)}function xx(){Ga&&(Ga.detachEvent("onpropertychange",oS),xl=Ga=null)}function oS(t){if(t.propertyName==="value"&&fh(xl)){var e=[];rS(e,xl,t,h0(t)),BC(LR,e)}}function OR(t,e,n){t==="focusin"?(xx(),Ga=e,xl=n,Ga.attachEvent("onpropertychange",oS)):t==="focusout"&&xx()}function DR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fh(xl)}function jR(t,e){if(t==="click")return fh(e)}function FR(t,e){if(t==="input"||t==="change")return fh(e)}function BR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:BR;function wl(t,e){if(Nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!$p.call(e,r)||!Nn(t[r],e[r]))return!1}return!0}function wx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bx(t,e){var n=wx(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wx(n)}}function aS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lS(){for(var t=window,e=nd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nd(t.document)}return e}function w0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zR(t){var e=lS(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&aS(n.ownerDocument.documentElement,n)){if(i!==null&&w0(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=bx(n,o);var a=bx(n,i);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var VR=bi&&"documentMode"in document&&11>=document.documentMode,Qs=null,cm=null,Ya=null,um=!1;function Cx(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;um||Qs==null||Qs!==nd(i)||(i=Qs,"selectionStart"in i&&w0(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ya&&wl(Ya,i)||(Ya=i,i=cd(cm,"onSelect"),0<i.length&&(e=new y0("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Qs)))}function eu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xs={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},zf={},cS={};bi&&(cS=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function ph(t){if(zf[t])return zf[t];if(!Xs[t])return t;var e=Xs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cS)return zf[t]=e[n];return t}var uS=ph("animationend"),dS=ph("animationiteration"),hS=ph("animationstart"),fS=ph("transitionend"),pS=new Map,Sx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(t,e){pS.set(t,e),ys(e,[t])}for(var Vf=0;Vf<Sx.length;Vf++){var Uf=Sx[Vf],UR=Uf.toLowerCase(),WR=Uf[0].toUpperCase()+Uf.slice(1);Er(UR,"on"+WR)}Er(uS,"onAnimationEnd");Er(dS,"onAnimationIteration");Er(hS,"onAnimationStart");Er("dblclick","onDoubleClick");Er("focusin","onFocus");Er("focusout","onBlur");Er(fS,"onTransitionEnd");No("onMouseEnter",["mouseout","mouseover"]);No("onMouseLeave",["mouseout","mouseover"]);No("onPointerEnter",["pointerout","pointerover"]);No("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$R=new Set("cancel close invalid load scroll toggle".split(" ").concat(Va));function Ex(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,UI(i,e,void 0,t),t.currentTarget=null}function mS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var c=i[a],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==o&&r.isPropagationStopped())break e;Ex(r,c,d),o=u}else for(a=0;a<i.length;a++){if(c=i[a],u=c.instance,d=c.currentTarget,c=c.listener,u!==o&&r.isPropagationStopped())break e;Ex(r,c,d),o=u}}}if(rd)throw t=sm,rd=!1,sm=null,t}function Oe(t,e){var n=e[mm];n===void 0&&(n=e[mm]=new Set);var i=t+"__bubble";n.has(i)||(gS(e,t,2,!1),n.add(i))}function Wf(t,e,n){var i=0;e&&(i|=4),gS(n,t,i,e)}var tu="_reactListening"+Math.random().toString(36).slice(2);function bl(t){if(!t[tu]){t[tu]=!0,CC.forEach(function(n){n!=="selectionchange"&&($R.has(n)||Wf(n,!1,t),Wf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tu]||(e[tu]=!0,Wf("selectionchange",!1,e))}}function gS(t,e,n,i){switch(JC(e)){case 1:var r=rR;break;case 4:r=sR;break;default:r=g0}n=r.bind(null,e,n,t),r=void 0,!rm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function $f(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var c=i.stateNode.containerInfo;if(c===r||c.nodeType===8&&c.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;a=a.return}for(;c!==null;){if(a=Kr(c),a===null)return;if(u=a.tag,u===5||u===6){i=o=a;continue e}c=c.parentNode}}i=i.return}BC(function(){var d=o,f=h0(n),p=[];e:{var m=pS.get(t);if(m!==void 0){var v=y0,C=t;switch(t){case"keypress":if(Ru(n)===0)break e;case"keydown":case"keyup":v=xR;break;case"focusin":C="focus",v=jf;break;case"focusout":C="blur",v=jf;break;case"beforeblur":case"afterblur":v=jf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=fx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=lR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=CR;break;case uS:case dS:case hS:v=dR;break;case fS:v=ER;break;case"scroll":v=oR;break;case"wheel":v=TR;break;case"copy":case"cut":case"paste":v=fR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=mx}var _=(e&4)!==0,E=!_&&t==="scroll",w=_?m!==null?m+"Capture":null:m;_=[];for(var x=d,S;x!==null;){S=x;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,w!==null&&(k=gl(x,w),k!=null&&_.push(Cl(x,k,S)))),E)break;x=x.return}0<_.length&&(m=new v(m,C,null,n,f),p.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==nm&&(C=n.relatedTarget||n.fromElement)&&(Kr(C)||C[Ci]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(C=n.relatedTarget||n.toElement,v=d,C=C?Kr(C):null,C!==null&&(E=_s(C),C!==E||C.tag!==5&&C.tag!==6)&&(C=null)):(v=null,C=d),v!==C)){if(_=fx,k="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(_=mx,k="onPointerLeave",w="onPointerEnter",x="pointer"),E=v==null?m:Js(v),S=C==null?m:Js(C),m=new _(k,x+"leave",v,n,f),m.target=E,m.relatedTarget=S,k=null,Kr(f)===d&&(_=new _(w,x+"enter",C,n,f),_.target=S,_.relatedTarget=E,k=_),E=k,v&&C)t:{for(_=v,w=C,x=0,S=_;S;S=Bs(S))x++;for(S=0,k=w;k;k=Bs(k))S++;for(;0<x-S;)_=Bs(_),x--;for(;0<S-x;)w=Bs(w),S--;for(;x--;){if(_===w||w!==null&&_===w.alternate)break t;_=Bs(_),w=Bs(w)}_=null}else _=null;v!==null&&Px(p,m,v,_,!1),C!==null&&E!==null&&Px(p,E,C,_,!0)}}e:{if(m=d?Js(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var A=MR;else if(yx(m))if(sS)A=FR;else{A=DR;var O=OR}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(A=jR);if(A&&(A=A(t,d))){rS(p,A,n,f);break e}O&&O(t,m,d),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Qp(m,"number",m.value)}switch(O=d?Js(d):window,t){case"focusin":(yx(O)||O.contentEditable==="true")&&(Qs=O,cm=d,Ya=null);break;case"focusout":Ya=cm=Qs=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,Cx(p,n,f);break;case"selectionchange":if(VR)break;case"keydown":case"keyup":Cx(p,n,f)}var R;if(x0)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Ys?nS(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(tS&&n.locale!=="ko"&&(Ys||U!=="onCompositionStart"?U==="onCompositionEnd"&&Ys&&(R=eS()):(Yi=f,v0="value"in Yi?Yi.value:Yi.textContent,Ys=!0)),O=cd(d,U),0<O.length&&(U=new px(U,t,null,n,f),p.push({event:U,listeners:O}),R?U.data=R:(R=iS(n),R!==null&&(U.data=R)))),(R=AR?NR(t,n):IR(t,n))&&(d=cd(d,"onBeforeInput"),0<d.length&&(f=new px("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=R))}mS(p,e)})}function Cl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cd(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=gl(t,n),o!=null&&i.unshift(Cl(t,o,r)),o=gl(t,e),o!=null&&i.push(Cl(t,o,r))),t=t.return}return i}function Bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Px(t,e,n,i,r){for(var o=e._reactName,a=[];n!==null&&n!==i;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===i)break;c.tag===5&&d!==null&&(c=d,r?(u=gl(n,o),u!=null&&a.unshift(Cl(n,u,c))):r||(u=gl(n,o),u!=null&&a.push(Cl(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var HR=/\r\n?/g,KR=/\u0000|\uFFFD/g;function Tx(t){return(typeof t=="string"?t:""+t).replace(HR,`
`).replace(KR,"")}function nu(t,e,n){if(e=Tx(e),Tx(t)!==e&&n)throw Error(Y(425))}function ud(){}var dm=null,hm=null;function fm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pm=typeof setTimeout=="function"?setTimeout:void 0,ZR=typeof clearTimeout=="function"?clearTimeout:void 0,kx=typeof Promise=="function"?Promise:void 0,qR=typeof queueMicrotask=="function"?queueMicrotask:typeof kx<"u"?function(t){return kx.resolve(null).then(t).catch(GR)}:pm;function GR(t){setTimeout(function(){throw t})}function Hf(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),_l(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);_l(e)}function nr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ax(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Go=Math.random().toString(36).slice(2),zn="__reactFiber$"+Go,Sl="__reactProps$"+Go,Ci="__reactContainer$"+Go,mm="__reactEvents$"+Go,YR="__reactListeners$"+Go,QR="__reactHandles$"+Go;function Kr(t){var e=t[zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ci]||n[zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ax(t);t!==null;){if(n=t[zn])return n;t=Ax(t)}return e}t=n,n=t.parentNode}return null}function rc(t){return t=t[zn]||t[Ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function mh(t){return t[Sl]||null}var gm=[],eo=-1;function Pr(t){return{current:t}}function Fe(t){0>eo||(t.current=gm[eo],gm[eo]=null,eo--)}function Le(t,e){eo++,gm[eo]=t.current,t.current=e}var hr={},kt=Pr(hr),Vt=Pr(!1),ss=hr;function Io(t,e){var n=t.type.contextTypes;if(!n)return hr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ut(t){return t=t.childContextTypes,t!=null}function dd(){Fe(Vt),Fe(kt)}function Nx(t,e,n){if(kt.current!==hr)throw Error(Y(168));Le(kt,e),Le(Vt,n)}function vS(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Y(108,OI(t)||"Unknown",r));return He({},n,i)}function hd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hr,ss=kt.current,Le(kt,t),Le(Vt,Vt.current),!0}function Ix(t,e,n){var i=t.stateNode;if(!i)throw Error(Y(169));n?(t=vS(t,e,ss),i.__reactInternalMemoizedMergedChildContext=t,Fe(Vt),Fe(kt),Le(kt,t)):Fe(Vt),Le(Vt,n)}var si=null,gh=!1,Kf=!1;function yS(t){si===null?si=[t]:si.push(t)}function XR(t){gh=!0,yS(t)}function Tr(){if(!Kf&&si!==null){Kf=!0;var t=0,e=Pe;try{var n=si;for(Pe=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}si=null,gh=!1}catch(r){throw si!==null&&(si=si.slice(t+1)),WC(f0,Tr),r}finally{Pe=e,Kf=!1}}return null}var to=[],no=0,fd=null,pd=0,un=[],dn=0,os=null,li=1,ci="";function zr(t,e){to[no++]=pd,to[no++]=fd,fd=t,pd=e}function _S(t,e,n){un[dn++]=li,un[dn++]=ci,un[dn++]=os,os=t;var i=li;t=ci;var r=32-Pn(i)-1;i&=~(1<<r),n+=1;var o=32-Pn(e)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,li=1<<32-Pn(e)+r|n<<r|i,ci=o+t}else li=1<<o|n<<r|i,ci=t}function b0(t){t.return!==null&&(zr(t,1),_S(t,1,0))}function C0(t){for(;t===fd;)fd=to[--no],to[no]=null,pd=to[--no],to[no]=null;for(;t===os;)os=un[--dn],un[dn]=null,ci=un[--dn],un[dn]=null,li=un[--dn],un[dn]=null}var Gt=null,qt=null,ze=!1,bn=null;function xS(t,e){var n=hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Rx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gt=t,qt=nr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gt=t,qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=os!==null?{id:li,overflow:ci}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gt=t,qt=null,!0):!1;default:return!1}}function vm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ym(t){if(ze){var e=qt;if(e){var n=e;if(!Rx(t,e)){if(vm(t))throw Error(Y(418));e=nr(n.nextSibling);var i=Gt;e&&Rx(t,e)?xS(i,n):(t.flags=t.flags&-4097|2,ze=!1,Gt=t)}}else{if(vm(t))throw Error(Y(418));t.flags=t.flags&-4097|2,ze=!1,Gt=t}}}function Lx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gt=t}function iu(t){if(t!==Gt)return!1;if(!ze)return Lx(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fm(t.type,t.memoizedProps)),e&&(e=qt)){if(vm(t))throw wS(),Error(Y(418));for(;e;)xS(t,e),e=nr(e.nextSibling)}if(Lx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qt=nr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qt=null}}else qt=Gt?nr(t.stateNode.nextSibling):null;return!0}function wS(){for(var t=qt;t;)t=nr(t.nextSibling)}function Ro(){qt=Gt=null,ze=!1}function S0(t){bn===null?bn=[t]:bn.push(t)}var JR=Ii.ReactCurrentBatchConfig;function Ta(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var i=n.stateNode}if(!i)throw Error(Y(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var c=r.refs;a===null?delete c[o]:c[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function ru(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mx(t){var e=t._init;return e(t._payload)}function bS(t){function e(w,x){if(t){var S=w.deletions;S===null?(w.deletions=[x],w.flags|=16):S.push(x)}}function n(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function i(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function r(w,x){return w=or(w,x),w.index=0,w.sibling=null,w}function o(w,x,S){return w.index=S,t?(S=w.alternate,S!==null?(S=S.index,S<x?(w.flags|=2,x):S):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function c(w,x,S,k){return x===null||x.tag!==6?(x=Jf(S,w.mode,k),x.return=w,x):(x=r(x,S),x.return=w,x)}function u(w,x,S,k){var A=S.type;return A===Gs?f(w,x,S.props.children,k,S.key):x!==null&&(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===$i&&Mx(A)===x.type)?(k=r(x,S.props),k.ref=Ta(w,x,S),k.return=w,k):(k=Bu(S.type,S.key,S.props,null,w.mode,k),k.ref=Ta(w,x,S),k.return=w,k)}function d(w,x,S,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=ep(S,w.mode,k),x.return=w,x):(x=r(x,S.children||[]),x.return=w,x)}function f(w,x,S,k,A){return x===null||x.tag!==7?(x=Jr(S,w.mode,k,A),x.return=w,x):(x=r(x,S),x.return=w,x)}function p(w,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Jf(""+x,w.mode,S),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zc:return S=Bu(x.type,x.key,x.props,null,w.mode,S),S.ref=Ta(w,null,x),S.return=w,S;case qs:return x=ep(x,w.mode,S),x.return=w,x;case $i:var k=x._init;return p(w,k(x._payload),S)}if(Ba(x)||ba(x))return x=Jr(x,w.mode,S,null),x.return=w,x;ru(w,x)}return null}function m(w,x,S,k){var A=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return A!==null?null:c(w,x,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Zc:return S.key===A?u(w,x,S,k):null;case qs:return S.key===A?d(w,x,S,k):null;case $i:return A=S._init,m(w,x,A(S._payload),k)}if(Ba(S)||ba(S))return A!==null?null:f(w,x,S,k,null);ru(w,S)}return null}function v(w,x,S,k,A){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(S)||null,c(x,w,""+k,A);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Zc:return w=w.get(k.key===null?S:k.key)||null,u(x,w,k,A);case qs:return w=w.get(k.key===null?S:k.key)||null,d(x,w,k,A);case $i:var O=k._init;return v(w,x,S,O(k._payload),A)}if(Ba(k)||ba(k))return w=w.get(S)||null,f(x,w,k,A,null);ru(x,k)}return null}function C(w,x,S,k){for(var A=null,O=null,R=x,U=x=0,H=null;R!==null&&U<S.length;U++){R.index>U?(H=R,R=null):H=R.sibling;var q=m(w,R,S[U],k);if(q===null){R===null&&(R=H);break}t&&R&&q.alternate===null&&e(w,R),x=o(q,x,U),O===null?A=q:O.sibling=q,O=q,R=H}if(U===S.length)return n(w,R),ze&&zr(w,U),A;if(R===null){for(;U<S.length;U++)R=p(w,S[U],k),R!==null&&(x=o(R,x,U),O===null?A=R:O.sibling=R,O=R);return ze&&zr(w,U),A}for(R=i(w,R);U<S.length;U++)H=v(R,w,U,S[U],k),H!==null&&(t&&H.alternate!==null&&R.delete(H.key===null?U:H.key),x=o(H,x,U),O===null?A=H:O.sibling=H,O=H);return t&&R.forEach(function(j){return e(w,j)}),ze&&zr(w,U),A}function _(w,x,S,k){var A=ba(S);if(typeof A!="function")throw Error(Y(150));if(S=A.call(S),S==null)throw Error(Y(151));for(var O=A=null,R=x,U=x=0,H=null,q=S.next();R!==null&&!q.done;U++,q=S.next()){R.index>U?(H=R,R=null):H=R.sibling;var j=m(w,R,q.value,k);if(j===null){R===null&&(R=H);break}t&&R&&j.alternate===null&&e(w,R),x=o(j,x,U),O===null?A=j:O.sibling=j,O=j,R=H}if(q.done)return n(w,R),ze&&zr(w,U),A;if(R===null){for(;!q.done;U++,q=S.next())q=p(w,q.value,k),q!==null&&(x=o(q,x,U),O===null?A=q:O.sibling=q,O=q);return ze&&zr(w,U),A}for(R=i(w,R);!q.done;U++,q=S.next())q=v(R,w,U,q.value,k),q!==null&&(t&&q.alternate!==null&&R.delete(q.key===null?U:q.key),x=o(q,x,U),O===null?A=q:O.sibling=q,O=q);return t&&R.forEach(function(M){return e(w,M)}),ze&&zr(w,U),A}function E(w,x,S,k){if(typeof S=="object"&&S!==null&&S.type===Gs&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Zc:e:{for(var A=S.key,O=x;O!==null;){if(O.key===A){if(A=S.type,A===Gs){if(O.tag===7){n(w,O.sibling),x=r(O,S.props.children),x.return=w,w=x;break e}}else if(O.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===$i&&Mx(A)===O.type){n(w,O.sibling),x=r(O,S.props),x.ref=Ta(w,O,S),x.return=w,w=x;break e}n(w,O);break}else e(w,O);O=O.sibling}S.type===Gs?(x=Jr(S.props.children,w.mode,k,S.key),x.return=w,w=x):(k=Bu(S.type,S.key,S.props,null,w.mode,k),k.ref=Ta(w,x,S),k.return=w,w=k)}return a(w);case qs:e:{for(O=S.key;x!==null;){if(x.key===O)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(w,x.sibling),x=r(x,S.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else e(w,x);x=x.sibling}x=ep(S,w.mode,k),x.return=w,w=x}return a(w);case $i:return O=S._init,E(w,x,O(S._payload),k)}if(Ba(S))return C(w,x,S,k);if(ba(S))return _(w,x,S,k);ru(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(n(w,x.sibling),x=r(x,S),x.return=w,w=x):(n(w,x),x=Jf(S,w.mode,k),x.return=w,w=x),a(w)):n(w,x)}return E}var Lo=bS(!0),CS=bS(!1),md=Pr(null),gd=null,io=null,E0=null;function P0(){E0=io=gd=null}function T0(t){var e=md.current;Fe(md),t._currentValue=e}function _m(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function yo(t,e){gd=t,E0=io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function pn(t){var e=t._currentValue;if(E0!==t)if(t={context:t,memoizedValue:e,next:null},io===null){if(gd===null)throw Error(Y(308));io=t,gd.dependencies={lanes:0,firstContext:t}}else io=io.next=t;return e}var Zr=null;function k0(t){Zr===null?Zr=[t]:Zr.push(t)}function SS(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,k0(e)):(n.next=r.next,r.next=n),e.interleaved=n,Si(t,i)}function Si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hi=!1;function A0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ES(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ir(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Ce&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Si(t,n)}return r=i.interleaved,r===null?(e.next=e,k0(i)):(e.next=r.next,r.next=e),i.interleaved=e,Si(t,n)}function Lu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,p0(t,n)}}function Ox(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vd(t,e,n,i){var r=t.updateQueue;Hi=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,c=r.shared.pending;if(c!==null){r.shared.pending=null;var u=c,d=u.next;u.next=null,a===null?o=d:a.next=d,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==a&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=u))}if(o!==null){var p=r.baseState;a=0,f=d=u=null,c=o;do{var m=c.lane,v=c.eventTime;if((i&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var C=t,_=c;switch(m=e,v=n,_.tag){case 1:if(C=_.payload,typeof C=="function"){p=C.call(v,p,m);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=_.payload,m=typeof C=="function"?C.call(v,p,m):C,m==null)break e;p=He({},p,m);break e;case 2:Hi=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,m=r.effects,m===null?r.effects=[c]:m.push(c))}else v={eventTime:v,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=v,u=p):f=f.next=v,a|=m;if(c=c.next,c===null){if(c=r.shared.pending,c===null)break;m=c,c=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(f===null&&(u=p),r.baseState=u,r.firstBaseUpdate=d,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);ls|=a,t.lanes=a,t.memoizedState=p}}function Dx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(Y(191,r));r.call(i)}}}var sc={},Wn=Pr(sc),El=Pr(sc),Pl=Pr(sc);function qr(t){if(t===sc)throw Error(Y(174));return t}function N0(t,e){switch(Le(Pl,e),Le(El,t),Le(Wn,sc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jp(e,t)}Fe(Wn),Le(Wn,e)}function Mo(){Fe(Wn),Fe(El),Fe(Pl)}function PS(t){qr(Pl.current);var e=qr(Wn.current),n=Jp(e,t.type);e!==n&&(Le(El,t),Le(Wn,n))}function I0(t){El.current===t&&(Fe(Wn),Fe(El))}var Ue=Pr(0);function yd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zf=[];function R0(){for(var t=0;t<Zf.length;t++)Zf[t]._workInProgressVersionPrimary=null;Zf.length=0}var Mu=Ii.ReactCurrentDispatcher,qf=Ii.ReactCurrentBatchConfig,as=0,$e=null,tt=null,lt=null,_d=!1,Qa=!1,Tl=0,eL=0;function yt(){throw Error(Y(321))}function L0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nn(t[n],e[n]))return!1;return!0}function M0(t,e,n,i,r,o){if(as=o,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mu.current=t===null||t.memoizedState===null?rL:sL,t=n(i,r),Qa){o=0;do{if(Qa=!1,Tl=0,25<=o)throw Error(Y(301));o+=1,lt=tt=null,e.updateQueue=null,Mu.current=oL,t=n(i,r)}while(Qa)}if(Mu.current=xd,e=tt!==null&&tt.next!==null,as=0,lt=tt=$e=null,_d=!1,e)throw Error(Y(300));return t}function O0(){var t=Tl!==0;return Tl=0,t}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?$e.memoizedState=lt=t:lt=lt.next=t,lt}function mn(){if(tt===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=lt===null?$e.memoizedState:lt.next;if(e!==null)lt=e,tt=t;else{if(t===null)throw Error(Y(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},lt===null?$e.memoizedState=lt=t:lt=lt.next=t}return lt}function kl(t,e){return typeof e=="function"?e(t):e}function Gf(t){var e=mn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var i=tt,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var c=a=null,u=null,d=o;do{var f=d.lane;if((as&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:t(i,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=p,a=i):u=u.next=p,$e.lanes|=f,ls|=f}d=d.next}while(d!==null&&d!==o);u===null?a=i:u.next=c,Nn(i,e.memoizedState)||(Ft=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=u,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,$e.lanes|=o,ls|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yf(t){var e=mn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do o=t(o,a.action),a=a.next;while(a!==r);Nn(o,e.memoizedState)||(Ft=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function TS(){}function kS(t,e){var n=$e,i=mn(),r=e(),o=!Nn(i.memoizedState,r);if(o&&(i.memoizedState=r,Ft=!0),i=i.queue,D0(IS.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,Al(9,NS.bind(null,n,i,r,e),void 0,null),dt===null)throw Error(Y(349));as&30||AS(n,e,r)}return r}function AS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function NS(t,e,n,i){e.value=n,e.getSnapshot=i,RS(e)&&LS(t)}function IS(t,e,n){return n(function(){RS(e)&&LS(t)})}function RS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nn(t,n)}catch{return!0}}function LS(t){var e=Si(t,1);e!==null&&Tn(e,t,1,-1)}function jx(t){var e=Fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kl,lastRenderedState:t},e.queue=t,t=t.dispatch=iL.bind(null,$e,t),[e.memoizedState,t]}function Al(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function MS(){return mn().memoizedState}function Ou(t,e,n,i){var r=Fn();$e.flags|=t,r.memoizedState=Al(1|e,n,void 0,i===void 0?null:i)}function vh(t,e,n,i){var r=mn();i=i===void 0?null:i;var o=void 0;if(tt!==null){var a=tt.memoizedState;if(o=a.destroy,i!==null&&L0(i,a.deps)){r.memoizedState=Al(e,n,o,i);return}}$e.flags|=t,r.memoizedState=Al(1|e,n,o,i)}function Fx(t,e){return Ou(8390656,8,t,e)}function D0(t,e){return vh(2048,8,t,e)}function OS(t,e){return vh(4,2,t,e)}function DS(t,e){return vh(4,4,t,e)}function jS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FS(t,e,n){return n=n!=null?n.concat([t]):null,vh(4,4,jS.bind(null,e,t),n)}function j0(){}function BS(t,e){var n=mn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&L0(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function zS(t,e){var n=mn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&L0(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function VS(t,e,n){return as&21?(Nn(n,e)||(n=KC(),$e.lanes|=n,ls|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n)}function tL(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var i=qf.transition;qf.transition={};try{t(!1),e()}finally{Pe=n,qf.transition=i}}function US(){return mn().memoizedState}function nL(t,e,n){var i=sr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},WS(t))$S(e,n);else if(n=SS(t,e,n,i),n!==null){var r=Rt();Tn(n,t,i,r),HS(n,e,i)}}function iL(t,e,n){var i=sr(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(WS(t))$S(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,c=o(a,n);if(r.hasEagerState=!0,r.eagerState=c,Nn(c,a)){var u=e.interleaved;u===null?(r.next=r,k0(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}n=SS(t,e,r,i),n!==null&&(r=Rt(),Tn(n,t,i,r),HS(n,e,i))}}function WS(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function $S(t,e){Qa=_d=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function HS(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,p0(t,n)}}var xd={readContext:pn,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},rL={readContext:pn,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:pn,useEffect:Fx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ou(4194308,4,jS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ou(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ou(4,2,t,e)},useMemo:function(t,e){var n=Fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Fn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=nL.bind(null,$e,t),[i.memoizedState,t]},useRef:function(t){var e=Fn();return t={current:t},e.memoizedState=t},useState:jx,useDebugValue:j0,useDeferredValue:function(t){return Fn().memoizedState=t},useTransition:function(){var t=jx(!1),e=t[0];return t=tL.bind(null,t[1]),Fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=$e,r=Fn();if(ze){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),dt===null)throw Error(Y(349));as&30||AS(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,Fx(IS.bind(null,i,o,t),[t]),i.flags|=2048,Al(9,NS.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Fn(),e=dt.identifierPrefix;if(ze){var n=ci,i=li;n=(i&~(1<<32-Pn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=eL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sL={readContext:pn,useCallback:BS,useContext:pn,useEffect:D0,useImperativeHandle:FS,useInsertionEffect:OS,useLayoutEffect:DS,useMemo:zS,useReducer:Gf,useRef:MS,useState:function(){return Gf(kl)},useDebugValue:j0,useDeferredValue:function(t){var e=mn();return VS(e,tt.memoizedState,t)},useTransition:function(){var t=Gf(kl)[0],e=mn().memoizedState;return[t,e]},useMutableSource:TS,useSyncExternalStore:kS,useId:US,unstable_isNewReconciler:!1},oL={readContext:pn,useCallback:BS,useContext:pn,useEffect:D0,useImperativeHandle:FS,useInsertionEffect:OS,useLayoutEffect:DS,useMemo:zS,useReducer:Yf,useRef:MS,useState:function(){return Yf(kl)},useDebugValue:j0,useDeferredValue:function(t){var e=mn();return tt===null?e.memoizedState=t:VS(e,tt.memoizedState,t)},useTransition:function(){var t=Yf(kl)[0],e=mn().memoizedState;return[t,e]},useMutableSource:TS,useSyncExternalStore:kS,useId:US,unstable_isNewReconciler:!1};function xn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xm(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yh={isMounted:function(t){return(t=t._reactInternals)?_s(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Rt(),r=sr(t),o=fi(i,r);o.payload=e,n!=null&&(o.callback=n),e=ir(t,o,r),e!==null&&(Tn(e,t,r,i),Lu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Rt(),r=sr(t),o=fi(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ir(t,o,r),e!==null&&(Tn(e,t,r,i),Lu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),i=sr(t),r=fi(n,i);r.tag=2,e!=null&&(r.callback=e),e=ir(t,r,i),e!==null&&(Tn(e,t,i,n),Lu(e,t,i))}};function Bx(t,e,n,i,r,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,a):e.prototype&&e.prototype.isPureReactComponent?!wl(n,i)||!wl(r,o):!0}function KS(t,e,n){var i=!1,r=hr,o=e.contextType;return typeof o=="object"&&o!==null?o=pn(o):(r=Ut(e)?ss:kt.current,i=e.contextTypes,o=(i=i!=null)?Io(t,r):hr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yh,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function zx(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&yh.enqueueReplaceState(e,e.state,null)}function wm(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},A0(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=pn(o):(o=Ut(e)?ss:kt.current,r.context=Io(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(xm(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&yh.enqueueReplaceState(r,r.state,null),vd(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Oo(t,e){try{var n="",i=e;do n+=MI(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function Qf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var aL=typeof WeakMap=="function"?WeakMap:Map;function ZS(t,e,n){n=fi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){bd||(bd=!0,Rm=i),bm(t,e)},n}function qS(t,e,n){n=fi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){bm(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){bm(t,e),typeof i!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Vx(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new aL;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=wL.bind(null,t,e,n),e.then(t,t))}function Ux(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Wx(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fi(-1,1),e.tag=2,ir(n,e,1))),n.lanes|=1),t)}var lL=Ii.ReactCurrentOwner,Ft=!1;function Nt(t,e,n,i){e.child=t===null?CS(e,null,n,i):Lo(e,t.child,n,i)}function $x(t,e,n,i,r){n=n.render;var o=e.ref;return yo(e,r),i=M0(t,e,n,i,o,r),n=O0(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ei(t,e,r)):(ze&&n&&b0(e),e.flags|=1,Nt(t,e,i,r),e.child)}function Hx(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!H0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,GS(t,e,o,i,r)):(t=Bu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:wl,n(a,i)&&t.ref===e.ref)return Ei(t,e,r)}return e.flags|=1,t=or(o,i),t.ref=e.ref,t.return=e,e.child=t}function GS(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(wl(o,i)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,Ei(t,e,r)}return Cm(t,e,n,i,r)}function YS(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(so,Kt),Kt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(so,Kt),Kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,Le(so,Kt),Kt|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,Le(so,Kt),Kt|=i;return Nt(t,e,r,n),e.child}function QS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cm(t,e,n,i,r){var o=Ut(n)?ss:kt.current;return o=Io(e,o),yo(e,r),n=M0(t,e,n,i,o,r),i=O0(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ei(t,e,r)):(ze&&i&&b0(e),e.flags|=1,Nt(t,e,n,r),e.child)}function Kx(t,e,n,i,r){if(Ut(n)){var o=!0;hd(e)}else o=!1;if(yo(e,r),e.stateNode===null)Du(t,e),KS(e,n,i),wm(e,n,i,r),i=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var u=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=pn(d):(d=Ut(n)?ss:kt.current,d=Io(e,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==i||u!==d)&&zx(e,a,i,d),Hi=!1;var m=e.memoizedState;a.state=m,vd(e,i,a,r),u=e.memoizedState,c!==i||m!==u||Vt.current||Hi?(typeof f=="function"&&(xm(e,n,f,i),u=e.memoizedState),(c=Hi||Bx(e,n,c,i,m,u,d))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),a.props=i,a.state=u,a.context=d,i=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,ES(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:xn(e.type,c),a.props=d,p=e.pendingProps,m=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=pn(u):(u=Ut(n)?ss:kt.current,u=Io(e,u));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==p||m!==u)&&zx(e,a,i,u),Hi=!1,m=e.memoizedState,a.state=m,vd(e,i,a,r);var C=e.memoizedState;c!==p||m!==C||Vt.current||Hi?(typeof v=="function"&&(xm(e,n,v,i),C=e.memoizedState),(d=Hi||Bx(e,n,d,i,m,C,u)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,C,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,C,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=C),a.props=i,a.state=C,a.context=u,i=d):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),i=!1)}return Sm(t,e,n,i,o,r)}function Sm(t,e,n,i,r,o){QS(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&Ix(e,n,!1),Ei(t,e,o);i=e.stateNode,lL.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=Lo(e,t.child,null,o),e.child=Lo(e,null,c,o)):Nt(t,e,c,o),e.memoizedState=i.state,r&&Ix(e,n,!0),e.child}function XS(t){var e=t.stateNode;e.pendingContext?Nx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nx(t,e.context,!1),N0(t,e.containerInfo)}function Zx(t,e,n,i,r){return Ro(),S0(r),e.flags|=256,Nt(t,e,n,i),e.child}var Em={dehydrated:null,treeContext:null,retryLane:0};function Pm(t){return{baseLanes:t,cachePool:null,transitions:null}}function JS(t,e,n){var i=e.pendingProps,r=Ue.current,o=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(r&2)!==0),c?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Le(Ue,r&1),t===null)return ym(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,o?(i=e.mode,o=e.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=wh(a,i,0,null),t=Jr(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Pm(n),e.memoizedState=Em,t):F0(e,a));if(r=t.memoizedState,r!==null&&(c=r.dehydrated,c!==null))return cL(t,e,a,i,c,r,n);if(o){o=i.fallback,a=e.mode,r=t.child,c=r.sibling;var u={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=u,e.deletions=null):(i=or(r,u),i.subtreeFlags=r.subtreeFlags&14680064),c!==null?o=or(c,o):(o=Jr(o,a,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,a=t.child.memoizedState,a=a===null?Pm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Em,i}return o=t.child,t=o.sibling,i=or(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function F0(t,e){return e=wh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function su(t,e,n,i){return i!==null&&S0(i),Lo(e,t.child,null,n),t=F0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cL(t,e,n,i,r,o,a){if(n)return e.flags&256?(e.flags&=-257,i=Qf(Error(Y(422))),su(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=wh({mode:"visible",children:i.children},r,0,null),o=Jr(o,r,a,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Lo(e,t.child,null,a),e.child.memoizedState=Pm(a),e.memoizedState=Em,o);if(!(e.mode&1))return su(t,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var c=i.dgst;return i=c,o=Error(Y(419)),i=Qf(o,i,void 0),su(t,e,a,i)}if(c=(a&t.childLanes)!==0,Ft||c){if(i=dt,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,Si(t,r),Tn(i,t,r,-1))}return $0(),i=Qf(Error(Y(421))),su(t,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=bL.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,qt=nr(r.nextSibling),Gt=e,ze=!0,bn=null,t!==null&&(un[dn++]=li,un[dn++]=ci,un[dn++]=os,li=t.id,ci=t.overflow,os=e),e=F0(e,i.children),e.flags|=4096,e)}function qx(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),_m(t.return,e,n)}function Xf(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function eE(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(Nt(t,e,i.children,n),i=Ue.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qx(t,n,e);else if(t.tag===19)qx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Le(Ue,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&yd(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Xf(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&yd(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Xf(e,!0,n,null,o);break;case"together":Xf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Du(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ei(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ls|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=or(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=or(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uL(t,e,n){switch(e.tag){case 3:XS(e),Ro();break;case 5:PS(e);break;case 1:Ut(e.type)&&hd(e);break;case 4:N0(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Le(md,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Le(Ue,Ue.current&1),e.flags|=128,null):n&e.child.childLanes?JS(t,e,n):(Le(Ue,Ue.current&1),t=Ei(t,e,n),t!==null?t.sibling:null);Le(Ue,Ue.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return eE(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Le(Ue,Ue.current),i)break;return null;case 22:case 23:return e.lanes=0,YS(t,e,n)}return Ei(t,e,n)}var tE,Tm,nE,iE;tE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tm=function(){};nE=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,qr(Wn.current);var o=null;switch(n){case"input":r=Gp(t,r),i=Gp(t,i),o=[];break;case"select":r=He({},r,{value:void 0}),i=He({},i,{value:void 0}),o=[];break;case"textarea":r=Xp(t,r),i=Xp(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=ud)}em(n,i);var a;n=null;for(d in r)if(!i.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var c=r[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(pl.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in i){var u=i[d];if(c=r!=null?r[d]:void 0,i.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(o=o||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(pl.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Oe("scroll",t),o||c===u||(o=[])):(o=o||[]).push(d,u))}n&&(o=o||[]).push("style",n);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};iE=function(t,e,n,i){n!==i&&(e.flags|=4)};function ka(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function dL(t,e,n){var i=e.pendingProps;switch(C0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return Ut(e.type)&&dd(),_t(e),null;case 3:return i=e.stateNode,Mo(),Fe(Vt),Fe(kt),R0(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(iu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bn!==null&&(Om(bn),bn=null))),Tm(t,e),_t(e),null;case 5:I0(e);var r=qr(Pl.current);if(n=e.type,t!==null&&e.stateNode!=null)nE(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Y(166));return _t(e),null}if(t=qr(Wn.current),iu(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[zn]=e,i[Sl]=o,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(r=0;r<Va.length;r++)Oe(Va[r],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":ix(i,o),Oe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Oe("invalid",i);break;case"textarea":sx(i,o),Oe("invalid",i)}em(n,o),r=null;for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="children"?typeof c=="string"?i.textContent!==c&&(o.suppressHydrationWarning!==!0&&nu(i.textContent,c,t),r=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&nu(i.textContent,c,t),r=["children",""+c]):pl.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Oe("scroll",i)}switch(n){case"input":qc(i),rx(i,o,!0);break;case"textarea":qc(i),ox(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=ud)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[zn]=e,t[Sl]=i,tE(t,e,!1,!1),e.stateNode=t;e:{switch(a=tm(n,i),n){case"dialog":Oe("cancel",t),Oe("close",t),r=i;break;case"iframe":case"object":case"embed":Oe("load",t),r=i;break;case"video":case"audio":for(r=0;r<Va.length;r++)Oe(Va[r],t);r=i;break;case"source":Oe("error",t),r=i;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),r=i;break;case"details":Oe("toggle",t),r=i;break;case"input":ix(t,i),r=Gp(t,i),Oe("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=He({},i,{value:void 0}),Oe("invalid",t);break;case"textarea":sx(t,i),r=Xp(t,i),Oe("invalid",t);break;default:r=i}em(n,r),c=r;for(o in c)if(c.hasOwnProperty(o)){var u=c[o];o==="style"?MC(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&RC(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ml(t,u):typeof u=="number"&&ml(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(pl.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Oe("scroll",t):u!=null&&l0(t,o,u,a))}switch(n){case"input":qc(t),rx(t,i,!1);break;case"textarea":qc(t),ox(t);break;case"option":i.value!=null&&t.setAttribute("value",""+dr(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?po(t,!!i.multiple,o,!1):i.defaultValue!=null&&po(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=ud)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)iE(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Y(166));if(n=qr(Pl.current),qr(Wn.current),iu(e)){if(i=e.stateNode,n=e.memoizedProps,i[zn]=e,(o=i.nodeValue!==n)&&(t=Gt,t!==null))switch(t.tag){case 3:nu(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nu(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[zn]=e,e.stateNode=i}return _t(e),null;case 13:if(Fe(Ue),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&qt!==null&&e.mode&1&&!(e.flags&128))wS(),Ro(),e.flags|=98560,o=!1;else if(o=iu(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(Y(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Y(317));o[zn]=e}else Ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),o=!1}else bn!==null&&(Om(bn),bn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Ue.current&1?it===0&&(it=3):$0())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return Mo(),Tm(t,e),t===null&&bl(e.stateNode.containerInfo),_t(e),null;case 10:return T0(e.type._context),_t(e),null;case 17:return Ut(e.type)&&dd(),_t(e),null;case 19:if(Fe(Ue),o=e.memoizedState,o===null)return _t(e),null;if(i=(e.flags&128)!==0,a=o.rendering,a===null)if(i)ka(o,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=yd(t),a!==null){for(e.flags|=128,ka(o,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(Ue,Ue.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ye()>Do&&(e.flags|=128,i=!0,ka(o,!1),e.lanes=4194304)}else{if(!i)if(t=yd(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ka(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ze)return _t(e),null}else 2*Ye()-o.renderingStartTime>Do&&n!==1073741824&&(e.flags|=128,i=!0,ka(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ye(),e.sibling=null,n=Ue.current,Le(Ue,i?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return W0(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Kt&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function hL(t,e){switch(C0(e),e.tag){case 1:return Ut(e.type)&&dd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mo(),Fe(Vt),Fe(kt),R0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return I0(e),null;case 13:if(Fe(Ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(Ue),null;case 4:return Mo(),null;case 10:return T0(e.type._context),null;case 22:case 23:return W0(),null;case 24:return null;default:return null}}var ou=!1,wt=!1,fL=typeof WeakSet=="function"?WeakSet:Set,te=null;function ro(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ke(t,e,i)}else n.current=null}function km(t,e,n){try{n()}catch(i){Ke(t,e,i)}}var Gx=!1;function pL(t,e){if(dm=ad,t=lS(),w0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,c=-1,u=-1,d=0,f=0,p=t,m=null;t:for(;;){for(var v;p!==n||r!==0&&p.nodeType!==3||(c=a+r),p!==o||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===t)break t;if(m===n&&++d===r&&(c=a),m===o&&++f===i&&(u=a),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(hm={focusedElem:t,selectionRange:n},ad=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var _=C.memoizedProps,E=C.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:xn(e.type,_),E);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(k){Ke(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return C=Gx,Gx=!1,C}function Xa(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&km(e,n,o)}r=r.next}while(r!==i)}}function _h(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Am(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rE(t){var e=t.alternate;e!==null&&(t.alternate=null,rE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zn],delete e[Sl],delete e[mm],delete e[YR],delete e[QR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sE(t){return t.tag===5||t.tag===3||t.tag===4}function Yx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nm(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ud));else if(i!==4&&(t=t.child,t!==null))for(Nm(t,e,n),t=t.sibling;t!==null;)Nm(t,e,n),t=t.sibling}function Im(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Im(t,e,n),t=t.sibling;t!==null;)Im(t,e,n),t=t.sibling}var pt=null,wn=!1;function ji(t,e,n){for(n=n.child;n!==null;)oE(t,e,n),n=n.sibling}function oE(t,e,n){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(dh,n)}catch{}switch(n.tag){case 5:wt||ro(n,e);case 6:var i=pt,r=wn;pt=null,ji(t,e,n),pt=i,wn=r,pt!==null&&(wn?(t=pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(wn?(t=pt,n=n.stateNode,t.nodeType===8?Hf(t.parentNode,n):t.nodeType===1&&Hf(t,n),_l(t)):Hf(pt,n.stateNode));break;case 4:i=pt,r=wn,pt=n.stateNode.containerInfo,wn=!0,ji(t,e,n),pt=i,wn=r;break;case 0:case 11:case 14:case 15:if(!wt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&km(n,e,a),r=r.next}while(r!==i)}ji(t,e,n);break;case 1:if(!wt&&(ro(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(c){Ke(n,e,c)}ji(t,e,n);break;case 21:ji(t,e,n);break;case 22:n.mode&1?(wt=(i=wt)||n.memoizedState!==null,ji(t,e,n),wt=i):ji(t,e,n);break;default:ji(t,e,n)}}function Qx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fL),e.forEach(function(i){var r=CL.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function _n(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:pt=c.stateNode,wn=!1;break e;case 3:pt=c.stateNode.containerInfo,wn=!0;break e;case 4:pt=c.stateNode.containerInfo,wn=!0;break e}c=c.return}if(pt===null)throw Error(Y(160));oE(o,a,r),pt=null,wn=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(d){Ke(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aE(e,t),e=e.sibling}function aE(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_n(e,t),jn(t),i&4){try{Xa(3,t,t.return),_h(3,t)}catch(_){Ke(t,t.return,_)}try{Xa(5,t,t.return)}catch(_){Ke(t,t.return,_)}}break;case 1:_n(e,t),jn(t),i&512&&n!==null&&ro(n,n.return);break;case 5:if(_n(e,t),jn(t),i&512&&n!==null&&ro(n,n.return),t.flags&32){var r=t.stateNode;try{ml(r,"")}catch(_){Ke(t,t.return,_)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&AC(r,o),tm(c,a);var d=tm(c,o);for(a=0;a<u.length;a+=2){var f=u[a],p=u[a+1];f==="style"?MC(r,p):f==="dangerouslySetInnerHTML"?RC(r,p):f==="children"?ml(r,p):l0(r,f,p,d)}switch(c){case"input":Yp(r,o);break;case"textarea":NC(r,o);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?po(r,!!o.multiple,v,!1):m!==!!o.multiple&&(o.defaultValue!=null?po(r,!!o.multiple,o.defaultValue,!0):po(r,!!o.multiple,o.multiple?[]:"",!1))}r[Sl]=o}catch(_){Ke(t,t.return,_)}}break;case 6:if(_n(e,t),jn(t),i&4){if(t.stateNode===null)throw Error(Y(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(_){Ke(t,t.return,_)}}break;case 3:if(_n(e,t),jn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{_l(e.containerInfo)}catch(_){Ke(t,t.return,_)}break;case 4:_n(e,t),jn(t);break;case 13:_n(e,t),jn(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(V0=Ye())),i&4&&Qx(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(wt=(d=wt)||f,_n(e,t),wt=d):_n(e,t),jn(t),i&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(te=t,f=t.child;f!==null;){for(p=te=f;te!==null;){switch(m=te,v=m.child,m.tag){case 0:case 11:case 14:case 15:Xa(4,m,m.return);break;case 1:ro(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){i=m,n=m.return;try{e=i,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(_){Ke(i,n,_)}}break;case 5:ro(m,m.return);break;case 22:if(m.memoizedState!==null){Jx(p);continue}}v!==null?(v.return=m,te=v):Jx(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{r=p.stateNode,d?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=p.stateNode,u=p.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=LC("display",a))}catch(_){Ke(t,t.return,_)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(_){Ke(t,t.return,_)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:_n(e,t),jn(t),i&4&&Qx(t);break;case 21:break;default:_n(e,t),jn(t)}}function jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sE(n)){var i=n;break e}n=n.return}throw Error(Y(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(ml(r,""),i.flags&=-33);var o=Yx(t);Im(t,o,r);break;case 3:case 4:var a=i.stateNode.containerInfo,c=Yx(t);Nm(t,c,a);break;default:throw Error(Y(161))}}catch(u){Ke(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mL(t,e,n){te=t,lE(t)}function lE(t,e,n){for(var i=(t.mode&1)!==0;te!==null;){var r=te,o=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||ou;if(!a){var c=r.alternate,u=c!==null&&c.memoizedState!==null||wt;c=ou;var d=wt;if(ou=a,(wt=u)&&!d)for(te=r;te!==null;)a=te,u=a.child,a.tag===22&&a.memoizedState!==null?ew(r):u!==null?(u.return=a,te=u):ew(r);for(;o!==null;)te=o,lE(o),o=o.sibling;te=r,ou=c,wt=d}Xx(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,te=o):Xx(t)}}function Xx(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wt||_h(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!wt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:xn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Dx(e,o,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Dx(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&_l(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}wt||e.flags&512&&Am(e)}catch(m){Ke(e,e.return,m)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function Jx(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function ew(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_h(4,e)}catch(u){Ke(e,n,u)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(u){Ke(e,r,u)}}var o=e.return;try{Am(e)}catch(u){Ke(e,o,u)}break;case 5:var a=e.return;try{Am(e)}catch(u){Ke(e,a,u)}}}catch(u){Ke(e,e.return,u)}if(e===t){te=null;break}var c=e.sibling;if(c!==null){c.return=e.return,te=c;break}te=e.return}}var gL=Math.ceil,wd=Ii.ReactCurrentDispatcher,B0=Ii.ReactCurrentOwner,fn=Ii.ReactCurrentBatchConfig,Ce=0,dt=null,Je=null,gt=0,Kt=0,so=Pr(0),it=0,Nl=null,ls=0,xh=0,z0=0,Ja=null,jt=null,V0=0,Do=1/0,ri=null,bd=!1,Rm=null,rr=null,au=!1,Qi=null,Cd=0,el=0,Lm=null,ju=-1,Fu=0;function Rt(){return Ce&6?Ye():ju!==-1?ju:ju=Ye()}function sr(t){return t.mode&1?Ce&2&&gt!==0?gt&-gt:JR.transition!==null?(Fu===0&&(Fu=KC()),Fu):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:JC(t.type)),t):1}function Tn(t,e,n,i){if(50<el)throw el=0,Lm=null,Error(Y(185));nc(t,n,i),(!(Ce&2)||t!==dt)&&(t===dt&&(!(Ce&2)&&(xh|=n),it===4&&qi(t,gt)),Wt(t,i),n===1&&Ce===0&&!(e.mode&1)&&(Do=Ye()+500,gh&&Tr()))}function Wt(t,e){var n=t.callbackNode;JI(t,e);var i=od(t,t===dt?gt:0);if(i===0)n!==null&&cx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&cx(n),e===1)t.tag===0?XR(tw.bind(null,t)):yS(tw.bind(null,t)),qR(function(){!(Ce&6)&&Tr()}),n=null;else{switch(ZC(i)){case 1:n=f0;break;case 4:n=$C;break;case 16:n=sd;break;case 536870912:n=HC;break;default:n=sd}n=gE(n,cE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cE(t,e){if(ju=-1,Fu=0,Ce&6)throw Error(Y(327));var n=t.callbackNode;if(_o()&&t.callbackNode!==n)return null;var i=od(t,t===dt?gt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Sd(t,i);else{e=i;var r=Ce;Ce|=2;var o=dE();(dt!==t||gt!==e)&&(ri=null,Do=Ye()+500,Xr(t,e));do try{_L();break}catch(c){uE(t,c)}while(!0);P0(),wd.current=o,Ce=r,Je!==null?e=0:(dt=null,gt=0,e=it)}if(e!==0){if(e===2&&(r=om(t),r!==0&&(i=r,e=Mm(t,r))),e===1)throw n=Nl,Xr(t,0),qi(t,i),Wt(t,Ye()),n;if(e===6)qi(t,i);else{if(r=t.current.alternate,!(i&30)&&!vL(r)&&(e=Sd(t,i),e===2&&(o=om(t),o!==0&&(i=o,e=Mm(t,o))),e===1))throw n=Nl,Xr(t,0),qi(t,i),Wt(t,Ye()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(Y(345));case 2:Vr(t,jt,ri);break;case 3:if(qi(t,i),(i&130023424)===i&&(e=V0+500-Ye(),10<e)){if(od(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Rt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=pm(Vr.bind(null,t,jt,ri),e);break}Vr(t,jt,ri);break;case 4:if(qi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-Pn(i);o=1<<a,a=e[a],a>r&&(r=a),i&=~o}if(i=r,i=Ye()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*gL(i/1960))-i,10<i){t.timeoutHandle=pm(Vr.bind(null,t,jt,ri),i);break}Vr(t,jt,ri);break;case 5:Vr(t,jt,ri);break;default:throw Error(Y(329))}}}return Wt(t,Ye()),t.callbackNode===n?cE.bind(null,t):null}function Mm(t,e){var n=Ja;return t.current.memoizedState.isDehydrated&&(Xr(t,e).flags|=256),t=Sd(t,e),t!==2&&(e=jt,jt=n,e!==null&&Om(e)),t}function Om(t){jt===null?jt=t:jt.push.apply(jt,t)}function vL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!Nn(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qi(t,e){for(e&=~z0,e&=~xh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),i=1<<n;t[n]=-1,e&=~i}}function tw(t){if(Ce&6)throw Error(Y(327));_o();var e=od(t,0);if(!(e&1))return Wt(t,Ye()),null;var n=Sd(t,e);if(t.tag!==0&&n===2){var i=om(t);i!==0&&(e=i,n=Mm(t,i))}if(n===1)throw n=Nl,Xr(t,0),qi(t,e),Wt(t,Ye()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vr(t,jt,ri),Wt(t,Ye()),null}function U0(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Do=Ye()+500,gh&&Tr())}}function cs(t){Qi!==null&&Qi.tag===0&&!(Ce&6)&&_o();var e=Ce;Ce|=1;var n=fn.transition,i=Pe;try{if(fn.transition=null,Pe=1,t)return t()}finally{Pe=i,fn.transition=n,Ce=e,!(Ce&6)&&Tr()}}function W0(){Kt=so.current,Fe(so)}function Xr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZR(n)),Je!==null)for(n=Je.return;n!==null;){var i=n;switch(C0(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&dd();break;case 3:Mo(),Fe(Vt),Fe(kt),R0();break;case 5:I0(i);break;case 4:Mo();break;case 13:Fe(Ue);break;case 19:Fe(Ue);break;case 10:T0(i.type._context);break;case 22:case 23:W0()}n=n.return}if(dt=t,Je=t=or(t.current,null),gt=Kt=e,it=0,Nl=null,z0=xh=ls=0,jt=Ja=null,Zr!==null){for(e=0;e<Zr.length;e++)if(n=Zr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var a=o.next;o.next=r,i.next=a}n.pending=i}Zr=null}return t}function uE(t,e){do{var n=Je;try{if(P0(),Mu.current=xd,_d){for(var i=$e.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}_d=!1}if(as=0,lt=tt=$e=null,Qa=!1,Tl=0,B0.current=null,n===null||n.return===null){it=1,Nl=e,Je=null;break}e:{var o=t,a=n.return,c=n,u=e;if(e=gt,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=c,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Ux(a);if(v!==null){v.flags&=-257,Wx(v,a,c,o,e),v.mode&1&&Vx(o,d,e),e=v,u=d;var C=e.updateQueue;if(C===null){var _=new Set;_.add(u),e.updateQueue=_}else C.add(u);break e}else{if(!(e&1)){Vx(o,d,e),$0();break e}u=Error(Y(426))}}else if(ze&&c.mode&1){var E=Ux(a);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Wx(E,a,c,o,e),S0(Oo(u,c));break e}}o=u=Oo(u,c),it!==4&&(it=2),Ja===null?Ja=[o]:Ja.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=ZS(o,u,e);Ox(o,w);break e;case 1:c=u;var x=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(rr===null||!rr.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=qS(o,c,e);Ox(o,k);break e}}o=o.return}while(o!==null)}fE(n)}catch(A){e=A,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function dE(){var t=wd.current;return wd.current=xd,t===null?xd:t}function $0(){(it===0||it===3||it===2)&&(it=4),dt===null||!(ls&268435455)&&!(xh&268435455)||qi(dt,gt)}function Sd(t,e){var n=Ce;Ce|=2;var i=dE();(dt!==t||gt!==e)&&(ri=null,Xr(t,e));do try{yL();break}catch(r){uE(t,r)}while(!0);if(P0(),Ce=n,wd.current=i,Je!==null)throw Error(Y(261));return dt=null,gt=0,it}function yL(){for(;Je!==null;)hE(Je)}function _L(){for(;Je!==null&&!$I();)hE(Je)}function hE(t){var e=mE(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,e===null?fE(t):Je=e,B0.current=null}function fE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hL(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,Je=null;return}}else if(n=dL(n,e,Kt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);it===0&&(it=5)}function Vr(t,e,n){var i=Pe,r=fn.transition;try{fn.transition=null,Pe=1,xL(t,e,n,i)}finally{fn.transition=r,Pe=i}return null}function xL(t,e,n,i){do _o();while(Qi!==null);if(Ce&6)throw Error(Y(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(eR(t,o),t===dt&&(Je=dt=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||au||(au=!0,gE(sd,function(){return _o(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=fn.transition,fn.transition=null;var a=Pe;Pe=1;var c=Ce;Ce|=4,B0.current=null,pL(t,n),aE(n,t),zR(hm),ad=!!dm,hm=dm=null,t.current=n,mL(n),HI(),Ce=c,Pe=a,fn.transition=o}else t.current=n;if(au&&(au=!1,Qi=t,Cd=r),o=t.pendingLanes,o===0&&(rr=null),qI(n.stateNode),Wt(t,Ye()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(bd)throw bd=!1,t=Rm,Rm=null,t;return Cd&1&&t.tag!==0&&_o(),o=t.pendingLanes,o&1?t===Lm?el++:(el=0,Lm=t):el=0,Tr(),null}function _o(){if(Qi!==null){var t=ZC(Cd),e=fn.transition,n=Pe;try{if(fn.transition=null,Pe=16>t?16:t,Qi===null)var i=!1;else{if(t=Qi,Qi=null,Cd=0,Ce&6)throw Error(Y(331));var r=Ce;for(Ce|=4,te=t.current;te!==null;){var o=te,a=o.child;if(te.flags&16){var c=o.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(te=d;te!==null;){var f=te;switch(f.tag){case 0:case 11:case 15:Xa(8,f,o)}var p=f.child;if(p!==null)p.return=f,te=p;else for(;te!==null;){f=te;var m=f.sibling,v=f.return;if(rE(f),f===d){te=null;break}if(m!==null){m.return=v,te=m;break}te=v}}}var C=o.alternate;if(C!==null){var _=C.child;if(_!==null){C.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}te=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,te=a;else e:for(;te!==null;){if(o=te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Xa(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,te=w;break e}te=o.return}}var x=t.current;for(te=x;te!==null;){a=te;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,te=S;else e:for(a=x;te!==null;){if(c=te,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:_h(9,c)}}catch(A){Ke(c,c.return,A)}if(c===a){te=null;break e}var k=c.sibling;if(k!==null){k.return=c.return,te=k;break e}te=c.return}}if(Ce=r,Tr(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(dh,t)}catch{}i=!0}return i}finally{Pe=n,fn.transition=e}}return!1}function nw(t,e,n){e=Oo(n,e),e=ZS(t,e,1),t=ir(t,e,1),e=Rt(),t!==null&&(nc(t,1,e),Wt(t,e))}function Ke(t,e,n){if(t.tag===3)nw(t,t,n);else for(;e!==null;){if(e.tag===3){nw(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(rr===null||!rr.has(i))){t=Oo(n,t),t=qS(e,t,1),e=ir(e,t,1),t=Rt(),e!==null&&(nc(e,1,t),Wt(e,t));break}}e=e.return}}function wL(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(gt&n)===n&&(it===4||it===3&&(gt&130023424)===gt&&500>Ye()-V0?Xr(t,0):z0|=n),Wt(t,e)}function pE(t,e){e===0&&(t.mode&1?(e=Qc,Qc<<=1,!(Qc&130023424)&&(Qc=4194304)):e=1);var n=Rt();t=Si(t,e),t!==null&&(nc(t,e,n),Wt(t,n))}function bL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pE(t,n)}function CL(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(Y(314))}i!==null&&i.delete(e),pE(t,n)}var mE;mE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vt.current)Ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ft=!1,uL(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,ze&&e.flags&1048576&&_S(e,pd,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Du(t,e),t=e.pendingProps;var r=Io(e,kt.current);yo(e,n),r=M0(null,e,i,t,r,n);var o=O0();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ut(i)?(o=!0,hd(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,A0(e),r.updater=yh,e.stateNode=r,r._reactInternals=e,wm(e,i,t,n),e=Sm(null,e,i,!0,o,n)):(e.tag=0,ze&&o&&b0(e),Nt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Du(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=EL(i),t=xn(i,t),r){case 0:e=Cm(null,e,i,t,n);break e;case 1:e=Kx(null,e,i,t,n);break e;case 11:e=$x(null,e,i,t,n);break e;case 14:e=Hx(null,e,i,xn(i.type,t),n);break e}throw Error(Y(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xn(i,r),Cm(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xn(i,r),Kx(t,e,i,r,n);case 3:e:{if(XS(e),t===null)throw Error(Y(387));i=e.pendingProps,o=e.memoizedState,r=o.element,ES(t,e),vd(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=Oo(Error(Y(423)),e),e=Zx(t,e,i,n,r);break e}else if(i!==r){r=Oo(Error(Y(424)),e),e=Zx(t,e,i,n,r);break e}else for(qt=nr(e.stateNode.containerInfo.firstChild),Gt=e,ze=!0,bn=null,n=CS(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ro(),i===r){e=Ei(t,e,n);break e}Nt(t,e,i,n)}e=e.child}return e;case 5:return PS(e),t===null&&ym(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,a=r.children,fm(i,r)?a=null:o!==null&&fm(i,o)&&(e.flags|=32),QS(t,e),Nt(t,e,a,n),e.child;case 6:return t===null&&ym(e),null;case 13:return JS(t,e,n);case 4:return N0(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Lo(e,null,i,n):Nt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xn(i,r),$x(t,e,i,r,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,Le(md,i._currentValue),i._currentValue=a,o!==null)if(Nn(o.value,a)){if(o.children===r.children&&!Vt.current){e=Ei(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){a=o.child;for(var u=c.firstContext;u!==null;){if(u.context===i){if(o.tag===1){u=fi(-1,n&-n),u.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),_m(o.return,n,e),c.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Y(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),_m(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Nt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,yo(e,n),r=pn(r),i=i(r),e.flags|=1,Nt(t,e,i,n),e.child;case 14:return i=e.type,r=xn(i,e.pendingProps),r=xn(i.type,r),Hx(t,e,i,r,n);case 15:return GS(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xn(i,r),Du(t,e),e.tag=1,Ut(i)?(t=!0,hd(e)):t=!1,yo(e,n),KS(e,i,r),wm(e,i,r,n),Sm(null,e,i,!0,t,n);case 19:return eE(t,e,n);case 22:return YS(t,e,n)}throw Error(Y(156,e.tag))};function gE(t,e){return WC(t,e)}function SL(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,i){return new SL(t,e,n,i)}function H0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function EL(t){if(typeof t=="function")return H0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===u0)return 11;if(t===d0)return 14}return 2}function or(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bu(t,e,n,i,r,o){var a=2;if(i=t,typeof t=="function")H0(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Gs:return Jr(n.children,r,o,e);case c0:a=8,r|=8;break;case Hp:return t=hn(12,n,e,r|2),t.elementType=Hp,t.lanes=o,t;case Kp:return t=hn(13,n,e,r),t.elementType=Kp,t.lanes=o,t;case Zp:return t=hn(19,n,e,r),t.elementType=Zp,t.lanes=o,t;case PC:return wh(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case SC:a=10;break e;case EC:a=9;break e;case u0:a=11;break e;case d0:a=14;break e;case $i:a=16,i=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=hn(a,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function Jr(t,e,n,i){return t=hn(7,t,i,e),t.lanes=n,t}function wh(t,e,n,i){return t=hn(22,t,i,e),t.elementType=PC,t.lanes=n,t.stateNode={isHidden:!1},t}function Jf(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function ep(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PL(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mf(0),this.expirationTimes=Mf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mf(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function K0(t,e,n,i,r,o,a,c,u){return t=new PL(t,e,n,c,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=hn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},A0(o),t}function TL(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qs,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function vE(t){if(!t)return hr;t=t._reactInternals;e:{if(_s(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(Ut(n))return vS(t,n,e)}return e}function yE(t,e,n,i,r,o,a,c,u){return t=K0(n,i,!0,t,r,o,a,c,u),t.context=vE(null),n=t.current,i=Rt(),r=sr(n),o=fi(i,r),o.callback=e??null,ir(n,o,r),t.current.lanes=r,nc(t,r,i),Wt(t,i),t}function bh(t,e,n,i){var r=e.current,o=Rt(),a=sr(r);return n=vE(n),e.context===null?e.context=n:e.pendingContext=n,e=fi(o,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=ir(r,e,a),t!==null&&(Tn(t,r,a,o),Lu(t,r,a)),a}function Ed(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function iw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Z0(t,e){iw(t,e),(t=t.alternate)&&iw(t,e)}function kL(){return null}var _E=typeof reportError=="function"?reportError:function(t){console.error(t)};function q0(t){this._internalRoot=t}Ch.prototype.render=q0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));bh(t,e,null,null)};Ch.prototype.unmount=q0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cs(function(){bh(null,t,null,null)}),e[Ci]=null}};function Ch(t){this._internalRoot=t}Ch.prototype.unstable_scheduleHydration=function(t){if(t){var e=YC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zi.length&&e!==0&&e<Zi[n].priority;n++);Zi.splice(n,0,t),n===0&&XC(t)}};function G0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rw(){}function AL(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var d=Ed(a);o.call(d)}}var a=yE(e,i,t,0,null,!1,!1,"",rw);return t._reactRootContainer=a,t[Ci]=a.current,bl(t.nodeType===8?t.parentNode:t),cs(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var c=i;i=function(){var d=Ed(u);c.call(d)}}var u=K0(t,0,!1,null,null,!1,!1,"",rw);return t._reactRootContainer=u,t[Ci]=u.current,bl(t.nodeType===8?t.parentNode:t),cs(function(){bh(e,u,n,i)}),u}function Eh(t,e,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if(typeof r=="function"){var c=r;r=function(){var u=Ed(a);c.call(u)}}bh(e,a,t,r)}else a=AL(n,e,t,r,i);return Ed(a)}qC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=za(e.pendingLanes);n!==0&&(p0(e,n|1),Wt(e,Ye()),!(Ce&6)&&(Do=Ye()+500,Tr()))}break;case 13:cs(function(){var i=Si(t,1);if(i!==null){var r=Rt();Tn(i,t,1,r)}}),Z0(t,1)}};m0=function(t){if(t.tag===13){var e=Si(t,134217728);if(e!==null){var n=Rt();Tn(e,t,134217728,n)}Z0(t,134217728)}};GC=function(t){if(t.tag===13){var e=sr(t),n=Si(t,e);if(n!==null){var i=Rt();Tn(n,t,e,i)}Z0(t,e)}};YC=function(){return Pe};QC=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};im=function(t,e,n){switch(e){case"input":if(Yp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=mh(i);if(!r)throw Error(Y(90));kC(i),Yp(i,r)}}}break;case"textarea":NC(t,n);break;case"select":e=n.value,e!=null&&po(t,!!n.multiple,e,!1)}};jC=U0;FC=cs;var NL={usingClientEntryPoint:!1,Events:[rc,Js,mh,OC,DC,U0]},Aa={findFiberByHostInstance:Kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IL={bundleType:Aa.bundleType,version:Aa.version,rendererPackageName:Aa.rendererPackageName,rendererConfig:Aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=VC(t),t===null?null:t.stateNode},findFiberByHostInstance:Aa.findFiberByHostInstance||kL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{dh=lu.inject(IL),Un=lu}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NL;tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!G0(e))throw Error(Y(200));return TL(t,e,null,n)};tn.createRoot=function(t,e){if(!G0(t))throw Error(Y(299));var n=!1,i="",r=_E;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=K0(t,1,!1,null,null,n,!1,i,r),t[Ci]=e.current,bl(t.nodeType===8?t.parentNode:t),new q0(e)};tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=VC(e),t=t===null?null:t.stateNode,t};tn.flushSync=function(t){return cs(t)};tn.hydrate=function(t,e,n){if(!Sh(e))throw Error(Y(200));return Eh(null,t,e,!0,n)};tn.hydrateRoot=function(t,e,n){if(!G0(t))throw Error(Y(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",a=_E;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=yE(e,null,t,1,n??null,r,!1,o,a),t[Ci]=e.current,bl(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Ch(e)};tn.render=function(t,e,n){if(!Sh(e))throw Error(Y(200));return Eh(null,t,e,!1,n)};tn.unmountComponentAtNode=function(t){if(!Sh(t))throw Error(Y(40));return t._reactRootContainer?(cs(function(){Eh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ci]=null})}),!0):!1};tn.unstable_batchedUpdates=U0;tn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Sh(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return Eh(t,e,n,!1,i)};tn.version="18.3.1-next-f1338f8080-20240426";function xE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xE)}catch(t){console.error(t)}}xE(),xC.exports=tn;var oc=xC.exports;const RL=t0(oc);var wE,sw=oc;wE=sw.createRoot,sw.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Il.apply(this,arguments)}var Xi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xi||(Xi={}));const ow="popstate";function LL(t){t===void 0&&(t={});function e(i,r){let{pathname:o,search:a,hash:c}=i.location;return Dm("",{pathname:o,search:a,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:CE(r)}return OL(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ML(){return Math.random().toString(36).substr(2,8)}function aw(t,e){return{usr:t.state,key:t.key,idx:e}}function Dm(t,e,n,i){return n===void 0&&(n=null),Il({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yo(e):e,{state:n,key:e&&e.key||i||ML()})}function CE(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Yo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function OL(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,a=r.history,c=Xi.Pop,u=null,d=f();d==null&&(d=0,a.replaceState(Il({},a.state,{idx:d}),""));function f(){return(a.state||{idx:null}).idx}function p(){c=Xi.Pop;let E=f(),w=E==null?null:E-d;d=E,u&&u({action:c,location:_.location,delta:w})}function m(E,w){c=Xi.Push;let x=Dm(_.location,E,w);d=f()+1;let S=aw(x,d),k=_.createHref(x);try{a.pushState(S,"",k)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;r.location.assign(k)}o&&u&&u({action:c,location:_.location,delta:1})}function v(E,w){c=Xi.Replace;let x=Dm(_.location,E,w);d=f();let S=aw(x,d),k=_.createHref(x);a.replaceState(S,"",k),o&&u&&u({action:c,location:_.location,delta:0})}function C(E){let w=r.location.origin!=="null"?r.location.origin:r.location.href,x=typeof E=="string"?E:CE(E);return x=x.replace(/ $/,"%20"),rt(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let _={get action(){return c},get location(){return t(r,a)},listen(E){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(ow,p),u=E,()=>{r.removeEventListener(ow,p),u=null}},createHref(E){return e(r,E)},createURL:C,encodeLocation(E){let w=C(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:v,go(E){return a.go(E)}};return _}var lw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lw||(lw={}));function DL(t,e,n){return n===void 0&&(n="/"),jL(t,e,n,!1)}function jL(t,e,n,i){let r=typeof e=="string"?Yo(e):e,o=PE(r.pathname||"/",n);if(o==null)return null;let a=SE(t);FL(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let d=GL(o);c=ZL(a[u],d,i)}return c}function SE(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(o,a,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(rt(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let d=es([i,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(rt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),SE(o.children,e,f,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:HL(d,o.index),routesMeta:f})};return t.forEach((o,a)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))r(o,a);else for(let u of EE(o.path))r(o,a,u)}),e}function EE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let a=EE(i.join("/")),c=[];return c.push(...a.map(u=>u===""?o:[o,u].join("/"))),r&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function FL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KL(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const BL=/^:[\w-]+$/,zL=3,VL=2,UL=1,WL=10,$L=-2,cw=t=>t==="*";function HL(t,e){let n=t.split("/"),i=n.length;return n.some(cw)&&(i+=$L),e&&(i+=VL),n.filter(r=>!cw(r)).reduce((r,o)=>r+(BL.test(o)?zL:o===""?UL:WL),i)}function KL(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function ZL(t,e,n){let{routesMeta:i}=t,r={},o="/",a=[];for(let c=0;c<i.length;++c){let u=i[c],d=c===i.length-1,f=o==="/"?e:e.slice(o.length)||"/",p=uw({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),m=u.route;if(!p&&d&&n&&!i[i.length-1].route.index&&(p=uw({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(r,p.params),a.push({params:r,pathname:es([o,p.pathname]),pathnameBase:tM(es([o,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(o=es([o,p.pathnameBase]))}return a}function uw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=qL(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],a=o.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((d,f,p)=>{let{paramName:m,isOptional:v}=f;if(m==="*"){let _=c[p]||"";a=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const C=c[p];return v&&!C?d[m]=void 0:d[m]=(C||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:t}}function qL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),bE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(i.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function GL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function PE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function YL(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Yo(t):t;return{pathname:n?n.startsWith("/")?n:QL(n,e):e,search:nM(i),hash:iM(r)}}function QL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function tp(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function JL(t,e){let n=XL(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function eM(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Yo(t):(r=Il({},t),rt(!r.pathname||!r.pathname.includes("?"),tp("?","pathname","search",r)),rt(!r.pathname||!r.pathname.includes("#"),tp("#","pathname","hash",r)),rt(!r.search||!r.search.includes("#"),tp("#","search","hash",r)));let o=t===""||r.pathname==="",a=o?"/":r.pathname,c;if(a==null)c=n;else{let p=e.length-1;if(!i&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;r.pathname=m.join("/")}c=p>=0?e[p]:"/"}let u=YL(r,c),d=a&&a!=="/"&&a.endsWith("/"),f=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const es=t=>t.join("/").replace(/\/\/+/g,"/"),tM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TE=["post","put","patch","delete"];new Set(TE);const sM=["get",...TE];new Set(sM);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rl(){return Rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Rl.apply(this,arguments)}const Y0=T.createContext(null),oM=T.createContext(null),Ph=T.createContext(null),Th=T.createContext(null),Qo=T.createContext({outlet:null,matches:[],isDataRoute:!1}),kE=T.createContext(null);function kh(){return T.useContext(Th)!=null}function ac(){return kh()||rt(!1),T.useContext(Th).location}function AE(t){T.useContext(Ph).static||T.useLayoutEffect(t)}function xs(){let{isDataRoute:t}=T.useContext(Qo);return t?_M():aM()}function aM(){kh()||rt(!1);let t=T.useContext(Y0),{basename:e,future:n,navigator:i}=T.useContext(Ph),{matches:r}=T.useContext(Qo),{pathname:o}=ac(),a=JSON.stringify(JL(r,n.v7_relativeSplatPath)),c=T.useRef(!1);return AE(()=>{c.current=!0}),T.useCallback(function(d,f){if(f===void 0&&(f={}),!c.current)return;if(typeof d=="number"){i.go(d);return}let p=eM(d,JSON.parse(a),o,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:es([e,p.pathname])),(f.replace?i.replace:i.push)(p,f.state,f)},[e,i,a,o,t])}function lM(t,e){return cM(t,e)}function cM(t,e,n,i){kh()||rt(!1);let{navigator:r}=T.useContext(Ph),{matches:o}=T.useContext(Qo),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=ac(),f;if(e){var p;let E=typeof e=="string"?Yo(e):e;u==="/"||(p=E.pathname)!=null&&p.startsWith(u)||rt(!1),f=E}else f=d;let m=f.pathname||"/",v=m;if(u!=="/"){let E=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(E.length).join("/")}let C=DL(t,{pathname:v}),_=pM(C&&C.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:es([u,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:es([u,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,i);return e&&_?T.createElement(Th.Provider,{value:{location:Rl({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Xi.Pop}},_):_}function uM(){let t=yM(),e=rM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:r},n):null,null)}const dM=T.createElement(uM,null);class hM extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Qo.Provider,{value:this.props.routeContext},T.createElement(kE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fM(t){let{routeContext:e,match:n,children:i}=t,r=T.useContext(Y0);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Qo.Provider,{value:e},i)}function pM(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=(r=n)==null?void 0:r.errors;if(c!=null){let f=a.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);f>=0||rt(!1),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:m,errors:v}=n,C=p.route.loader&&m[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||C){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,p,m)=>{let v,C=!1,_=null,E=null;n&&(v=c&&p.route.id?c[p.route.id]:void 0,_=p.route.errorElement||dM,u&&(d<0&&m===0?(C=!0,E=null):d===m&&(C=!0,E=p.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,m+1)),x=()=>{let S;return v?S=_:C?S=E:p.route.Component?S=T.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=f,T.createElement(fM,{match:p,routeContext:{outlet:f,matches:w,isDataRoute:n!=null},children:S})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?T.createElement(hM,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var NE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(NE||{}),Pd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Pd||{});function mM(t){let e=T.useContext(Y0);return e||rt(!1),e}function gM(t){let e=T.useContext(oM);return e||rt(!1),e}function vM(t){let e=T.useContext(Qo);return e||rt(!1),e}function IE(t){let e=vM(),n=e.matches[e.matches.length-1];return n.route.id||rt(!1),n.route.id}function yM(){var t;let e=T.useContext(kE),n=gM(Pd.UseRouteError),i=IE(Pd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function _M(){let{router:t}=mM(NE.UseNavigateStable),e=IE(Pd.UseNavigateStable),n=T.useRef(!1);return AE(()=>{n.current=!0}),T.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Rl({fromRouteId:e},o)))},[t,e])}function ii(t){rt(!1)}function xM(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Xi.Pop,navigator:o,static:a=!1,future:c}=t;kh()&&rt(!1);let u=e.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:u,navigator:o,static:a,future:Rl({v7_relativeSplatPath:!1},c)}),[u,c,o,a]);typeof i=="string"&&(i=Yo(i));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:C="default"}=i,_=T.useMemo(()=>{let E=PE(f,u);return E==null?null:{location:{pathname:E,search:p,hash:m,state:v,key:C},navigationType:r}},[u,f,p,m,v,C,r]);return _==null?null:T.createElement(Ph.Provider,{value:d},T.createElement(Th.Provider,{children:n,value:_}))}function wM(t){let{children:e,location:n}=t;return lM(jm(e),n)}new Promise(()=>{});function jm(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(i,r)=>{if(!T.isValidElement(i))return;let o=[...e,r];if(i.type===T.Fragment){n.push.apply(n,jm(i.props.children,o));return}i.type!==ii&&rt(!1),!i.props.index||!i.props.children||rt(!1);let a={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=jm(i.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const bM="6";try{window.__reactRouterVersion=bM}catch{}const CM="startTransition",dw=yC[CM];function SM(t){let{basename:e,children:n,future:i,window:r}=t,o=T.useRef();o.current==null&&(o.current=LL({window:r,v5Compat:!0}));let a=o.current,[c,u]=T.useState({action:a.action,location:a.location}),{v7_startTransition:d}=i||{},f=T.useCallback(p=>{d&&dw?dw(()=>u(p)):u(p)},[u,d]);return T.useLayoutEffect(()=>a.listen(f),[a,f]),T.createElement(xM,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:i})}var hw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hw||(hw={}));var fw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fw||(fw={}));const je=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,et=Object.keys,Et=Array.isArray;function Lt(t,e){return typeof e!="object"||et(e).forEach(function(n){t[n]=e[n]}),t}typeof Promise>"u"||je.Promise||(je.Promise=Promise);const Ll=Object.getPrototypeOf,EM={}.hasOwnProperty;function Jt(t,e){return EM.call(t,e)}function jo(t,e){typeof e=="function"&&(e=e(Ll(t))),(typeof Reflect>"u"?et:Reflect.ownKeys)(e).forEach(n=>{pi(t,n,e[n])})}const RE=Object.defineProperty;function pi(t,e,n,i){RE(t,e,Lt(n&&Jt(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},i))}function xo(t){return{from:function(e){return t.prototype=Object.create(e.prototype),pi(t.prototype,"constructor",t),{extend:jo.bind(null,t.prototype)}}}}const PM=Object.getOwnPropertyDescriptor;function Q0(t,e){let n;return PM(t,e)||(n=Ll(t))&&Q0(n,e)}const TM=[].slice;function Td(t,e,n){return TM.call(t,e,n)}function LE(t,e){return e(t)}function Ua(t){if(!t)throw new Error("Assertion Failed")}function ME(t){je.setImmediate?setImmediate(t):setTimeout(t,0)}function OE(t,e){return t.reduce((n,i,r)=>{var o=e(i,r);return o&&(n[o[0]]=o[1]),n},{})}function mi(t,e){if(typeof e=="string"&&Jt(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],i=0,r=e.length;i<r;++i){var o=mi(t,e[i]);n.push(o)}return n}var a=e.indexOf(".");if(a!==-1){var c=t[e.substr(0,a)];return c==null?void 0:mi(c,e.substr(a+1))}}function kn(t,e,n){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){Ua(typeof n!="string"&&"length"in n);for(var i=0,r=e.length;i<r;++i)kn(t,e[i],n[i])}else{var o=e.indexOf(".");if(o!==-1){var a=e.substr(0,o),c=e.substr(o+1);if(c==="")n===void 0?Et(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=n;else{var u=t[a];u&&Jt(t,a)||(u=t[a]={}),kn(u,c,n)}}else n===void 0?Et(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function DE(t){var e={};for(var n in t)Jt(t,n)&&(e[n]=t[n]);return e}const kM=[].concat;function jE(t){return kM.apply([],t)}const FE="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(jE([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>je[t]),AM=FE.map(t=>je[t]);OE(FE,t=>[t,!0]);let Ki=null;function lc(t){Ki=typeof WeakMap<"u"&&new WeakMap;const e=Fm(t);return Ki=null,e}function Fm(t){if(!t||typeof t!="object")return t;let e=Ki&&Ki.get(t);if(e)return e;if(Et(t)){e=[],Ki&&Ki.set(t,e);for(var n=0,i=t.length;n<i;++n)e.push(Fm(t[n]))}else if(AM.indexOf(t.constructor)>=0)e=t;else{const o=Ll(t);for(var r in e=o===Object.prototype?{}:Object.create(o),Ki&&Ki.set(t,e),t)Jt(t,r)&&(e[r]=Fm(t[r]))}return e}const{toString:NM}={};function Bm(t){return NM.call(t).slice(8,-1)}const zm=typeof Symbol<"u"?Symbol.iterator:"@@iterator",IM=typeof zm=="symbol"?function(t){var e;return t!=null&&(e=t[zm])&&e.apply(t)}:function(){return null},Zs={};function ai(t){var e,n,i,r;if(arguments.length===1){if(Et(t))return t.slice();if(this===Zs&&typeof t=="string")return[t];if(r=IM(t)){for(n=[];!(i=r.next()).done;)n.push(i.value);return n}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}const X0=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var qn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function BE(t,e){qn=t,zE=e}var zE=()=>!0;const RM=!new Error("").stack;function ws(){if(RM)try{throw ws.arguments,new Error}catch(t){return t}return new Error}function Vm(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(zE).map(i=>`
`+i).join("")):""}var VE=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],J0=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(VE),LM={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function wo(t,e){this._e=ws(),this.name=t,this.message=e}function UE(t,e){return t+". Errors: "+Object.keys(e).map(n=>e[n].toString()).filter((n,i,r)=>r.indexOf(n)===i).join(`
`)}function kd(t,e,n,i){this._e=ws(),this.failures=e,this.failedKeys=i,this.successCount=n,this.message=UE(t,e)}function tl(t,e){this._e=ws(),this.name="BulkError",this.failures=Object.keys(e).map(n=>e[n]),this.failuresByPos=e,this.message=UE(t,e)}xo(wo).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Vm(this._e,2))}},toString:function(){return this.name+": "+this.message}}),xo(kd).from(wo),xo(tl).from(wo);var ev=J0.reduce((t,e)=>(t[e]=e+"Error",t),{});const MM=wo;var le=J0.reduce((t,e)=>{var n=e+"Error";function i(r,o){this._e=ws(),this.name=n,r?typeof r=="string"?(this.message=`${r}${o?`
 `+o:""}`,this.inner=o||null):typeof r=="object"&&(this.message=`${r.name} ${r.message}`,this.inner=r):(this.message=LM[e]||n,this.inner=null)}return xo(i).from(MM),t[e]=i,t},{});le.Syntax=SyntaxError,le.Type=TypeError,le.Range=RangeError;var pw=VE.reduce((t,e)=>(t[e+"Error"]=le[e],t),{}),zu=J0.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=le[e]),t),{});function ke(){}function Ml(t){return t}function OM(t,e){return t==null||t===Ml?e:function(n){return e(t(n))}}function us(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function DM(t,e){return t===ke?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var i=this.onsuccess,r=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?us(i,this.onsuccess):i),r&&(this.onerror=this.onerror?us(r,this.onerror):r),o!==void 0?o:n}}function jM(t,e){return t===ke?e:function(){t.apply(this,arguments);var n=this.onsuccess,i=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?us(n,this.onsuccess):n),i&&(this.onerror=this.onerror?us(i,this.onerror):i)}}function FM(t,e){return t===ke?e:function(n){var i=t.apply(this,arguments);Lt(n,i);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?us(r,this.onsuccess):r),o&&(this.onerror=this.onerror?us(o,this.onerror):o),i===void 0?a===void 0?void 0:a:Lt(i,a)}}function BM(t,e){return t===ke?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function tv(t,e){return t===ke?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var i=this,r=arguments.length,o=new Array(r);r--;)o[r]=arguments[r];return n.then(function(){return e.apply(i,o)})}return e.apply(this,arguments)}}zu.ModifyError=kd,zu.DexieError=wo,zu.BulkError=tl;var Ol={};const WE=100,[Um,Ad,Wm]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,Ll(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,Ll(e),t]})(),$E=Ad&&Ad.then,Vu=Um&&Um.constructor,nv=!!Wm;var $m=!1,zM=Wm?()=>{Wm.then(cu)}:je.setImmediate?setImmediate.bind(null,cu):je.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{cu(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(cu,0)},nl=function(t,e){Wa.push([t,e]),Nd&&(zM(),Nd=!1)},Hm=!0,Nd=!0,ts=[],Uu=[],Km=null,Zm=Ml,bo={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:vw,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{vw(t[0],t[1])}catch{}})}},se=bo,Wa=[],ns=0,Wu=[];function ee(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ke,this._lib=!1;var e=this._PSD=se;if(qn&&(this._stackHolder=ws(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==Ol)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Gm(this,this._value))}this._state=null,this._value=null,++e.ref,KE(this,t)}const qm={get:function(){var t=se,e=Id;function n(i,r){var o=!t.global&&(t!==se||e!==Id);const a=o&&!Pi();var c=new ee((u,d)=>{iv(this,new HE(Rd(i,t,o,a),Rd(r,t,o,a),u,d,t))});return qn&&GE(c,this),c}return n.prototype=Ol,n},set:function(t){pi(this,"then",t&&t.prototype===Ol?qm:{get:function(){return t},set:qm.set})}};function HE(t,e,n,i,r){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=i,this.psd=r}function KE(t,e){try{e(n=>{if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var i=t._lib&&cc();n&&typeof n.then=="function"?KE(t,(r,o)=>{n instanceof ee?n._then(r,o):n.then(r,o)}):(t._state=!0,t._value=n,ZE(t)),i&&uc()}},Gm.bind(null,t))}catch(n){Gm(t,n)}}function Gm(t,e){if(Uu.push(e),t._state===null){var n=t._lib&&cc();e=Zm(e),t._state=!1,t._value=e,qn&&e!==null&&typeof e=="object"&&!e._promise&&function(i,r,o){try{i.apply(null,o)}catch{}}(()=>{var i=Q0(e,"stack");e._promise=t,pi(e,"stack",{get:()=>$m?i&&(i.get?i.get.apply(e):i.value):t.stack})}),function(i){ts.some(r=>r._value===i._value)||ts.push(i)}(t),ZE(t),n&&uc()}}function ZE(t){var e=t._listeners;t._listeners=[];for(var n=0,i=e.length;n<i;++n)iv(t,e[n]);var r=t._PSD;--r.ref||r.finalize(),ns===0&&(++ns,nl(()=>{--ns==0&&rv()},[]))}function iv(t,e){if(t._state!==null){var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++ns,nl(VM,[n,t,e])}else t._listeners.push(e)}function VM(t,e,n){try{Km=e;var i,r=e._value;e._state?i=t(r):(Uu.length&&(Uu=[]),i=t(r),Uu.indexOf(r)===-1&&function(o){for(var a=ts.length;a;)if(ts[--a]._value===o._value)return void ts.splice(a,1)}(e)),n.resolve(i)}catch(o){n.reject(o)}finally{Km=null,--ns==0&&rv(),--n.psd.ref||n.psd.finalize()}}function qE(t,e,n){if(e.length===n)return e;var i="";if(t._state===!1){var r,o,a=t._value;a!=null?(r=a.name||"Error",o=a.message||a,i=Vm(a,0)):(r=a,o=""),e.push(r+(o?": "+o:"")+i)}return qn&&((i=Vm(t._stackHolder,2))&&e.indexOf(i)===-1&&e.push(i),t._prev&&qE(t._prev,e,n)),e}function GE(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function cu(){cc()&&uc()}function cc(){var t=Hm;return Hm=!1,Nd=!1,t}function uc(){var t,e,n;do for(;Wa.length>0;)for(t=Wa,Wa=[],n=t.length,e=0;e<n;++e){var i=t[e];i[0].apply(null,i[1])}while(Wa.length>0);Hm=!0,Nd=!0}function rv(){var t=ts;ts=[],t.forEach(i=>{i._PSD.onunhandled.call(null,i._value,i)});for(var e=Wu.slice(0),n=e.length;n;)e[--n]()}function uu(t){return new ee(Ol,!1,t)}function Be(t,e){var n=se;return function(){var i=cc(),r=se;try{return pr(n,!0),t.apply(this,arguments)}catch(o){e&&e(o)}finally{pr(r,!1),i&&uc()}}}jo(ee.prototype,{then:qm,_then:function(t,e){iv(this,new HE(null,null,t,e,se))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,i=>i instanceof e?n(i):uu(i)):this.then(null,i=>i&&i.name===e?n(i):uu(i))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),uu(e)))},stack:{get:function(){if(this._stack)return this._stack;try{$m=!0;var t=qE(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{$m=!1}}},timeout:function(t,e){return t<1/0?new ee((n,i)=>{var r=setTimeout(()=>i(new le.Timeout(e)),t);this.then(n,i).finally(clearTimeout.bind(null,r))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&pi(ee.prototype,Symbol.toStringTag,"Dexie.Promise"),bo.env=YE(),jo(ee,{all:function(){var t=ai.apply(null,arguments).map(du);return new ee(function(e,n){t.length===0&&e([]);var i=t.length;t.forEach((r,o)=>ee.resolve(r).then(a=>{t[o]=a,--i||e(t)},n))})},resolve:t=>{if(t instanceof ee)return t;if(t&&typeof t.then=="function")return new ee((n,i)=>{t.then(n,i)});var e=new ee(Ol,!0,t);return GE(e,Km),e},reject:uu,race:function(){var t=ai.apply(null,arguments).map(du);return new ee((e,n)=>{t.map(i=>ee.resolve(i).then(e,n))})},PSD:{get:()=>se,set:t=>se=t},totalEchoes:{get:()=>Id},newPSD:fr,usePSD:Jo,scheduler:{get:()=>nl,set:t=>{nl=t}},rejectionMapper:{get:()=>Zm,set:t=>{Zm=t}},follow:(t,e)=>new ee((n,i)=>fr((r,o)=>{var a=se;a.unhandleds=[],a.onunhandled=o,a.finalize=us(function(){(function(c){function u(){c(),Wu.splice(Wu.indexOf(u),1)}Wu.push(u),++ns,nl(()=>{--ns==0&&rv()},[])})(()=>{this.unhandleds.length===0?r():o(this.unhandleds[0])})},a.finalize),t()},e,n,i))}),Vu&&(Vu.allSettled&&pi(ee,"allSettled",function(){const t=ai.apply(null,arguments).map(du);return new ee(e=>{t.length===0&&e([]);let n=t.length;const i=new Array(n);t.forEach((r,o)=>ee.resolve(r).then(a=>i[o]={status:"fulfilled",value:a},a=>i[o]={status:"rejected",reason:a}).then(()=>--n||e(i)))})}),Vu.any&&typeof AggregateError<"u"&&pi(ee,"any",function(){const t=ai.apply(null,arguments).map(du);return new ee((e,n)=>{t.length===0&&n(new AggregateError([]));let i=t.length;const r=new Array(i);t.forEach((o,a)=>ee.resolve(o).then(c=>e(c),c=>{r[a]=c,--i||n(new AggregateError(r))}))})}));const St={awaits:0,echoes:0,id:0};var UM=0,$u=[],np=0,Id=0,WM=0;function fr(t,e,n,i){var r=se,o=Object.create(r);o.parent=r,o.ref=0,o.global=!1,o.id=++WM;var a=bo.env;o.env=nv?{Promise:ee,PromiseProp:{value:ee,configurable:!0,writable:!0},all:ee.all,race:ee.race,allSettled:ee.allSettled,any:ee.any,resolve:ee.resolve,reject:ee.reject,nthen:mw(a.nthen,o),gthen:mw(a.gthen,o)}:{},e&&Lt(o,e),++r.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var c=Jo(o,t,n,i);return o.ref===0&&o.finalize(),c}function Xo(){return St.id||(St.id=++UM),++St.awaits,St.echoes+=WE,St.id}function Pi(){return!!St.awaits&&(--St.awaits==0&&(St.id=0),St.echoes=St.awaits*WE,!0)}function du(t){return St.echoes&&t&&t.constructor===Vu?(Xo(),t.then(e=>(Pi(),e),e=>(Pi(),st(e)))):t}function $M(t){++Id,St.echoes&&--St.echoes!=0||(St.echoes=St.id=0),$u.push(se),pr(t,!0)}function HM(){var t=$u[$u.length-1];$u.pop(),pr(t,!1)}function pr(t,e){var n=se;if((e?!St.echoes||np++&&t===se:!np||--np&&t===se)||QE(e?$M.bind(null,t):HM),t!==se&&(se=t,n===bo&&(bo.env=YE()),nv)){var i=bo.env.Promise,r=t.env;Ad.then=r.nthen,i.prototype.then=r.gthen,(n.global||t.global)&&(Object.defineProperty(je,"Promise",r.PromiseProp),i.all=r.all,i.race=r.race,i.resolve=r.resolve,i.reject=r.reject,r.allSettled&&(i.allSettled=r.allSettled),r.any&&(i.any=r.any))}}function YE(){var t=je.Promise;return nv?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(je,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Ad.then,gthen:t.prototype.then}:{}}function Jo(t,e,n,i,r){var o=se;try{return pr(t,!0),e(n,i,r)}finally{pr(o,!1)}}function QE(t){$E.call(Um,t)}function Rd(t,e,n,i){return typeof t!="function"?t:function(){var r=se;n&&Xo(),pr(e,!0);try{return t.apply(this,arguments)}finally{pr(r,!1),i&&QE(Pi)}}}function mw(t,e){return function(n,i){return t.call(this,Rd(n,e),Rd(i,e))}}(""+$E).indexOf("[native code]")===-1&&(Xo=Pi=ke);const gw="unhandledrejection";function vw(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var i,r={promise:e,reason:t};if(je.document&&document.createEvent?((i=document.createEvent("Event")).initEvent(gw,!0,!0),Lt(i,r)):je.CustomEvent&&Lt(i=new CustomEvent(gw,{detail:r}),r),i&&je.dispatchEvent&&(dispatchEvent(i),!je.PromiseRejectionEvent&&je.onunhandledrejection))try{je.onunhandledrejection(i)}catch{}qn&&i&&!i.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch{}}var st=ee.reject;function Ym(t,e,n,i){if(t.idbdb&&(t._state.openComplete||se.letThrough||t._vip)){var r=t._createTransaction(e,n,t._dbSchema);try{r.create(),t._state.PR1398_maxLoop=3}catch(o){return o.name===ev.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>Ym(t,e,n,i))):st(o)}return r._promise(e,(o,a)=>fr(()=>(se.trans=r,i(o,a,r)))).then(o=>r._completion.then(()=>o))}if(t._state.openComplete)return st(new le.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return st(new le.DatabaseClosed);t.open().catch(ke)}return t._state.dbReadyPromise.then(()=>Ym(t,e,n,i))}const yw="3.2.7",Gr="",Qm=-1/0,ti="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",XE="String expected.",il=[],Ah=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),KM=Ah,ZM=Ah,JE=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),Nh="__dbnames",ip="readonly",rp="readwrite";function ds(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const eP={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function hu(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=lc(e))[t],e)}class qM{_trans(e,n,i){const r=this._tx||se.trans,o=this.name;function a(u,d,f){if(!f.schema[o])throw new le.NotFound("Table "+o+" not part of transaction");return n(f.idbtrans,f)}const c=cc();try{return r&&r.db===this.db?r===se.trans?r._promise(e,a,i):fr(()=>r._promise(e,a,i),{trans:r,transless:se.transless||se}):Ym(this.db,e,[this.name],a)}finally{c&&uc()}}get(e,n){return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",i=>this.core.get({trans:i,key:e}).then(r=>this.hook.reading.fire(r))).then(n)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(Et(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const n=et(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);const i=this.schema.indexes.concat(this.schema.primKey).filter(d=>{if(d.compound&&n.every(f=>d.keyPath.indexOf(f)>=0)){for(let f=0;f<n.length;++f)if(n.indexOf(d.keyPath[f])===-1)return!1;return!0}return!1}).sort((d,f)=>d.keyPath.length-f.keyPath.length)[0];if(i&&this.db._maxKey!==Gr){const d=i.keyPath.slice(0,n.length);return this.where(d).equals(d.map(f=>e[f]))}!i&&qn&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:r}=this.schema,o=this.db._deps.indexedDB;function a(d,f){try{return o.cmp(d,f)===0}catch{return!1}}const[c,u]=n.reduce(([d,f],p)=>{const m=r[p],v=e[p];return[d||m,d||!m?ds(f,m&&m.multi?C=>{const _=mi(C,p);return Et(_)&&_.some(E=>a(v,E))}:C=>a(v,mi(C,p))):f]},[null,null]);return c?this.where(c.name).equals(e[c.keyPath]).filter(u):i?this.filter(u):this.where(n).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,Et(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const n=i=>{if(!i)return i;const r=Object.create(e.prototype);for(var o in i)if(Jt(i,o))try{r[o]=i[o]}catch{}return r};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e}defineClass(){return this.mapToClass(function(e){Lt(this,e)})}add(e,n){const{auto:i,keyPath:r}=this.schema.primKey;let o=e;return r&&i&&(o=hu(r)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:n!=null?[n]:null,values:[o]})).then(a=>a.numFailures?ee.reject(a.failures[0]):a.lastResult).then(a=>{if(r)try{kn(e,r,a)}catch{}return a})}update(e,n){if(typeof e!="object"||Et(e))return this.where(":id").equals(e).modify(n);{const i=mi(e,this.schema.primKey.keyPath);if(i===void 0)return st(new le.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?et(n).forEach(r=>{kn(e,r,n[r])}):n(e,{value:e,primKey:i})}catch{}return this.where(":id").equals(i).modify(n)}}put(e,n){const{auto:i,keyPath:r}=this.schema.primKey;let o=e;return r&&i&&(o=hu(r)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[o],keys:n!=null?[n]:null})).then(a=>a.numFailures?ee.reject(a.failures[0]):a.lastResult).then(a=>{if(r)try{kn(e,r,a)}catch{}return a})}delete(e){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[e]})).then(n=>n.numFailures?ee.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:eP})).then(e=>e.numFailures?ee.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",n=>this.core.getMany({keys:e,trans:n}).then(i=>i.map(r=>this.hook.reading.fire(r))))}bulkAdd(e,n,i){const r=Array.isArray(n)?n:void 0,o=(i=i||(r?void 0:n))?i.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:c,keyPath:u}=this.schema.primKey;if(u&&r)throw new le.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new le.InvalidArgument("Arguments objects and keys must have the same length");const d=e.length;let f=u&&c?e.map(hu(u)):e;return this.core.mutate({trans:a,type:"add",keys:r,values:f,wantResults:o}).then(({numFailures:p,results:m,lastResult:v,failures:C})=>{if(p===0)return o?m:v;throw new tl(`${this.name}.bulkAdd(): ${p} of ${d} operations failed`,C)})})}bulkPut(e,n,i){const r=Array.isArray(n)?n:void 0,o=(i=i||(r?void 0:n))?i.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:c,keyPath:u}=this.schema.primKey;if(u&&r)throw new le.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new le.InvalidArgument("Arguments objects and keys must have the same length");const d=e.length;let f=u&&c?e.map(hu(u)):e;return this.core.mutate({trans:a,type:"put",keys:r,values:f,wantResults:o}).then(({numFailures:p,results:m,lastResult:v,failures:C})=>{if(p===0)return o?m:v;throw new tl(`${this.name}.bulkPut(): ${p} of ${d} operations failed`,C)})})}bulkDelete(e){const n=e.length;return this._trans("readwrite",i=>this.core.mutate({trans:i,type:"delete",keys:e})).then(({numFailures:i,lastResult:r,failures:o})=>{if(i===0)return r;throw new tl(`${this.name}.bulkDelete(): ${i} of ${n} operations failed`,o)})}}function rl(t){var e={},n=function(a,c){if(c){for(var u=arguments.length,d=new Array(u-1);--u;)d[u-1]=arguments[u];return e[a].subscribe.apply(null,d),t}if(typeof a=="string")return e[a]};n.addEventType=o;for(var i=1,r=arguments.length;i<r;++i)o(arguments[i]);return n;function o(a,c,u){if(typeof a!="object"){var d;c||(c=BM),u||(u=ke);var f={subscribers:[],fire:u,subscribe:function(p){f.subscribers.indexOf(p)===-1&&(f.subscribers.push(p),f.fire=c(f.fire,p))},unsubscribe:function(p){f.subscribers=f.subscribers.filter(function(m){return m!==p}),f.fire=f.subscribers.reduce(c,u)}};return e[a]=n[a]=f,f}et(d=a).forEach(function(p){var m=d[p];if(Et(m))o(p,d[p][0],d[p][1]);else{if(m!=="asap")throw new le.InvalidArgument("Invalid event config");var v=o(p,Ml,function(){for(var C=arguments.length,_=new Array(C);C--;)_[C]=arguments[C];v.subscribers.forEach(function(E){ME(function(){E.apply(null,_)})})})}})}}function Na(t,e){return xo(e).from({prototype:t}),e}function zs(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function sp(t,e){t.filter=ds(t.filter,e)}function op(t,e,n){var i=t.replayFilter;t.replayFilter=i?()=>ds(i(),e()):e,t.justLimit=n&&!i}function Hu(t,e){if(t.isPrimKey)return e.primaryKey;const n=e.getIndexByKeyPath(t.index);if(!n)throw new le.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function _w(t,e,n){const i=Hu(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:i,range:t.range}})}function fu(t,e,n,i){const r=t.replayFilter?ds(t.filter,t.replayFilter()):t.filter;if(t.or){const o={},a=(c,u,d)=>{if(!r||r(u,d,m=>u.stop(m),m=>u.fail(m))){var f=u.primaryKey,p=""+f;p==="[object ArrayBuffer]"&&(p=""+new Uint8Array(f)),Jt(o,p)||(o[p]=!0,e(c,u,d))}};return Promise.all([t.or._iterate(a,n),xw(_w(t,i,n),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}return xw(_w(t,i,n),ds(t.algorithm,r),e,!t.keysOnly&&t.valueMapper)}function xw(t,e,n,i){var r=Be(i?(o,a,c)=>n(i(o),a,c):n);return t.then(o=>{if(o)return o.start(()=>{var a=()=>o.continue();e&&!e(o,c=>a=c,c=>{o.stop(c),a=ke},c=>{o.fail(c),a=ke})||r(o.value,o,c=>a=c),a()})})}function It(t,e){try{const n=ww(t),i=ww(e);if(n!==i)return n==="Array"?1:i==="Array"?-1:n==="binary"?1:i==="binary"?-1:n==="string"?1:i==="string"?-1:n==="Date"?1:i!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(r,o){const a=r.length,c=o.length,u=a<c?a:c;for(let d=0;d<u;++d)if(r[d]!==o[d])return r[d]<o[d]?-1:1;return a===c?0:a<c?-1:1}(bw(t),bw(e));case"Array":return function(r,o){const a=r.length,c=o.length,u=a<c?a:c;for(let d=0;d<u;++d){const f=It(r[d],o[d]);if(f!==0)return f}return a===c?0:a<c?-1:1}(t,e)}}catch{}return NaN}function ww(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const n=Bm(t);return n==="ArrayBuffer"?"binary":n}function bw(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class GM{_read(e,n){var i=this._ctx;return i.error?i.table._trans(null,st.bind(null,i.error)):i.table._trans("readonly",e).then(n)}_write(e){var n=this._ctx;return n.error?n.table._trans(null,st.bind(null,n.error)):n.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var n=this._ctx;n.algorithm=ds(n.algorithm,e)}_iterate(e,n){return fu(this._ctx,e,n,this._ctx.table.core)}clone(e){var n=Object.create(this.constructor.prototype),i=Object.create(this._ctx);return e&&Lt(i,e),n._ctx=i,n}raw(){return this._ctx.valueMapper=null,this}each(e){var n=this._ctx;return this._read(i=>fu(n,e,i,n.table.core))}count(e){return this._read(n=>{const i=this._ctx,r=i.table.core;if(zs(i,!0))return r.count({trans:n,query:{index:Hu(i,r.schema),range:i.range}}).then(a=>Math.min(a,i.limit));var o=0;return fu(i,()=>(++o,!1),n,r).then(()=>o)}).then(e)}sortBy(e,n){const i=e.split(".").reverse(),r=i[0],o=i.length-1;function a(d,f){return f?a(d[i[f]],f-1):d[r]}var c=this._ctx.dir==="next"?1:-1;function u(d,f){var p=a(d,o),m=a(f,o);return p<m?-c:p>m?c:0}return this.toArray(function(d){return d.sort(u)}).then(n)}toArray(e){return this._read(n=>{var i=this._ctx;if(i.dir==="next"&&zs(i,!0)&&i.limit>0){const{valueMapper:r}=i,o=Hu(i,i.table.core.schema);return i.table.core.query({trans:n,limit:i.limit,values:!0,query:{index:o,range:i.range}}).then(({result:a})=>r?a.map(r):a)}{const r=[];return fu(i,o=>r.push(o),n,i.table.core).then(()=>r)}},e)}offset(e){var n=this._ctx;return e<=0||(n.offset+=e,zs(n)?op(n,()=>{var i=e;return(r,o)=>i===0||(i===1?(--i,!1):(o(()=>{r.advance(i),i=0}),!1))}):op(n,()=>{var i=e;return()=>--i<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),op(this._ctx,()=>{var n=e;return function(i,r,o){return--n<=0&&r(o),n>=0}},!0),this}until(e,n){return sp(this._ctx,function(i,r,o){return!e(i.value)||(r(o),n)}),this}first(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var n,i;return sp(this._ctx,function(r){return e(r.value)}),n=this._ctx,i=e,n.isMatch=ds(n.isMatch,i),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(i,r){e(r.key,r)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(i,r){e(r.primaryKey,r)})}keys(e){var n=this._ctx;n.keysOnly=!n.isMatch;var i=[];return this.each(function(r,o){i.push(o.key)}).then(function(){return i}).then(e)}primaryKeys(e){var n=this._ctx;if(n.dir==="next"&&zs(n,!0)&&n.limit>0)return this._read(r=>{var o=Hu(n,n.table.core.schema);return n.table.core.query({trans:r,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(({result:r})=>r).then(e);n.keysOnly=!n.isMatch;var i=[];return this.each(function(r,o){i.push(o.primaryKey)}).then(function(){return i}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(n){return n[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var i={};return sp(this._ctx,function(r){var o=r.primaryKey.toString(),a=Jt(i,o);return i[o]=!0,!a}),this}modify(e){var n=this._ctx;return this._write(i=>{var r;if(typeof e=="function")r=e;else{var o=et(e),a=o.length;r=function(_){for(var E=!1,w=0;w<a;++w){var x=o[w],S=e[x];mi(_,x)!==S&&(kn(_,x,S),E=!0)}return E}}const c=n.table.core,{outbound:u,extractKey:d}=c.schema.primaryKey,f=this.db._options.modifyChunkSize||200,p=[];let m=0;const v=[],C=(_,E)=>{const{failures:w,numFailures:x}=E;m+=_-x;for(let S of et(w))p.push(w[S])};return this.clone().primaryKeys().then(_=>{const E=w=>{const x=Math.min(f,_.length-w);return c.getMany({trans:i,keys:_.slice(w,w+x),cache:"immutable"}).then(S=>{const k=[],A=[],O=u?[]:null,R=[];for(let H=0;H<x;++H){const q=S[H],j={value:lc(q),primKey:_[w+H]};r.call(j,j.value,j)!==!1&&(j.value==null?R.push(_[w+H]):u||It(d(q),d(j.value))===0?(A.push(j.value),u&&O.push(_[w+H])):(R.push(_[w+H]),k.push(j.value)))}const U=zs(n)&&n.limit===1/0&&(typeof e!="function"||e===ap)&&{index:n.index,range:n.range};return Promise.resolve(k.length>0&&c.mutate({trans:i,type:"add",values:k}).then(H=>{for(let q in H.failures)R.splice(parseInt(q),1);C(k.length,H)})).then(()=>(A.length>0||U&&typeof e=="object")&&c.mutate({trans:i,type:"put",keys:O,values:A,criteria:U,changeSpec:typeof e!="function"&&e}).then(H=>C(A.length,H))).then(()=>(R.length>0||U&&e===ap)&&c.mutate({trans:i,type:"delete",keys:R,criteria:U}).then(H=>C(R.length,H))).then(()=>_.length>w+x&&E(w+f))})};return E(0).then(()=>{if(p.length>0)throw new kd("Error modifying one or more objects",p,m,v);return _.length})})})}delete(){var e=this._ctx,n=e.range;return zs(e)&&(e.isPrimKey&&!ZM||n.type===3)?this._write(i=>{const{primaryKey:r}=e.table.core.schema,o=n;return e.table.core.count({trans:i,query:{index:r,range:o}}).then(a=>e.table.core.mutate({trans:i,type:"deleteRange",range:o}).then(({failures:c,lastResult:u,results:d,numFailures:f})=>{if(f)throw new kd("Could not delete some values",Object.keys(c).map(p=>c[p]),a-f);return a-f}))}):this.modify(ap)}}const ap=(t,e)=>e.value=null;function YM(t,e){return t<e?-1:t===e?0:1}function QM(t,e){return t>e?-1:t===e?0:1}function Ht(t,e,n){var i=t instanceof nP?new t.Collection(t):t;return i._ctx.error=n?new n(e):new TypeError(e),i}function Vs(t){return new t.Collection(t,()=>tP("")).limit(0)}function XM(t,e,n,i,r,o){for(var a=Math.min(t.length,i.length),c=-1,u=0;u<a;++u){var d=e[u];if(d!==i[u])return r(t[u],n[u])<0?t.substr(0,u)+n[u]+n.substr(u+1):r(t[u],i[u])<0?t.substr(0,u)+i[u]+n.substr(u+1):c>=0?t.substr(0,c)+e[c]+n.substr(c+1):null;r(t[u],d)<0&&(c=u)}return a<i.length&&o==="next"?t+n.substr(t.length):a<t.length&&o==="prev"?t.substr(0,n.length):c<0?null:t.substr(0,c)+i[c]+n.substr(c+1)}function pu(t,e,n,i){var r,o,a,c,u,d,f,p=n.length;if(!n.every(_=>typeof _=="string"))return Ht(t,XE);function m(_){r=function(w){return w==="next"?x=>x.toUpperCase():x=>x.toLowerCase()}(_),o=function(w){return w==="next"?x=>x.toLowerCase():x=>x.toUpperCase()}(_),a=_==="next"?YM:QM;var E=n.map(function(w){return{lower:o(w),upper:r(w)}}).sort(function(w,x){return a(w.lower,x.lower)});c=E.map(function(w){return w.upper}),u=E.map(function(w){return w.lower}),d=_,f=_==="next"?"":i}m("next");var v=new t.Collection(t,()=>Vi(c[0],u[p-1]+i));v._ondirectionchange=function(_){m(_)};var C=0;return v._addAlgorithm(function(_,E,w){var x=_.key;if(typeof x!="string")return!1;var S=o(x);if(e(S,u,C))return!0;for(var k=null,A=C;A<p;++A){var O=XM(x,S,c[A],u[A],a,d);O===null&&k===null?C=A+1:(k===null||a(k,O)>0)&&(k=O)}return E(k!==null?function(){_.continue(k+f)}:w),!1}),v}function Vi(t,e,n,i){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:i}}function tP(t){return{type:1,lower:t,upper:t}}class nP{get Collection(){return this._ctx.table.db.Collection}between(e,n,i,r){i=i!==!1,r=r===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(i||r)&&(!i||!r)?Vs(this):new this.Collection(this,()=>Vi(e,n,!i,!r))}catch{return Ht(this,ti)}}equals(e){return e==null?Ht(this,ti):new this.Collection(this,()=>tP(e))}above(e){return e==null?Ht(this,ti):new this.Collection(this,()=>Vi(e,void 0,!0))}aboveOrEqual(e){return e==null?Ht(this,ti):new this.Collection(this,()=>Vi(e,void 0,!1))}below(e){return e==null?Ht(this,ti):new this.Collection(this,()=>Vi(void 0,e,!1,!0))}belowOrEqual(e){return e==null?Ht(this,ti):new this.Collection(this,()=>Vi(void 0,e))}startsWith(e){return typeof e!="string"?Ht(this,XE):this.between(e,e+Gr,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):pu(this,(n,i)=>n.indexOf(i[0])===0,[e],Gr)}equalsIgnoreCase(e){return pu(this,(n,i)=>n===i[0],[e],"")}anyOfIgnoreCase(){var e=ai.apply(Zs,arguments);return e.length===0?Vs(this):pu(this,(n,i)=>i.indexOf(n)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=ai.apply(Zs,arguments);return e.length===0?Vs(this):pu(this,(n,i)=>i.some(r=>n.indexOf(r)===0),e,Gr)}anyOf(){const e=ai.apply(Zs,arguments);let n=this._cmp;try{e.sort(n)}catch{return Ht(this,ti)}if(e.length===0)return Vs(this);const i=new this.Collection(this,()=>Vi(e[0],e[e.length-1]));i._ondirectionchange=o=>{n=o==="next"?this._ascending:this._descending,e.sort(n)};let r=0;return i._addAlgorithm((o,a,c)=>{const u=o.key;for(;n(u,e[r])>0;)if(++r,r===e.length)return a(c),!1;return n(u,e[r])===0||(a(()=>{o.continue(e[r])}),!1)}),i}notEqual(e){return this.inAnyRange([[Qm,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=ai.apply(Zs,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return Ht(this,ti)}const n=e.reduce((i,r)=>i?i.concat([[i[i.length-1][1],r]]):[[Qm,r]],null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,n){const i=this._cmp,r=this._ascending,o=this._descending,a=this._min,c=this._max;if(e.length===0)return Vs(this);if(!e.every(x=>x[0]!==void 0&&x[1]!==void 0&&r(x[0],x[1])<=0))return Ht(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",le.InvalidArgument);const u=!n||n.includeLowers!==!1,d=n&&n.includeUppers===!0;let f,p=r;function m(x,S){return p(x[0],S[0])}try{f=e.reduce(function(x,S){let k=0,A=x.length;for(;k<A;++k){const O=x[k];if(i(S[0],O[1])<0&&i(S[1],O[0])>0){O[0]=a(O[0],S[0]),O[1]=c(O[1],S[1]);break}}return k===A&&x.push(S),x},[]),f.sort(m)}catch{return Ht(this,ti)}let v=0;const C=d?x=>r(x,f[v][1])>0:x=>r(x,f[v][1])>=0,_=u?x=>o(x,f[v][0])>0:x=>o(x,f[v][0])>=0;let E=C;const w=new this.Collection(this,()=>Vi(f[0][0],f[f.length-1][1],!u,!d));return w._ondirectionchange=x=>{x==="next"?(E=C,p=r):(E=_,p=o),f.sort(m)},w._addAlgorithm((x,S,k)=>{for(var A=x.key;E(A);)if(++v,v===f.length)return S(k),!1;return!!function(O){return!C(O)&&!_(O)}(A)||(this._cmp(A,f[v][1])===0||this._cmp(A,f[v][0])===0||S(()=>{p===r?x.continue(f[v][0]):x.continue(f[v][1])}),!1)}),w}startsWithAnyOf(){const e=ai.apply(Zs,arguments);return e.every(n=>typeof n=="string")?e.length===0?Vs(this):this.inAnyRange(e.map(n=>[n,n+Gr])):Ht(this,"startsWithAnyOf() only works with strings")}}function Bn(t){return Be(function(e){return Dl(e),t(e.target.error),!1})}function Dl(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const jl="storagemutated",Gi="x-storagemutated-1",mr=rl(null,jl);class JM{_lock(){return Ua(!se.global),++this._reculock,this._reculock!==1||se.global||(se.lockOwnerFor=this),this}_unlock(){if(Ua(!se.global),--this._reculock==0)for(se.global||(se.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Jo(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&se.lockOwnerFor!==this}create(e){if(!this.mode)return this;const n=this.db.idbdb,i=this.db._state.dbOpenError;if(Ua(!this.idbtrans),!e&&!n)switch(i&&i.name){case"DatabaseClosedError":throw new le.DatabaseClosed(i);case"MissingAPIError":throw new le.MissingAPI(i.message,i);default:throw new le.OpenFailed(i)}if(!this.active)throw new le.TransactionInactive;return Ua(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Be(r=>{Dl(r),this._reject(e.error)}),e.onabort=Be(r=>{Dl(r),this.active&&this._reject(new le.Abort(e.error)),this.active=!1,this.on("abort").fire(r)}),e.oncomplete=Be(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&mr.storagemutated.fire(e.mutatedParts)}),this}_promise(e,n,i){if(e==="readwrite"&&this.mode!=="readwrite")return st(new le.ReadOnly("Transaction is readonly"));if(!this.active)return st(new le.TransactionInactive);if(this._locked())return new ee((o,a)=>{this._blockedFuncs.push([()=>{this._promise(e,n,i).then(o,a)},se])});if(i)return fr(()=>{var o=new ee((a,c)=>{this._lock();const u=n(a,c,this);u&&u.then&&u.then(a,c)});return o.finally(()=>this._unlock()),o._lib=!0,o});var r=new ee((o,a)=>{var c=n(o,a,this);c&&c.then&&c.then(o,a)});return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var n=this._root();const i=ee.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>i);else{n._waitingFor=i,n._waitingQueue=[];var r=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(r.get(-1/0).onsuccess=a)})()}var o=n._waitingFor;return new ee((a,c)=>{i.then(u=>n._waitingQueue.push(Be(a.bind(null,u))),u=>n._waitingQueue.push(Be(c.bind(null,u)))).finally(()=>{n._waitingFor===o&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new le.Abort))}table(e){const n=this._memoizedTables||(this._memoizedTables={});if(Jt(n,e))return n[e];const i=this.schema[e];if(!i)throw new le.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,i,this);return r.core=this.db.core.table(e),n[e]=r,r}}function Xm(t,e,n,i,r,o,a){return{name:t,keyPath:e,unique:n,multi:i,auto:r,compound:o,src:(n&&!a?"&":"")+(i?"*":"")+(r?"++":"")+iP(e)}}function iP(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function rP(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:OE(n,i=>[i.name,i])}}let Fl=t=>{try{return t.only([[]]),Fl=()=>[[]],[[]]}catch{return Fl=()=>Gr,Gr}};function Jm(t){return t==null?()=>{}:typeof t=="string"?function(e){return e.split(".").length===1?i=>i[e]:i=>mi(i,e)}(t):e=>mi(e,t)}function Cw(t){return[].slice.call(t)}let e3=0;function sl(t){return t==null?":id":typeof t=="string"?t:`[${t.join("+")}]`}function t3(t,e,n){function i(u){if(u.type===3)return null;if(u.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:d,upper:f,lowerOpen:p,upperOpen:m}=u;return d===void 0?f===void 0?null:e.upperBound(f,!!m):f===void 0?e.lowerBound(d,!!p):e.bound(d,f,!!p,!!m)}const{schema:r,hasGetAll:o}=function(u,d){const f=Cw(u.objectStoreNames);return{schema:{name:u.name,tables:f.map(p=>d.objectStore(p)).map(p=>{const{keyPath:m,autoIncrement:v}=p,C=Et(m),_=m==null,E={},w={name:p.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:_,compound:C,keyPath:m,autoIncrement:v,unique:!0,extractKey:Jm(m)},indexes:Cw(p.indexNames).map(x=>p.index(x)).map(x=>{const{name:S,unique:k,multiEntry:A,keyPath:O}=x,R={name:S,compound:Et(O),keyPath:O,unique:k,multiEntry:A,extractKey:Jm(O)};return E[sl(O)]=R,R}),getIndexByKeyPath:x=>E[sl(x)]};return E[":id"]=w.primaryKey,m!=null&&(E[sl(m)]=w.primaryKey),w})},hasGetAll:f.length>0&&"getAll"in d.objectStore(f[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),a=r.tables.map(u=>function(d){const f=d.name;return{name:f,schema:d,mutate:function({trans:p,type:m,keys:v,values:C,range:_}){return new Promise((E,w)=>{E=Be(E);const x=p.objectStore(f),S=x.keyPath==null,k=m==="put"||m==="add";if(!k&&m!=="delete"&&m!=="deleteRange")throw new Error("Invalid operation type: "+m);const{length:A}=v||C||{length:1};if(v&&C&&v.length!==C.length)throw new Error("Given keys array must have same length as given values array.");if(A===0)return E({numFailures:0,failures:{},results:[],lastResult:void 0});let O;const R=[],U=[];let H=0;const q=M=>{++H,Dl(M)};if(m==="deleteRange"){if(_.type===4)return E({numFailures:H,failures:U,results:[],lastResult:void 0});_.type===3?R.push(O=x.clear()):R.push(O=x.delete(i(_)))}else{const[M,B]=k?S?[C,v]:[C,null]:[v,null];if(k)for(let N=0;N<A;++N)R.push(O=B&&B[N]!==void 0?x[m](M[N],B[N]):x[m](M[N])),O.onerror=q;else for(let N=0;N<A;++N)R.push(O=x[m](M[N])),O.onerror=q}const j=M=>{const B=M.target.result;R.forEach((N,D)=>N.error!=null&&(U[D]=N.error)),E({numFailures:H,failures:U,results:m==="delete"?v:R.map(N=>N.result),lastResult:B})};O.onerror=M=>{q(M),j(M)},O.onsuccess=j})},getMany:({trans:p,keys:m})=>new Promise((v,C)=>{v=Be(v);const _=p.objectStore(f),E=m.length,w=new Array(E);let x,S=0,k=0;const A=R=>{const U=R.target;w[U._pos]=U.result,++k===S&&v(w)},O=Bn(C);for(let R=0;R<E;++R)m[R]!=null&&(x=_.get(m[R]),x._pos=R,x.onsuccess=A,x.onerror=O,++S);S===0&&v(w)}),get:({trans:p,key:m})=>new Promise((v,C)=>{v=Be(v);const _=p.objectStore(f).get(m);_.onsuccess=E=>v(E.target.result),_.onerror=Bn(C)}),query:function(p){return m=>new Promise((v,C)=>{v=Be(v);const{trans:_,values:E,limit:w,query:x}=m,S=w===1/0?void 0:w,{index:k,range:A}=x,O=_.objectStore(f),R=k.isPrimaryKey?O:O.index(k.name),U=i(A);if(w===0)return v({result:[]});if(p){const H=E?R.getAll(U,S):R.getAllKeys(U,S);H.onsuccess=q=>v({result:q.target.result}),H.onerror=Bn(C)}else{let H=0;const q=E||!("openKeyCursor"in R)?R.openCursor(U):R.openKeyCursor(U),j=[];q.onsuccess=M=>{const B=q.result;return B?(j.push(E?B.value:B.primaryKey),++H===w?v({result:j}):void B.continue()):v({result:j})},q.onerror=Bn(C)}})}(o),openCursor:function({trans:p,values:m,query:v,reverse:C,unique:_}){return new Promise((E,w)=>{E=Be(E);const{index:x,range:S}=v,k=p.objectStore(f),A=x.isPrimaryKey?k:k.index(x.name),O=C?_?"prevunique":"prev":_?"nextunique":"next",R=m||!("openKeyCursor"in A)?A.openCursor(i(S),O):A.openKeyCursor(i(S),O);R.onerror=Bn(w),R.onsuccess=Be(U=>{const H=R.result;if(!H)return void E(null);H.___id=++e3,H.done=!1;const q=H.continue.bind(H);let j=H.continuePrimaryKey;j&&(j=j.bind(H));const M=H.advance.bind(H),B=()=>{throw new Error("Cursor not stopped")};H.trans=p,H.stop=H.continue=H.continuePrimaryKey=H.advance=()=>{throw new Error("Cursor not started")},H.fail=Be(w),H.next=function(){let N=1;return this.start(()=>N--?this.continue():this.stop()).then(()=>this)},H.start=N=>{const D=new Promise(($,F)=>{$=Be($),R.onerror=Bn(F),H.fail=F,H.stop=Z=>{H.stop=H.continue=H.continuePrimaryKey=H.advance=B,$(Z)}}),z=()=>{if(R.result)try{N()}catch($){H.fail($)}else H.done=!0,H.start=()=>{throw new Error("Cursor behind last entry")},H.stop()};return R.onsuccess=Be($=>{R.onsuccess=z,z()}),H.continue=q,H.continuePrimaryKey=j,H.advance=M,z(),D},E(H)},w)})},count({query:p,trans:m}){const{index:v,range:C}=p;return new Promise((_,E)=>{const w=m.objectStore(f),x=v.isPrimaryKey?w:w.index(v.name),S=i(C),k=S?x.count(S):x.count();k.onsuccess=Be(A=>_(A.target.result)),k.onerror=Bn(E)})}}}(u)),c={};return a.forEach(u=>c[u.name]=u),{stack:"dbcore",transaction:t.transaction.bind(t),table(u){if(!c[u])throw new Error(`Table '${u}' not found`);return c[u]},MIN_KEY:-1/0,MAX_KEY:Fl(e),schema:r}}function eg({_novip:t},e){const n=e.db,i=function(r,o,{IDBKeyRange:a,indexedDB:c},u){return{dbcore:function(f,p){return p.reduce((m,{create:v})=>({...m,...v(m)}),f)}(t3(o,a,u),r.dbcore)}}(t._middlewares,n,t._deps,e);t.core=i.dbcore,t.tables.forEach(r=>{const o=r.name;t.core.schema.tables.some(a=>a.name===o)&&(r.core=t.core.table(o),t[o]instanceof t.Table&&(t[o].core=r.core))})}function Ld({_novip:t},e,n,i){n.forEach(r=>{const o=i[r];e.forEach(a=>{const c=Q0(a,r);(!c||"value"in c&&c.value===void 0)&&(a===t.Transaction.prototype||a instanceof t.Transaction?pi(a,r,{get(){return this.table(r)},set(u){RE(this,r,{value:u,writable:!0,configurable:!0,enumerable:!0})}}):a[r]=new t.Table(r,o))})})}function tg({_novip:t},e){e.forEach(n=>{for(let i in n)n[i]instanceof t.Table&&delete n[i]})}function n3(t,e){return t._cfg.version-e._cfg.version}function i3(t,e,n,i){const r=t._dbSchema,o=t._createTransaction("readwrite",t._storeNames,r);o.create(n),o._completion.catch(i);const a=o._reject.bind(o),c=se.transless||se;fr(()=>{se.trans=o,se.transless=c,e===0?(et(r).forEach(u=>{lp(n,u,r[u].primKey,r[u].indexes)}),eg(t,n),ee.follow(()=>t.on.populate.fire(o)).catch(a)):function({_novip:u},d,f,p){const m=[],v=u._versions;let C=u._dbSchema=ig(u,u.idbdb,p),_=!1;const E=v.filter(x=>x._cfg.version>=d);function w(){return m.length?ee.resolve(m.shift()(f.idbtrans)).then(w):ee.resolve()}return E.forEach(x=>{m.push(()=>{const S=C,k=x._cfg.dbschema;rg(u,S,p),rg(u,k,p),C=u._dbSchema=k;const A=sP(S,k);A.add.forEach(R=>{lp(p,R[0],R[1].primKey,R[1].indexes)}),A.change.forEach(R=>{if(R.recreate)throw new le.Upgrade("Not yet support for changing primary key");{const U=p.objectStore(R.name);R.add.forEach(H=>ng(U,H)),R.change.forEach(H=>{U.deleteIndex(H.name),ng(U,H)}),R.del.forEach(H=>U.deleteIndex(H))}});const O=x._cfg.contentUpgrade;if(O&&x._cfg.version>d){eg(u,p),f._memoizedTables={},_=!0;let R=DE(k);A.del.forEach(j=>{R[j]=S[j]}),tg(u,[u.Transaction.prototype]),Ld(u,[u.Transaction.prototype],et(R),R),f.schema=R;const U=X0(O);let H;U&&Xo();const q=ee.follow(()=>{if(H=O(f),H&&U){var j=Pi.bind(null,null);H.then(j,j)}});return H&&typeof H.then=="function"?ee.resolve(H):q.then(()=>H)}}),m.push(S=>{(!_||!KM)&&function(k,A){[].slice.call(A.db.objectStoreNames).forEach(O=>k[O]==null&&A.db.deleteObjectStore(O))}(x._cfg.dbschema,S),tg(u,[u.Transaction.prototype]),Ld(u,[u.Transaction.prototype],u._storeNames,u._dbSchema),f.schema=u._dbSchema})}),w().then(()=>{var x,S;S=p,et(x=C).forEach(k=>{S.db.objectStoreNames.contains(k)||lp(S,k,x[k].primKey,x[k].indexes)})})}(t,e,o,n).catch(a)})}function sP(t,e){const n={del:[],add:[],change:[]};let i;for(i in t)e[i]||n.del.push(i);for(i in e){const r=t[i],o=e[i];if(r){const a={name:i,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(r.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||r.primKey.auto!==o.primKey.auto&&!Ah)a.recreate=!0,n.change.push(a);else{const c=r.idxByName,u=o.idxByName;let d;for(d in c)u[d]||a.del.push(d);for(d in u){const f=c[d],p=u[d];f?f.src!==p.src&&a.change.push(p):a.add.push(p)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([i,o])}return n}function lp(t,e,n,i){const r=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return i.forEach(o=>ng(r,o)),r}function ng(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function ig(t,e,n){const i={};return Td(e.objectStoreNames,0).forEach(r=>{const o=n.objectStore(r);let a=o.keyPath;const c=Xm(iP(a),a||"",!1,!1,!!o.autoIncrement,a&&typeof a!="string",!0),u=[];for(let f=0;f<o.indexNames.length;++f){const p=o.index(o.indexNames[f]);a=p.keyPath;var d=Xm(p.name,a,!!p.unique,!!p.multiEntry,!1,a&&typeof a!="string",!1);u.push(d)}i[r]=rP(r,c,u)}),i}function rg({_novip:t},e,n){const i=n.db.objectStoreNames;for(let r=0;r<i.length;++r){const o=i[r],a=n.objectStore(o);t._hasGetAll="getAll"in a;for(let c=0;c<a.indexNames.length;++c){const u=a.indexNames[c],d=a.index(u).keyPath,f=typeof d=="string"?d:"["+Td(d).join("+")+"]";if(e[o]){const p=e[o].idxByName[f];p&&(p.name=u,delete e[o].idxByName[f],e[o].idxByName[u]=p)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&je.WorkerGlobalScope&&je instanceof je.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class r3{_parseStoresSpec(e,n){et(e).forEach(i=>{if(e[i]!==null){var r=e[i].split(",").map((a,c)=>{const u=(a=a.trim()).replace(/([&*]|\+\+)/g,""),d=/^\[/.test(u)?u.match(/^\[(.*)\]$/)[1].split("+"):u;return Xm(u,d||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),Et(d),c===0)}),o=r.shift();if(o.multi)throw new le.Schema("Primary key cannot be multi-valued");r.forEach(a=>{if(a.auto)throw new le.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new le.Schema("Index must have a name and cannot be an empty string")}),n[i]=rP(i,o,r)}})}stores(e){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?Lt(this._cfg.storesSource,e):e;const i=n._versions,r={};let o={};return i.forEach(a=>{Lt(r,a._cfg.storesSource),o=a._cfg.dbschema={},a._parseStoresSpec(r,o)}),n._dbSchema=o,tg(n,[n._allTables,n,n.Transaction.prototype]),Ld(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],et(o),o),n._storeNames=et(o),this}upgrade(e){return this._cfg.contentUpgrade=tv(this._cfg.contentUpgrade||ke,e),this}}function sv(t,e){let n=t._dbNamesDB;return n||(n=t._dbNamesDB=new is(Nh,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function ov(t){return t&&typeof t.databases=="function"}function sg(t){return fr(function(){return se.letThrough=!0,t()})}function s3(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function o3(t){const e=t._state,{indexedDB:n}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?st(e.dbOpenError):t);qn&&(e.openCanceller._stackHolder=ws()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const i=e.openCanceller;function r(){if(e.openCanceller!==i)throw new le.DatabaseClosed("db.open() was cancelled")}let o=e.dbReadyResolve,a=null,c=!1;const u=()=>new ee((d,f)=>{if(r(),!n)throw new le.MissingAPI;const p=t.name,m=e.autoSchema?n.open(p):n.open(p,Math.round(10*t.verno));if(!m)throw new le.MissingAPI;m.onerror=Bn(f),m.onblocked=Be(t._fireOnBlocked),m.onupgradeneeded=Be(v=>{if(a=m.transaction,e.autoSchema&&!t._options.allowEmptyDB){m.onerror=Dl,a.abort(),m.result.close();const _=n.deleteDatabase(p);_.onsuccess=_.onerror=Be(()=>{f(new le.NoSuchDatabase(`Database ${p} doesnt exist`))})}else{a.onerror=Bn(f);var C=v.oldVersion>Math.pow(2,62)?0:v.oldVersion;c=C<1,t._novip.idbdb=m.result,i3(t,C/10,a,f)}},f),m.onsuccess=Be(()=>{a=null;const v=t._novip.idbdb=m.result,C=Td(v.objectStoreNames);if(C.length>0)try{const E=v.transaction((_=C).length===1?_[0]:_,"readonly");e.autoSchema?function({_novip:w},x,S){w.verno=x.version/10;const k=w._dbSchema=ig(0,x,S);w._storeNames=Td(x.objectStoreNames,0),Ld(w,[w._allTables],et(k),k)}(t,v,E):(rg(t,t._dbSchema,E),function(w,x){const S=sP(ig(0,w.idbdb,x),w._dbSchema);return!(S.add.length||S.change.some(k=>k.add.length||k.change.length))}(t,E)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),eg(t,E)}catch{}var _;il.push(t),v.onversionchange=Be(E=>{e.vcFired=!0,t.on("versionchange").fire(E)}),v.onclose=Be(E=>{t.on("close").fire(E)}),c&&function({indexedDB:E,IDBKeyRange:w},x){!ov(E)&&x!==Nh&&sv(E,w).put({name:x}).catch(ke)}(t._deps,p),d()},f)}).catch(d=>d&&d.name==="UnknownError"&&e.PR1398_maxLoop>0?(e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),u()):ee.reject(d));return ee.race([i,(typeof navigator>"u"?ee.resolve():s3()).then(u)]).then(()=>(r(),e.onReadyBeingFired=[],ee.resolve(sg(()=>t.on.ready.fire(t.vip))).then(function d(){if(e.onReadyBeingFired.length>0){let f=e.onReadyBeingFired.reduce(tv,ke);return e.onReadyBeingFired=[],ee.resolve(sg(()=>f(t.vip))).then(d)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(d=>{e.dbOpenError=d;try{a&&a.abort()}catch{}return i===e.openCanceller&&t._close(),st(d)}).finally(()=>{e.openComplete=!0,o()})}function og(t){var e=o=>t.next(o),n=r(e),i=r(o=>t.throw(o));function r(o){return a=>{var c=o(a),u=c.value;return c.done?u:u&&typeof u.then=="function"?u.then(n,i):Et(u)?Promise.all(u).then(n,i):n(u)}}return r(e)()}function a3(t,e,n){var i=arguments.length;if(i<2)throw new le.InvalidArgument("Too few arguments");for(var r=new Array(i-1);--i;)r[i-1]=arguments[i];return n=r.pop(),[t,jE(r),n]}function oP(t,e,n,i,r){return ee.resolve().then(()=>{const o=se.transless||se,a=t._createTransaction(e,n,t._dbSchema,i),c={trans:a,transless:o};if(i)a.idbtrans=i.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(p){return p.name===ev.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>oP(t,e,n,null,r))):st(p)}const u=X0(r);let d;u&&Xo();const f=ee.follow(()=>{if(d=r.call(a,a),d)if(u){var p=Pi.bind(null,null);d.then(p,p)}else typeof d.next=="function"&&typeof d.throw=="function"&&(d=og(d))},c);return(d&&typeof d.then=="function"?ee.resolve(d).then(p=>a.active?p:st(new le.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):f.then(()=>d)).then(p=>(i&&a._resolve(),a._completion.then(()=>p))).catch(p=>(a._reject(p),st(p)))})}function mu(t,e,n){const i=Et(t)?t.slice():[t];for(let r=0;r<n;++r)i.push(e);return i}const l3={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const n=t.table(e),{schema:i}=n,r={},o=[];function a(f,p,m){const v=sl(f),C=r[v]=r[v]||[],_=f==null?0:typeof f=="string"?1:f.length,E=p>0,w={...m,isVirtual:E,keyTail:p,keyLength:_,extractKey:Jm(f),unique:!E&&m.unique};return C.push(w),w.isPrimaryKey||o.push(w),_>1&&a(_===2?f[0]:f.slice(0,_-1),p+1,m),C.sort((x,S)=>x.keyTail-S.keyTail),w}const c=a(i.primaryKey.keyPath,0,i.primaryKey);r[":id"]=[c];for(const f of i.indexes)a(f.keyPath,0,f);function u(f){const p=f.query.index;return p.isVirtual?{...f,query:{index:p,range:(m=f.query.range,v=p.keyTail,{type:m.type===1?2:m.type,lower:mu(m.lower,m.lowerOpen?t.MAX_KEY:t.MIN_KEY,v),lowerOpen:!0,upper:mu(m.upper,m.upperOpen?t.MIN_KEY:t.MAX_KEY,v),upperOpen:!0})}}:f;var m,v}return{...n,schema:{...i,primaryKey:c,indexes:o,getIndexByKeyPath:function(f){const p=r[sl(f)];return p&&p[0]}},count:f=>n.count(u(f)),query:f=>n.query(u(f)),openCursor(f){const{keyTail:p,isVirtual:m,keyLength:v}=f.query.index;return m?n.openCursor(u(f)).then(C=>C&&function(_){return Object.create(_,{continue:{value:function(w){w!=null?_.continue(mu(w,f.reverse?t.MAX_KEY:t.MIN_KEY,p)):f.unique?_.continue(_.key.slice(0,v).concat(f.reverse?t.MIN_KEY:t.MAX_KEY,p)):_.continue()}},continuePrimaryKey:{value(w,x){_.continuePrimaryKey(mu(w,t.MAX_KEY,p),x)}},primaryKey:{get:()=>_.primaryKey},key:{get(){const w=_.key;return v===1?w[0]:w.slice(0,v)}},value:{get:()=>_.value}})}(C)):n.openCursor(f)}}}}}};function av(t,e,n,i){return n=n||{},i=i||"",et(t).forEach(r=>{if(Jt(e,r)){var o=t[r],a=e[r];if(typeof o=="object"&&typeof a=="object"&&o&&a){const c=Bm(o);c!==Bm(a)?n[i+r]=e[r]:c==="Object"?av(o,a,n,i+r+"."):o!==a&&(n[i+r]=e[r])}else o!==a&&(n[i+r]=e[r])}else n[i+r]=void 0}),et(e).forEach(r=>{Jt(t,r)||(n[i+r]=e[r])}),n}const c3={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const n=t.table(e),{primaryKey:i}=n.schema;return{...n,mutate(o){const a=se.trans,{deleting:c,creating:u,updating:d}=a.table(e).hook;switch(o.type){case"add":if(u.fire===ke)break;return a._promise("readwrite",()=>f(o),!0);case"put":if(u.fire===ke&&d.fire===ke)break;return a._promise("readwrite",()=>f(o),!0);case"delete":if(c.fire===ke)break;return a._promise("readwrite",()=>f(o),!0);case"deleteRange":if(c.fire===ke)break;return a._promise("readwrite",()=>function(m){return p(m.trans,m.range,1e4)}(o),!0)}return n.mutate(o);function f(m){const v=se.trans,C=m.keys||function(_,E){return E.type==="delete"?E.keys:E.keys||E.values.map(_.extractKey)}(i,m);if(!C)throw new Error("Keys missing");return(m=m.type==="add"||m.type==="put"?{...m,keys:C}:{...m}).type!=="delete"&&(m.values=[...m.values]),m.keys&&(m.keys=[...m.keys]),function(_,E,w){return E.type==="add"?Promise.resolve([]):_.getMany({trans:E.trans,keys:w,cache:"immutable"})}(n,m,C).then(_=>{const E=C.map((w,x)=>{const S=_[x],k={onerror:null,onsuccess:null};if(m.type==="delete")c.fire.call(k,w,S,v);else if(m.type==="add"||S===void 0){const A=u.fire.call(k,w,m.values[x],v);w==null&&A!=null&&(w=A,m.keys[x]=w,i.outbound||kn(m.values[x],i.keyPath,w))}else{const A=av(S,m.values[x]),O=d.fire.call(k,A,w,S,v);if(O){const R=m.values[x];Object.keys(O).forEach(U=>{Jt(R,U)?R[U]=O[U]:kn(R,U,O[U])})}}return k});return n.mutate(m).then(({failures:w,results:x,numFailures:S,lastResult:k})=>{for(let A=0;A<C.length;++A){const O=x?x[A]:C[A],R=E[A];O==null?R.onerror&&R.onerror(w[A]):R.onsuccess&&R.onsuccess(m.type==="put"&&_[A]?m.values[A]:O)}return{failures:w,results:x,numFailures:S,lastResult:k}}).catch(w=>(E.forEach(x=>x.onerror&&x.onerror(w)),Promise.reject(w)))})}function p(m,v,C){return n.query({trans:m,values:!1,query:{index:i,range:v},limit:C}).then(({result:_})=>f({type:"delete",keys:_,trans:m}).then(E=>E.numFailures>0?Promise.reject(E.failures[0]):_.length<C?{failures:[],numFailures:0,lastResult:void 0}:p(m,{...v,lower:_[_.length-1],lowerOpen:!0},C)))}}}}})};function aP(t,e,n){try{if(!e||e.keys.length<t.length)return null;const i=[];for(let r=0,o=0;r<e.keys.length&&o<t.length;++r)It(e.keys[r],t[o])===0&&(i.push(n?lc(e.values[r]):e.values[r]),++o);return i.length===t.length?i:null}catch{return null}}const u3={stack:"dbcore",level:-1,create:t=>({table:e=>{const n=t.table(e);return{...n,getMany:i=>{if(!i.cache)return n.getMany(i);const r=aP(i.keys,i.trans._cache,i.cache==="clone");return r?ee.resolve(r):n.getMany(i).then(o=>(i.trans._cache={keys:i.keys,values:i.cache==="clone"?lc(o):o},o))},mutate:i=>(i.type!=="add"&&(i.trans._cache=null),n.mutate(i))}}})};function lv(t){return!("from"in t)}const oi=function(t,e){if(!this){const n=new oi;return t&&"d"in t&&Lt(n,t),n}Lt(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function Bl(t,e,n){const i=It(e,n);if(isNaN(i))return;if(i>0)throw RangeError();if(lv(t))return Lt(t,{from:e,to:n,d:1});const r=t.l,o=t.r;if(It(n,t.from)<0)return r?Bl(r,e,n):t.l={from:e,to:n,d:1,l:null,r:null},Sw(t);if(It(e,t.to)>0)return o?Bl(o,e,n):t.r={from:e,to:n,d:1,l:null,r:null},Sw(t);It(e,t.from)<0&&(t.from=e,t.l=null,t.d=o?o.d+1:1),It(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);const a=!t.r;r&&!t.l&&Md(t,r),o&&a&&Md(t,o)}function Md(t,e){lv(e)||function n(i,{from:r,to:o,l:a,r:c}){Bl(i,r,o),a&&n(i,a),c&&n(i,c)}(t,e)}function d3(t,e){const n=ag(e);let i=n.next();if(i.done)return!1;let r=i.value;const o=ag(t);let a=o.next(r.from),c=a.value;for(;!i.done&&!a.done;){if(It(c.from,r.to)<=0&&It(c.to,r.from)>=0)return!0;It(r.from,c.from)<0?r=(i=n.next(c.from)).value:c=(a=o.next(r.from)).value}return!1}function ag(t){let e=lv(t)?null:{s:0,n:t};return{next(n){const i=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,i)for(;e.n.l&&It(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!i||It(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Sw(t){var e,n;const i=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),r=i>1?"r":i<-1?"l":"";if(r){const o=r==="r"?"l":"r",a={...t},c=t[r];t.from=c.from,t.to=c.to,t[r]=c[r],a[r]=c[o],t[o]=a,a.d=Ew(a)}t.d=Ew(t)}function Ew({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}jo(oi.prototype,{add(t){return Md(this,t),this},addKey(t){return Bl(this,t,t),this},addKeys(t){return t.forEach(e=>Bl(this,e,e)),this},[zm](){return ag(this)}});const h3={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,n=new oi(t.MIN_KEY,t.MAX_KEY);return{...t,table:i=>{const r=t.table(i),{schema:o}=r,{primaryKey:a}=o,{extractKey:c,outbound:u}=a,d={...r,mutate:m=>{const v=m.trans,C=v.mutatedParts||(v.mutatedParts={}),_=O=>{const R=`idb://${e}/${i}/${O}`;return C[R]||(C[R]=new oi)},E=_(""),w=_(":dels"),{type:x}=m;let[S,k]=m.type==="deleteRange"?[m.range]:m.type==="delete"?[m.keys]:m.values.length<50?[[],m.values]:[];const A=m.trans._cache;return r.mutate(m).then(O=>{if(Et(S)){x!=="delete"&&(S=O.results),E.addKeys(S);const R=aP(S,A);R||x==="add"||w.addKeys(S),(R||k)&&function(U,H,q,j){function M(B){const N=U(B.name||"");function D($){return $!=null?B.extractKey($):null}const z=$=>B.multiEntry&&Et($)?$.forEach(F=>N.addKey(F)):N.addKey($);(q||j).forEach(($,F)=>{const Z=q&&D(q[F]),K=j&&D(j[F]);It(Z,K)!==0&&(Z!=null&&z(Z),K!=null&&z(K))})}H.indexes.forEach(M)}(_,o,R,k)}else if(S){const R={from:S.lower,to:S.upper};w.add(R),E.add(R)}else E.add(n),w.add(n),o.indexes.forEach(R=>_(R.name).add(n));return O})}},f=({query:{index:m,range:v}})=>{var C,_;return[m,new oi((C=v.lower)!==null&&C!==void 0?C:t.MIN_KEY,(_=v.upper)!==null&&_!==void 0?_:t.MAX_KEY)]},p={get:m=>[a,new oi(m.key)],getMany:m=>[a,new oi().addKeys(m.keys)],count:f,query:f,openCursor:f};return et(p).forEach(m=>{d[m]=function(v){const{subscr:C}=se;if(C){const _=k=>{const A=`idb://${e}/${i}/${k}`;return C[A]||(C[A]=new oi)},E=_(""),w=_(":dels"),[x,S]=p[m](v);if(_(x.name||"").add(S),!x.isPrimaryKey){if(m!=="count"){const k=m==="query"&&u&&v.values&&r.query({...v,values:!1});return r[m].apply(this,arguments).then(A=>{if(m==="query"){if(u&&v.values)return k.then(({result:R})=>(E.addKeys(R),A));const O=v.values?A.result.map(c):A.result;v.values?E.addKeys(O):w.addKeys(O)}else if(m==="openCursor"){const O=A,R=v.values;return O&&Object.create(O,{key:{get:()=>(w.addKey(O.primaryKey),O.key)},primaryKey:{get(){const U=O.primaryKey;return w.addKey(U),U}},value:{get:()=>(R&&E.addKey(O.primaryKey),O.value)}})}return A})}w.add(n)}}return r[m].apply(this,arguments)}}),d}}}};class is{constructor(e,n){this._middlewares={},this.verno=0;const i=is.dependencies;this._options=n={addons:is.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:r}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ke,dbReadyPromise:null,cancelOpen:ke,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;o.dbReadyPromise=new ee(c=>{o.dbReadyResolve=c}),o.openCanceller=new ee((c,u)=>{o.cancelOpen=u}),this._state=o,this.name=e,this.on=rl(this,"populate","blocked","versionchange","close",{ready:[tv,ke]}),this.on.ready.subscribe=LE(this.on.ready.subscribe,c=>(u,d)=>{is.vip(()=>{const f=this._state;if(f.openComplete)f.dbOpenError||ee.resolve().then(u),d&&c(u);else if(f.onReadyBeingFired)f.onReadyBeingFired.push(u),d&&c(u);else{c(u);const p=this;d||c(function m(){p.on.ready.unsubscribe(u),p.on.ready.unsubscribe(m)})}})}),this.Collection=(a=this,Na(GM.prototype,function(c,u){this.db=a;let d=eP,f=null;if(u)try{d=u()}catch(C){f=C}const p=c._ctx,m=p.table,v=m.hook.reading.fire;this._ctx={table:m,index:p.index,isPrimKey:!p.index||m.schema.primKey.keyPath&&p.index===m.schema.primKey.name,range:d,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:f,or:p.or,valueMapper:v!==Ml?v:null}})),this.Table=function(c){return Na(qM.prototype,function(u,d,f){this.db=c,this._tx=f,this.name=u,this.schema=d,this.hook=c._allTables[u]?c._allTables[u].hook:rl(null,{creating:[DM,ke],reading:[OM,Ml],updating:[FM,ke],deleting:[jM,ke]})})}(this),this.Transaction=function(c){return Na(JM.prototype,function(u,d,f,p,m){this.db=c,this.mode=u,this.storeNames=d,this.schema=f,this.chromeTransactionDurability=p,this.idbtrans=null,this.on=rl(this,"complete","error","abort"),this.parent=m||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ee((v,C)=>{this._resolve=v,this._reject=C}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},v=>{var C=this.active;return this.active=!1,this.on.error.fire(v),this.parent?this.parent._reject(v):C&&this.idbtrans&&this.idbtrans.abort(),st(v)})})}(this),this.Version=function(c){return Na(r3.prototype,function(u){this.db=c,this._cfg={version:u,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(c){return Na(nP.prototype,function(u,d,f){this.db=c,this._ctx={table:u,index:d===":id"?null:d,or:f};const p=c._deps.indexedDB;if(!p)throw new le.MissingAPI;this._cmp=this._ascending=p.cmp.bind(p),this._descending=(m,v)=>p.cmp(v,m),this._max=(m,v)=>p.cmp(m,v)>0?m:v,this._min=(m,v)=>p.cmp(m,v)<0?m:v,this._IDBKeyRange=c._deps.IDBKeyRange})}(this),this.on("versionchange",c=>{c.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",c=>{!c.newVersion||c.newVersion<c.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${c.oldVersion/10}`)}),this._maxKey=Fl(n.IDBKeyRange),this._createTransaction=(c,u,d,f)=>new this.Transaction(c,u,d,this._options.chromeTransactionDurability,f),this._fireOnBlocked=c=>{this.on("blocked").fire(c),il.filter(u=>u.name===this.name&&u!==this&&!u._state.vcFired).map(u=>u.on("versionchange").fire(c))},this.use(l3),this.use(c3),this.use(h3),this.use(u3),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach(c=>c(this))}version(e){if(isNaN(e)||e<.1)throw new le.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new le.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const n=this._versions;var i=n.filter(r=>r._cfg.version===e)[0];return i||(i=new this.Version(e),n.push(i),n.sort(n3),i.stores({}),this._state.autoSchema=!1,i)}_whenReady(e){return this.idbdb&&(this._state.openComplete||se.letThrough||this._vip)?e():new ee((n,i)=>{if(this._state.openComplete)return i(new le.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void i(new le.DatabaseClosed);this.open().catch(ke)}this._state.dbReadyPromise.then(n,i)}).then(e)}use({stack:e,create:n,level:i,name:r}){r&&this.unuse({stack:e,name:r});const o=this._middlewares[e]||(this._middlewares[e]=[]);return o.push({stack:e,create:n,level:i??10,name:r}),o.sort((a,c)=>a.level-c.level),this}unuse({stack:e,name:n,create:i}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(r=>i?r.create!==i:!!n&&r.name!==n)),this}open(){return o3(this)}_close(){const e=this._state,n=il.indexOf(this);if(n>=0&&il.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new ee(i=>{e.dbReadyResolve=i}),e.openCanceller=new ee((i,r)=>{e.cancelOpen=r})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new le.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,n=this._state;return new ee((i,r)=>{const o=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=Be(()=>{(function({indexedDB:c,IDBKeyRange:u},d){!ov(c)&&d!==Nh&&sv(c,u).delete(d).catch(ke)})(this._deps,this.name),i()}),a.onerror=Bn(r),a.onblocked=this._fireOnBlocked};if(e)throw new le.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(o):o()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return et(this._allTables).map(e=>this._allTables[e])}transaction(){const e=a3.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,n,i){let r=se.trans;r&&r.db===this&&e.indexOf("!")===-1||(r=null);const o=e.indexOf("?")!==-1;let a,c;e=e.replace("!","").replace("?","");try{if(c=n.map(d=>{var f=d instanceof this.Table?d.name:d;if(typeof f!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return f}),e=="r"||e===ip)a=ip;else{if(e!="rw"&&e!=rp)throw new le.InvalidArgument("Invalid transaction mode: "+e);a=rp}if(r){if(r.mode===ip&&a===rp){if(!o)throw new le.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&c.forEach(d=>{if(r&&r.storeNames.indexOf(d)===-1){if(!o)throw new le.SubTransaction("Table "+d+" not included in parent transaction.");r=null}}),o&&r&&!r.active&&(r=null)}}catch(d){return r?r._promise(null,(f,p)=>{p(d)}):st(d)}const u=oP.bind(null,this,a,c,r,i);return r?r._promise(a,u,"lock"):se.trans?Jo(se.transless,()=>this._whenReady(u)):this._whenReady(u)}table(e){if(!Jt(this._allTables,e))throw new le.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const f3=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class p3{constructor(e){this._subscribe=e}subscribe(e,n,i){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:n,complete:i})}[f3](){return this}}function lP(t,e){return et(e).forEach(n=>{Md(t[n]||(t[n]=new oi),e[n])}),t}function m3(t){let e,n=!1;const i=new p3(r=>{const o=X0(t);let a=!1,c={},u={};const d={get closed(){return a},unsubscribe:()=>{a=!0,mr.storagemutated.unsubscribe(v)}};r.start&&r.start(d);let f=!1,p=!1;function m(){return et(u).some(_=>c[_]&&d3(c[_],u[_]))}const v=_=>{lP(c,_),m()&&C()},C=()=>{if(f||a)return;c={};const _={},E=function(w){o&&Xo();const x=()=>fr(t,{subscr:w,trans:null}),S=se.trans?Jo(se.transless,x):x();return o&&S.then(Pi,Pi),S}(_);p||(mr(jl,v),p=!0),f=!0,Promise.resolve(E).then(w=>{n=!0,e=w,f=!1,a||(m()?C():(c={},u=_,r.next&&r.next(w)))},w=>{f=!1,n=!1,r.error&&r.error(w),d.unsubscribe()})};return C(),d});return i.hasValue=()=>n,i.getValue=()=>e,i}let lg;try{lg={indexedDB:je.indexedDB||je.mozIndexedDB||je.webkitIndexedDB||je.msIndexedDB,IDBKeyRange:je.IDBKeyRange||je.webkitIDBKeyRange}}catch{lg={indexedDB:null,IDBKeyRange:null}}const Fr=is;function Ku(t){let e=ui;try{ui=!0,mr.storagemutated.fire(t)}finally{ui=e}}jo(Fr,{...zu,delete:t=>new Fr(t,{addons:[]}).delete(),exists:t=>new Fr(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:n}){return ov(e)?Promise.resolve(e.databases()).then(i=>i.map(r=>r.name).filter(r=>r!==Nh)):sv(e,n).toCollection().primaryKeys()}(Fr.dependencies).then(t)}catch{return st(new le.MissingAPI)}},defineClass:()=>function(t){Lt(this,t)},ignoreTransaction:t=>se.trans?Jo(se.transless,t):t(),vip:sg,async:function(t){return function(){try{var e=og(t.apply(this,arguments));return e&&typeof e.then=="function"?e:ee.resolve(e)}catch(n){return st(n)}}},spawn:function(t,e,n){try{var i=og(t.apply(n,e||[]));return i&&typeof i.then=="function"?i:ee.resolve(i)}catch(r){return st(r)}},currentTransaction:{get:()=>se.trans||null},waitFor:function(t,e){const n=ee.resolve(typeof t=="function"?Fr.ignoreTransaction(t):t).timeout(e||6e4);return se.trans?se.trans.waitFor(n):n},Promise:ee,debug:{get:()=>qn,set:t=>{BE(t,t==="dexie"?()=>!0:JE)}},derive:xo,extend:Lt,props:jo,override:LE,Events:rl,on:mr,liveQuery:m3,extendObservabilitySet:lP,getByKeyPath:mi,setByKeyPath:kn,delByKeyPath:function(t,e){typeof e=="string"?kn(t,e,void 0):"length"in e&&[].map.call(e,function(n){kn(t,n,void 0)})},shallowClone:DE,deepClone:lc,getObjectDiff:av,cmp:It,asap:ME,minKey:Qm,addons:[],connections:il,errnames:ev,dependencies:lg,semVer:yw,version:yw.split(".").map(t=>parseInt(t)).reduce((t,e,n)=>t+e/Math.pow(10,2*n))}),Fr.maxKey=Fl(Fr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(mr(jl,t=>{if(!ui){let e;Ah?(e=document.createEvent("CustomEvent"),e.initCustomEvent(Gi,!0,!0,t)):e=new CustomEvent(Gi,{detail:t}),ui=!0,dispatchEvent(e),ui=!1}}),addEventListener(Gi,({detail:t})=>{ui||Ku(t)}));let ui=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel(Gi);typeof t.unref=="function"&&t.unref(),mr(jl,e=>{ui||t.postMessage(e)}),t.onmessage=e=>{e.data&&Ku(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){mr(jl,e=>{try{ui||(typeof localStorage<"u"&&localStorage.setItem(Gi,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:Gi,changedParts:e})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===Gi){const n=JSON.parse(e.newValue);n&&Ku(n.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type===Gi&&Ku(e.changedParts)})}ee.rejectionMapper=function(t,e){if(!t||t instanceof wo||t instanceof TypeError||t instanceof SyntaxError||!t.name||!pw[t.name])return t;var n=new pw[t.name](e||t.message,t);return"stack"in t&&pi(n,"stack",{get:function(){return this.inner.stack}}),n},BE(qn,JE);class g3 extends is{constructor(){super("skiMatch");Hc(this,"users");Hc(this,"savedResorts");Hc(this,"trips");this.version(1).stores({users:"++id, email, name",savedResorts:"++id, userId, resortId",trips:"++id, userId, resortId, startDate"}),this.users.hook("creating",(n,i)=>(i.createdAt=new Date,i)),this.savedResorts.hook("creating",(n,i)=>(i.savedAt=new Date,i)),this.trips.hook("creating",(n,i)=>(i.createdAt=new Date,i)),this.open().catch(n=>{console.error("Failed to open database:",n)})}async getUserByEmail(n){return this.users.where("email").equals(n).first()}async getSavedResortsByUser(n){return this.savedResorts.where("userId").equals(n).toArray()}async getTripsByUser(n){return this.trips.where("userId").equals(n).toArray()}async saveResort(n,i,r){return this.savedResorts.add({userId:n,resortName:i,resortId:r,savedAt:new Date})}async removeSavedResort(n,i){await this.savedResorts.where(["userId","resortId"]).equals([n,i]).delete()}async addTrip(n){return this.trips.add({...n,createdAt:new Date})}}const gi=new g3;gi.users.hook("creating",(t,e)=>(console.log("Creating new user:",e.email),e));gi.users.hook("updating",(t,e,n)=>(console.log("Updating user:",e),t));gi.users.hook("deleting",t=>(console.log("Deleting user:",t),!0));function v3(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var cP={exports:{}};const y3={},_3=Object.freeze(Object.defineProperty({__proto__:null,default:y3},Symbol.toStringTag,{value:"Module"})),x3=oI(_3);(function(t){/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */(function(e,n){typeof v3=="function"&&t&&t.exports?t.exports=n():(e.dcodeIO=e.dcodeIO||{}).bcrypt=n()})(aC,function(){var e={},n=null;function i(j){if(t&&t.exports)try{return x3.randomBytes(j)}catch{}try{var M;return(self.crypto||self.msCrypto).getRandomValues(M=new Uint32Array(j)),Array.prototype.slice.call(M)}catch{}if(!n)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return n(j)}var r=!1;try{i(1),r=!0}catch{}n=null,e.setRandomFallback=function(j){n=j},e.genSaltSync=function(j,M){if(j=j||_,typeof j!="number")throw Error("Illegal arguments: "+typeof j+", "+typeof M);j<4?j=4:j>31&&(j=31);var B=[];return B.push("$2a$"),j<10&&B.push("0"),B.push(j.toString()),B.push("$"),B.push(p(i(C),C)),B.join("")},e.genSalt=function(j,M,B){if(typeof M=="function"&&(B=M,M=void 0),typeof j=="function"&&(B=j,j=void 0),typeof j>"u")j=_;else if(typeof j!="number")throw Error("illegal arguments: "+typeof j);function N(D){a(function(){try{D(null,e.genSaltSync(j))}catch(z){D(z)}})}if(B){if(typeof B!="function")throw Error("Illegal callback: "+typeof B);N(B)}else return new Promise(function(D,z){N(function($,F){if($){z($);return}D(F)})})},e.hashSync=function(j,M){if(typeof M>"u"&&(M=_),typeof M=="number"&&(M=e.genSaltSync(M)),typeof j!="string"||typeof M!="string")throw Error("Illegal arguments: "+typeof j+", "+typeof M);return q(j,M)},e.hash=function(j,M,B,N){function D(z){typeof j=="string"&&typeof M=="number"?e.genSalt(M,function($,F){q(j,F,z,N)}):typeof j=="string"&&typeof M=="string"?q(j,M,z,N):a(z.bind(this,Error("Illegal arguments: "+typeof j+", "+typeof M)))}if(B){if(typeof B!="function")throw Error("Illegal callback: "+typeof B);D(B)}else return new Promise(function(z,$){D(function(F,Z){if(F){$(F);return}z(Z)})})};function o(j,M){for(var B=0,N=0,D=0,z=j.length;D<z;++D)j.charCodeAt(D)===M.charCodeAt(D)?++B:++N;return B<0?!1:N===0}e.compareSync=function(j,M){if(typeof j!="string"||typeof M!="string")throw Error("Illegal arguments: "+typeof j+", "+typeof M);return M.length!==60?!1:o(e.hashSync(j,M.substr(0,M.length-31)),M)},e.compare=function(j,M,B,N){function D(z){if(typeof j!="string"||typeof M!="string"){a(z.bind(this,Error("Illegal arguments: "+typeof j+", "+typeof M)));return}if(M.length!==60){a(z.bind(this,null,!1));return}e.hash(j,M.substr(0,29),function($,F){$?z($):z(null,o(F,M))},N)}if(B){if(typeof B!="function")throw Error("Illegal callback: "+typeof B);D(B)}else return new Promise(function(z,$){D(function(F,Z){if(F){$(F);return}z(Z)})})},e.getRounds=function(j){if(typeof j!="string")throw Error("Illegal arguments: "+typeof j);return parseInt(j.split("$")[2],10)},e.getSalt=function(j){if(typeof j!="string")throw Error("Illegal arguments: "+typeof j);if(j.length!==60)throw Error("Illegal hash length: "+j.length+" != 60");return j.substring(0,29)};var a=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function c(j){var M=[],B=0;return v.encodeUTF16toUTF8(function(){return B>=j.length?null:j.charCodeAt(B++)},function(N){M.push(N)}),M}var u="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),d=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],f=String.fromCharCode;function p(j,M){var B=0,N=[],D,z;if(M<=0||M>j.length)throw Error("Illegal len: "+M);for(;B<M;){if(D=j[B++]&255,N.push(u[D>>2&63]),D=(D&3)<<4,B>=M){N.push(u[D&63]);break}if(z=j[B++]&255,D|=z>>4&15,N.push(u[D&63]),D=(z&15)<<2,B>=M){N.push(u[D&63]);break}z=j[B++]&255,D|=z>>6&3,N.push(u[D&63]),N.push(u[z&63])}return N.join("")}function m(j,M){var B=0,N=j.length,D=0,z=[],$,F,Z,K,Q,ie;if(M<=0)throw Error("Illegal len: "+M);for(;B<N-1&&D<M&&(ie=j.charCodeAt(B++),$=ie<d.length?d[ie]:-1,ie=j.charCodeAt(B++),F=ie<d.length?d[ie]:-1,!($==-1||F==-1||(Q=$<<2>>>0,Q|=(F&48)>>4,z.push(f(Q)),++D>=M||B>=N)||(ie=j.charCodeAt(B++),Z=ie<d.length?d[ie]:-1,Z==-1)||(Q=(F&15)<<4>>>0,Q|=(Z&60)>>2,z.push(f(Q)),++D>=M||B>=N)));)ie=j.charCodeAt(B++),K=ie<d.length?d[ie]:-1,Q=(Z&3)<<6>>>0,Q|=K,z.push(f(Q)),++D;var be=[];for(B=0;B<D;B++)be.push(z[B].charCodeAt(0));return be}var v=function(){var j={};return j.MAX_CODEPOINT=1114111,j.encodeUTF8=function(M,B){var N=null;for(typeof M=="number"&&(N=M,M=function(){return null});N!==null||(N=M())!==null;)N<128?B(N&127):N<2048?(B(N>>6&31|192),B(N&63|128)):N<65536?(B(N>>12&15|224),B(N>>6&63|128),B(N&63|128)):(B(N>>18&7|240),B(N>>12&63|128),B(N>>6&63|128),B(N&63|128)),N=null},j.decodeUTF8=function(M,B){for(var N,D,z,$,F=function(Z){Z=Z.slice(0,Z.indexOf(null));var K=Error(Z.toString());throw K.name="TruncatedError",K.bytes=Z,K};(N=M())!==null;)if(!(N&128))B(N);else if((N&224)===192)(D=M())===null&&F([N,D]),B((N&31)<<6|D&63);else if((N&240)===224)((D=M())===null||(z=M())===null)&&F([N,D,z]),B((N&15)<<12|(D&63)<<6|z&63);else if((N&248)===240)((D=M())===null||(z=M())===null||($=M())===null)&&F([N,D,z,$]),B((N&7)<<18|(D&63)<<12|(z&63)<<6|$&63);else throw RangeError("Illegal starting byte: "+N)},j.UTF16toUTF8=function(M,B){for(var N,D=null;(N=D!==null?D:M())!==null;){if(N>=55296&&N<=57343&&(D=M())!==null&&D>=56320&&D<=57343){B((N-55296)*1024+D-56320+65536),D=null;continue}B(N)}D!==null&&B(D)},j.UTF8toUTF16=function(M,B){var N=null;for(typeof M=="number"&&(N=M,M=function(){return null});N!==null||(N=M())!==null;)N<=65535?B(N):(N-=65536,B((N>>10)+55296),B(N%1024+56320)),N=null},j.encodeUTF16toUTF8=function(M,B){j.UTF16toUTF8(M,function(N){j.encodeUTF8(N,B)})},j.decodeUTF8toUTF16=function(M,B){j.decodeUTF8(M,function(N){j.UTF8toUTF16(N,B)})},j.calculateCodePoint=function(M){return M<128?1:M<2048?2:M<65536?3:4},j.calculateUTF8=function(M){for(var B,N=0;(B=M())!==null;)N+=j.calculateCodePoint(B);return N},j.calculateUTF16asUTF8=function(M){var B=0,N=0;return j.UTF16toUTF8(M,function(D){++B,N+=j.calculateCodePoint(D)}),[B,N]},j}();Date.now=Date.now||function(){return+new Date};var C=16,_=10,E=16,w=100,x=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],S=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],k=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function A(j,M,B,N){var D,z=j[M],$=j[M+1];return z^=B[0],D=N[z>>>24],D+=N[256|z>>16&255],D^=N[512|z>>8&255],D+=N[768|z&255],$^=D^B[1],D=N[$>>>24],D+=N[256|$>>16&255],D^=N[512|$>>8&255],D+=N[768|$&255],z^=D^B[2],D=N[z>>>24],D+=N[256|z>>16&255],D^=N[512|z>>8&255],D+=N[768|z&255],$^=D^B[3],D=N[$>>>24],D+=N[256|$>>16&255],D^=N[512|$>>8&255],D+=N[768|$&255],z^=D^B[4],D=N[z>>>24],D+=N[256|z>>16&255],D^=N[512|z>>8&255],D+=N[768|z&255],$^=D^B[5],D=N[$>>>24],D+=N[256|$>>16&255],D^=N[512|$>>8&255],D+=N[768|$&255],z^=D^B[6],D=N[z>>>24],D+=N[256|z>>16&255],D^=N[512|z>>8&255],D+=N[768|z&255],$^=D^B[7],D=N[$>>>24],D+=N[256|$>>16&255],D^=N[512|$>>8&255],D+=N[768|$&255],z^=D^B[8],D=N[z>>>24],D+=N[256|z>>16&255],D^=N[512|z>>8&255],D+=N[768|z&255],$^=D^B[9],D=N[$>>>24],D+=N[256|$>>16&255],D^=N[512|$>>8&255],D+=N[768|$&255],z^=D^B[10],D=N[z>>>24],D+=N[256|z>>16&255],D^=N[512|z>>8&255],D+=N[768|z&255],$^=D^B[11],D=N[$>>>24],D+=N[256|$>>16&255],D^=N[512|$>>8&255],D+=N[768|$&255],z^=D^B[12],D=N[z>>>24],D+=N[256|z>>16&255],D^=N[512|z>>8&255],D+=N[768|z&255],$^=D^B[13],D=N[$>>>24],D+=N[256|$>>16&255],D^=N[512|$>>8&255],D+=N[768|$&255],z^=D^B[14],D=N[z>>>24],D+=N[256|z>>16&255],D^=N[512|z>>8&255],D+=N[768|z&255],$^=D^B[15],D=N[$>>>24],D+=N[256|$>>16&255],D^=N[512|$>>8&255],D+=N[768|$&255],z^=D^B[16],j[M]=$^B[E+1],j[M+1]=z,j}function O(j,M){for(var B=0,N=0;B<4;++B)N=N<<8|j[M]&255,M=(M+1)%j.length;return{key:N,offp:M}}function R(j,M,B){for(var N=0,D=[0,0],z=M.length,$=B.length,F,Z=0;Z<z;Z++)F=O(j,N),N=F.offp,M[Z]=M[Z]^F.key;for(Z=0;Z<z;Z+=2)D=A(D,0,M,B),M[Z]=D[0],M[Z+1]=D[1];for(Z=0;Z<$;Z+=2)D=A(D,0,M,B),B[Z]=D[0],B[Z+1]=D[1]}function U(j,M,B,N){for(var D=0,z=[0,0],$=B.length,F=N.length,Z,K=0;K<$;K++)Z=O(M,D),D=Z.offp,B[K]=B[K]^Z.key;for(D=0,K=0;K<$;K+=2)Z=O(j,D),D=Z.offp,z[0]^=Z.key,Z=O(j,D),D=Z.offp,z[1]^=Z.key,z=A(z,0,B,N),B[K]=z[0],B[K+1]=z[1];for(K=0;K<F;K+=2)Z=O(j,D),D=Z.offp,z[0]^=Z.key,Z=O(j,D),D=Z.offp,z[1]^=Z.key,z=A(z,0,B,N),N[K]=z[0],N[K+1]=z[1]}function H(j,M,B,N,D){var z=k.slice(),$=z.length,F;if(B<4||B>31)if(F=Error("Illegal number of rounds (4-31): "+B),N){a(N.bind(this,F));return}else throw F;if(M.length!==C)if(F=Error("Illegal salt length: "+M.length+" != "+C),N){a(N.bind(this,F));return}else throw F;B=1<<B>>>0;var Z,K,Q=0,ie;Int32Array?(Z=new Int32Array(x),K=new Int32Array(S)):(Z=x.slice(),K=S.slice()),U(M,j,Z,K);function be(){if(D&&D(Q/B),Q<B)for(var de=Date.now();Q<B&&(Q=Q+1,R(j,Z,K),R(M,Z,K),!(Date.now()-de>w)););else{for(Q=0;Q<64;Q++)for(ie=0;ie<$>>1;ie++)A(z,ie<<1,Z,K);var ne=[];for(Q=0;Q<$;Q++)ne.push((z[Q]>>24&255)>>>0),ne.push((z[Q]>>16&255)>>>0),ne.push((z[Q]>>8&255)>>>0),ne.push((z[Q]&255)>>>0);if(N){N(null,ne);return}else return ne}N&&a(be)}if(typeof N<"u")be();else for(var _e;;)if(typeof(_e=be())<"u")return _e||[]}function q(j,M,B,N){var D;if(typeof j!="string"||typeof M!="string")if(D=Error("Invalid string / salt: Not a string"),B){a(B.bind(this,D));return}else throw D;var z,$;if(M.charAt(0)!=="$"||M.charAt(1)!=="2")if(D=Error("Invalid salt version: "+M.substring(0,2)),B){a(B.bind(this,D));return}else throw D;if(M.charAt(2)==="$")z="\0",$=3;else{if(z=M.charAt(2),z!=="a"&&z!=="b"&&z!=="y"||M.charAt(3)!=="$")if(D=Error("Invalid salt revision: "+M.substring(2,4)),B){a(B.bind(this,D));return}else throw D;$=4}if(M.charAt($+2)>"$")if(D=Error("Missing salt rounds"),B){a(B.bind(this,D));return}else throw D;var F=parseInt(M.substring($,$+1),10)*10,Z=parseInt(M.substring($+1,$+2),10),K=F+Z,Q=M.substring($+3,$+25);j+=z>="a"?"\0":"";var ie=c(j),be=m(Q,C);function _e(de){var ne=[];return ne.push("$2"),z>="a"&&ne.push(z),ne.push("$"),K<10&&ne.push("0"),ne.push(K.toString()),ne.push("$"),ne.push(p(be,be.length)),ne.push(p(de,k.length*4-1)),ne.join("")}if(typeof B>"u")return _e(H(ie,be,K));H(ie,be,K,function(de,ne){de?B(de,null):B(null,_e(ne))},N)}return e.encodeBase64=p,e.decodeBase64=m,e})})(cP);var w3=cP.exports;const Od=t0(w3),b3=T.createContext(void 0);function C3({children:t}){const[e,n]=T.useState(null),[i,r]=T.useState(!0);T.useEffect(()=>{const u=localStorage.getItem("user");u&&n(JSON.parse(u)),r(!1)},[]);const o=async(u,d)=>{const f=await gi.users.where("email").equals(u).first();if(!f)throw new Error("User not found");if(!await Od.compare(d,f.password))throw new Error("Invalid password");const{password:m,...v}=f;n(v),localStorage.setItem("user",JSON.stringify(v))},a=async(u,d,f)=>{if(await gi.users.where("email").equals(u).first())throw new Error("Email already exists");const m=await Od.hash(d,10),v={email:u,password:m,name:f,createdAt:new Date};await gi.users.add(v);const{password:C,..._}=v;n(_),localStorage.setItem("user",JSON.stringify(_))},c=()=>{n(null),localStorage.removeItem("user")};return b.jsx(b3.Provider,{value:{user:e,login:o,signup:a,logout:c,isLoading:i},children:t})}function S3(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}function Ih(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const cg=t=>Array.isArray(t);function uP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function zl(t){return typeof t=="string"||Array.isArray(t)}function Pw(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function cv(t,e,n,i){if(typeof e=="function"){const[r,o]=Pw(i);e=e(n!==void 0?n:t.custom,r,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,o]=Pw(i);e=e(n!==void 0?n:t.custom,r,o)}return e}function Rh(t,e,n){const i=t.getProps();return cv(i,e,n!==void 0?n:i.custom,t)}const uv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dv=["initial",...uv],dc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bs=new Set(dc),vi=t=>t*1e3,yi=t=>t/1e3,E3={type:"spring",stiffness:500,damping:25,restSpeed:10},P3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),T3={type:"keyframes",duration:.8},k3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},A3=(t,{keyframes:e})=>e.length>2?T3:bs.has(t)?t.startsWith("scale")?P3(e[1]):E3:k3;function hv(t,e){return t?t[e]||t.default||t:void 0}const N3={skipAnimations:!1,useManualTiming:!1},I3=t=>t!==null;function Lh(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(I3),o=e&&n!=="loop"&&e%2===1?0:r.length-1;return!o||i===void 0?r[o]:i}const Tt=t=>t;function R3(t){let e=new Set,n=new Set,i=!1,r=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),t()),d(a)}const u={schedule:(d,f=!1,p=!1)=>{const v=p&&i?e:n;return f&&o.add(d),v.has(d)||v.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(a=d,i){r=!0;return}i=!0,[e,n]=[n,e],n.clear(),e.forEach(c),i=!1,r&&(r=!1,u.process(d))}};return u}const gu=["read","resolveKeyframes","update","preRender","render","postRender"],L3=40;function dP(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=gu.reduce((w,x)=>(w[x]=R3(o),w),{}),{read:c,resolveKeyframes:u,update:d,preRender:f,render:p,postRender:m}=a,v=()=>{const w=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(w-r.timestamp,L3),1),r.timestamp=w,r.isProcessing=!0,c.process(r),u.process(r),d.process(r),f.process(r),p.process(r),m.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(v))},C=()=>{n=!0,i=!0,r.isProcessing||t(v)};return{schedule:gu.reduce((w,x)=>{const S=a[x];return w[x]=(k,A=!1,O=!1)=>(n||C(),S.schedule(k,A,O)),w},{}),cancel:w=>{for(let x=0;x<gu.length;x++)a[gu[x]].cancel(w)},state:r,steps:a}}const{schedule:Te,cancel:gr,state:mt,steps:cp}=dP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tt,!0),hP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,M3=1e-7,O3=12;function D3(t,e,n,i,r){let o,a,c=0;do a=e+(n-e)/2,o=hP(a,i,r)-t,o>0?n=a:e=a;while(Math.abs(o)>M3&&++c<O3);return a}function hc(t,e,n,i){if(t===e&&n===i)return Tt;const r=o=>D3(o,0,1,t,n);return o=>o===0||o===1?o:hP(r(o),e,i)}const fP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pP=t=>e=>1-t(1-e),mP=hc(.33,1.53,.69,.99),fv=pP(mP),gP=fP(fv),vP=t=>(t*=2)<1?.5*fv(t):.5*(2-Math.pow(2,-10*(t-1))),pv=t=>1-Math.sin(Math.acos(t)),yP=pP(pv),_P=fP(pv),xP=t=>/^0[^.\s]+$/u.test(t);function j3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||xP(t):!0}let ug=Tt;const wP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),bP=t=>e=>typeof e=="string"&&e.startsWith(t),CP=bP("--"),F3=bP("var(--"),mv=t=>F3(t)?B3.test(t.split("/*")[0].trim()):!1,B3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,z3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function V3(t){const e=z3.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function SP(t,e,n=1){const[i,r]=V3(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const a=o.trim();return wP(a)?parseFloat(a):a}return mv(r)?SP(r,e,n+1):r}const vr=(t,e,n)=>n>e?e:n<t?t:n,ea={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Vl={...ea,transform:t=>vr(0,1,t)},vu={...ea,default:1},fc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ui=fc("deg"),$n=fc("%"),oe=fc("px"),U3=fc("vh"),W3=fc("vw"),Tw={...$n,parse:t=>$n.parse(t)/100,transform:t=>$n.transform(t*100)},$3=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),kw=t=>t===ea||t===oe,Aw=(t,e)=>parseFloat(t.split(", ")[e]),Nw=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return Aw(r[1],e);{const o=i.match(/^matrix\((.+)\)$/u);return o?Aw(o[1],t):0}},H3=new Set(["x","y","z"]),K3=dc.filter(t=>!H3.has(t));function Z3(t){const e=[];return K3.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Fo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Nw(4,13),y:Nw(5,14)};Fo.translateX=Fo.x;Fo.translateY=Fo.y;const EP=t=>e=>e.test(t),q3={test:t=>t==="auto",parse:t=>t},PP=[ea,oe,$n,Ui,W3,U3,q3],Iw=t=>PP.find(EP(t)),rs=new Set;let dg=!1,hg=!1;function TP(){if(hg){const t=Array.from(rs).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=Z3(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([o,a])=>{var c;(c=i.getValue(o))===null||c===void 0||c.set(a)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}hg=!1,dg=!1,rs.forEach(t=>t.complete()),rs.clear()}function kP(){rs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hg=!0)})}function G3(){kP(),TP()}class gv{constructor(e,n,i,r,o,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=o,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(rs.add(this),dg||(dg=!0,Te.read(kP),Te.resolveKeyframes(TP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const a=r==null?void 0:r.get(),c=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const u=i.readValue(n,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),r&&a===void 0&&r.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),rs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,rs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ol=t=>Math.round(t*1e5)/1e5,vv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Y3(t){return t==null}const Q3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,yv=(t,e)=>n=>!!(typeof n=="string"&&Q3.test(n)&&n.startsWith(t)||e&&!Y3(n)&&Object.prototype.hasOwnProperty.call(n,e)),AP=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,o,a,c]=i.match(vv);return{[t]:parseFloat(r),[e]:parseFloat(o),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},X3=t=>vr(0,255,t),up={...ea,transform:t=>Math.round(X3(t))},Yr={test:yv("rgb","red"),parse:AP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+up.transform(t)+", "+up.transform(e)+", "+up.transform(n)+", "+ol(Vl.transform(i))+")"};function J3(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const fg={test:yv("#"),parse:J3,transform:Yr.transform},oo={test:yv("hsl","hue"),parse:AP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+$n.transform(ol(e))+", "+$n.transform(ol(n))+", "+ol(Vl.transform(i))+")"},xt={test:t=>Yr.test(t)||fg.test(t)||oo.test(t),parse:t=>Yr.test(t)?Yr.parse(t):oo.test(t)?oo.parse(t):fg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Yr.transform(t):oo.transform(t)},eO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tO(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(vv))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(eO))===null||n===void 0?void 0:n.length)||0)>0}const NP="number",IP="color",nO="var",iO="var(",Rw="${}",rO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ul(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let o=0;const c=e.replace(rO,u=>(xt.test(u)?(i.color.push(o),r.push(IP),n.push(xt.parse(u))):u.startsWith(iO)?(i.var.push(o),r.push(nO),n.push(u)):(i.number.push(o),r.push(NP),n.push(parseFloat(u))),++o,Rw)).split(Rw);return{values:n,split:c,indexes:i,types:r}}function RP(t){return Ul(t).values}function LP(t){const{split:e,types:n}=Ul(t),i=e.length;return r=>{let o="";for(let a=0;a<i;a++)if(o+=e[a],r[a]!==void 0){const c=n[a];c===NP?o+=ol(r[a]):c===IP?o+=xt.transform(r[a]):o+=r[a]}return o}}const sO=t=>typeof t=="number"?0:t;function oO(t){const e=RP(t);return LP(t)(e.map(sO))}const yr={test:tO,parse:RP,createTransformer:LP,getAnimatableNone:oO},aO=new Set(["brightness","contrast","saturate","opacity"]);function lO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(vv)||[];if(!i)return t;const r=n.replace(i,"");let o=aO.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+r+")"}const cO=/\b([a-z-]*)\(.*?\)/gu,pg={...yr,getAnimatableNone:t=>{const e=t.match(cO);return e?e.map(lO).join(" "):t}},uO={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,backgroundPositionX:oe,backgroundPositionY:oe},dO={rotate:Ui,rotateX:Ui,rotateY:Ui,rotateZ:Ui,scale:vu,scaleX:vu,scaleY:vu,scaleZ:vu,skew:Ui,skewX:Ui,skewY:Ui,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:Vl,originX:Tw,originY:Tw,originZ:oe},Lw={...ea,transform:Math.round},_v={...uO,...dO,zIndex:Lw,size:oe,fillOpacity:Vl,strokeOpacity:Vl,numOctaves:Lw},hO={..._v,color:xt,backgroundColor:xt,outlineColor:xt,fill:xt,stroke:xt,borderColor:xt,borderTopColor:xt,borderRightColor:xt,borderBottomColor:xt,borderLeftColor:xt,filter:pg,WebkitFilter:pg},xv=t=>hO[t];function MP(t,e){let n=xv(t);return n!==pg&&(n=yr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const fO=new Set(["auto","none","0"]);function pO(t,e,n){let i=0,r;for(;i<t.length&&!r;){const o=t[i];typeof o=="string"&&!fO.has(o)&&Ul(o).values.length&&(r=t[i]),i++}if(r&&n)for(const o of e)t[o]=MP(n,r)}class OP extends gv{constructor(e,n,i,r,o){super(e,n,i,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),mv(d))){const f=SP(d,n.current);f!==void 0&&(e[u]=f),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!$3.has(i)||e.length!==2)return;const[r,o]=e,a=Iw(r),c=Iw(o);if(a!==c)if(kw(a)&&kw(c))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)j3(e[r])&&i.push(r);i.length&&pO(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const o=n.getValue(i);o&&o.jump(this.measuredOrigin,!1);const a=r.length-1,c=r[a];r[a]=Fo[i](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,d])=>{n.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function wv(t){return typeof t=="function"}let Zu;function mO(){Zu=void 0}const Hn={now:()=>(Zu===void 0&&Hn.set(mt.isProcessing||N3.useManualTiming?mt.timestamp:performance.now()),Zu),set:t=>{Zu=t,queueMicrotask(mO)}},Mw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(yr.test(t)||t==="0")&&!t.startsWith("url("));function gO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function vO(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=Mw(r,e),c=Mw(o,e);return!a||!c?!1:gO(t)||(n==="spring"||wv(n))&&i}const yO=40;class DP{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:a="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Hn.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:o,repeatType:a,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>yO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&G3(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Hn.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:o,delay:a,onComplete:c,onUpdate:u,isGenerator:d}=this.options;if(!d&&!vO(e,i,r,o))if(a)this.options.duration=0;else{u==null||u(Lh(e,this.options,n)),c==null||c(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,n);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function jP(t,e){return e?t*(1e3/e):0}const _O=5;function FP(t,e,n){const i=Math.max(e-_O,0);return jP(n-t(i),e-i)}const dp=.001,xO=.01,wO=10,bO=.05,CO=1;function SO({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let r,o,a=1-e;a=vr(bO,CO,a),t=vr(xO,wO,yi(t)),a<1?(r=d=>{const f=d*a,p=f*t,m=f-n,v=mg(d,a),C=Math.exp(-p);return dp-m/v*C},o=d=>{const p=d*a*t,m=p*n+n,v=Math.pow(a,2)*Math.pow(d,2)*t,C=Math.exp(-p),_=mg(Math.pow(d,2),a);return(-r(d)+dp>0?-1:1)*((m-v)*C)/_}):(r=d=>{const f=Math.exp(-d*t),p=(d-n)*t+1;return-dp+f*p},o=d=>{const f=Math.exp(-d*t),p=(n-d)*(t*t);return f*p});const c=5/t,u=PO(r,o,c);if(t=vi(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(u,2)*i;return{stiffness:d,damping:a*2*Math.sqrt(i*d),duration:t}}}const EO=12;function PO(t,e,n){let i=n;for(let r=1;r<EO;r++)i=i-t(i)/e(i);return i}function mg(t,e){return t*Math.sqrt(1-e*e)}const TO=["duration","bounce"],kO=["stiffness","damping","mass"];function Ow(t,e){return e.some(n=>t[n]!==void 0)}function AO(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Ow(t,kO)&&Ow(t,TO)){const n=SO(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function BP({keyframes:t,restDelta:e,restSpeed:n,...i}){const r=t[0],o=t[t.length-1],a={done:!1,value:r},{stiffness:c,damping:u,mass:d,duration:f,velocity:p,isResolvedFromDuration:m}=AO({...i,velocity:-yi(i.velocity||0)}),v=p||0,C=u/(2*Math.sqrt(c*d)),_=o-r,E=yi(Math.sqrt(c/d)),w=Math.abs(_)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let x;if(C<1){const S=mg(E,C);x=k=>{const A=Math.exp(-C*E*k);return o-A*((v+C*E*_)/S*Math.sin(S*k)+_*Math.cos(S*k))}}else if(C===1)x=S=>o-Math.exp(-E*S)*(_+(v+E*_)*S);else{const S=E*Math.sqrt(C*C-1);x=k=>{const A=Math.exp(-C*E*k),O=Math.min(S*k,300);return o-A*((v+C*E*_)*Math.sinh(O)+S*_*Math.cosh(O))/S}}return{calculatedDuration:m&&f||null,next:S=>{const k=x(S);if(m)a.done=S>=f;else{let A=0;C<1&&(A=S===0?vi(v):FP(x,S,k));const O=Math.abs(A)<=n,R=Math.abs(o-k)<=e;a.done=O&&R}return a.value=a.done?o:k,a}}}function Dw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:a,min:c,max:u,restDelta:d=.5,restSpeed:f}){const p=t[0],m={done:!1,value:p},v=U=>c!==void 0&&U<c||u!==void 0&&U>u,C=U=>c===void 0?u:u===void 0||Math.abs(c-U)<Math.abs(u-U)?c:u;let _=n*e;const E=p+_,w=a===void 0?E:a(E);w!==E&&(_=w-p);const x=U=>-_*Math.exp(-U/i),S=U=>w+x(U),k=U=>{const H=x(U),q=S(U);m.done=Math.abs(H)<=d,m.value=m.done?w:q};let A,O;const R=U=>{v(m.value)&&(A=U,O=BP({keyframes:[m.value,C(m.value)],velocity:FP(S,U,m.value),damping:r,stiffness:o,restDelta:d,restSpeed:f}))};return R(0),{calculatedDuration:null,next:U=>{let H=!1;return!O&&A===void 0&&(H=!0,k(U),R(U)),A!==void 0&&U>=A?O.next(U-A):(!H&&k(U),m)}}}const NO=hc(.42,0,1,1),IO=hc(0,0,.58,1),zP=hc(.42,0,.58,1),RO=t=>Array.isArray(t)&&typeof t[0]!="number",bv=t=>Array.isArray(t)&&typeof t[0]=="number",jw={linear:Tt,easeIn:NO,easeInOut:zP,easeOut:IO,circIn:pv,circInOut:_P,circOut:yP,backIn:fv,backInOut:gP,backOut:mP,anticipate:vP},Fw=t=>{if(bv(t)){ug(t.length===4);const[e,n,i,r]=t;return hc(e,n,i,r)}else if(typeof t=="string")return ug(jw[t]!==void 0),jw[t];return t},LO=(t,e)=>n=>e(t(n)),_i=(...t)=>t.reduce(LO),Bo=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},We=(t,e,n)=>t+(e-t)*n;function hp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function MO({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,o=0,a=0;if(!e)r=o=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;r=hp(u,c,t+1/3),o=hp(u,c,t),a=hp(u,c,t-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:i}}function Dd(t,e){return n=>n>0?e:t}const fp=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},OO=[fg,Yr,oo],DO=t=>OO.find(e=>e.test(t));function Bw(t){const e=DO(t);if(!e)return!1;let n=e.parse(t);return e===oo&&(n=MO(n)),n}const zw=(t,e)=>{const n=Bw(t),i=Bw(e);if(!n||!i)return Dd(t,e);const r={...n};return o=>(r.red=fp(n.red,i.red,o),r.green=fp(n.green,i.green,o),r.blue=fp(n.blue,i.blue,o),r.alpha=We(n.alpha,i.alpha,o),Yr.transform(r))},gg=new Set(["none","hidden"]);function jO(t,e){return gg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function FO(t,e){return n=>We(t,e,n)}function Cv(t){return typeof t=="number"?FO:typeof t=="string"?mv(t)?Dd:xt.test(t)?zw:VO:Array.isArray(t)?VP:typeof t=="object"?xt.test(t)?zw:BO:Dd}function VP(t,e){const n=[...t],i=n.length,r=t.map((o,a)=>Cv(o)(o,e[a]));return o=>{for(let a=0;a<i;a++)n[a]=r[a](o);return n}}function BO(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=Cv(t[r])(t[r],e[r]));return r=>{for(const o in i)n[o]=i[o](r);return n}}function zO(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],c=t.indexes[a][r[a]],u=(n=t.values[c])!==null&&n!==void 0?n:0;i[o]=u,r[a]++}return i}const VO=(t,e)=>{const n=yr.createTransformer(e),i=Ul(t),r=Ul(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?gg.has(t)&&!r.values.length||gg.has(e)&&!i.values.length?jO(t,e):_i(VP(zO(i,r),r.values),n):Dd(t,e)};function UP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?We(t,e,n):Cv(t)(t,e)}function UO(t,e,n){const i=[],r=n||UP,o=t.length-1;for(let a=0;a<o;a++){let c=r(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||Tt:e;c=_i(u,c)}i.push(c)}return i}function WO(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const o=t.length;if(ug(o===e.length),o===1)return()=>e[0];if(o===2&&t[0]===t[1])return()=>e[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=UO(e,i,r),c=a.length,u=d=>{let f=0;if(c>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const p=Bo(t[f],t[f+1],d);return a[f](p)};return n?d=>u(vr(t[0],t[o-1],d)):u}function $O(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Bo(0,e,i);t.push(We(n,1,r))}}function HO(t){const e=[0];return $O(e,t.length-1),e}function KO(t,e){return t.map(n=>n*e)}function ZO(t,e){return t.map(()=>e||zP).splice(0,t.length-1)}function jd({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=RO(i)?i.map(Fw):Fw(i),o={done:!1,value:e[0]},a=KO(n&&n.length===e.length?n:HO(e),t),c=WO(a,e,{ease:Array.isArray(r)?r:ZO(e,r)});return{calculatedDuration:t,next:u=>(o.value=c(u),o.done=u>=t,o)}}const Vw=2e4;function qO(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Vw;)e+=n,i=t.next(e);return e>=Vw?1/0:e}const GO=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Te.update(e,!0),stop:()=>gr(e),now:()=>mt.isProcessing?mt.timestamp:Hn.now()}},YO={decay:Dw,inertia:Dw,tween:jd,keyframes:jd,spring:BP},QO=t=>t/100;class Sv extends DP{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:i,element:r,keyframes:o}=this.options,a=(r==null?void 0:r.KeyframeResolver)||gv,c=(u,d)=>this.onKeyframesResolved(u,d);this.resolver=new a(o,c,n,i,r),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o,velocity:a=0}=this.options,c=wv(n)?n:YO[n]||jd;let u,d;c!==jd&&typeof e[0]!="number"&&(u=_i(QO,UP(e[0],e[1])),e=[0,100]);const f=c({...this.options,keyframes:e});o==="mirror"&&(d=c({...this.options,keyframes:[...e].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=qO(f));const{calculatedDuration:p}=f,m=p+r,v=m*(i+1)-r;return{generator:f,mirroredGenerator:d,mapPercentToKeyframes:u,calculatedDuration:p,resolvedDuration:m,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:U}=this.options;return{done:!0,value:U[U.length-1]}}const{finalKeyframe:r,generator:o,mirroredGenerator:a,mapPercentToKeyframes:c,keyframes:u,calculatedDuration:d,totalDuration:f,resolvedDuration:p}=i;if(this.startTime===null)return o.next(0);const{delay:m,repeat:v,repeatType:C,repeatDelay:_,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-m*(this.speed>=0?1:-1),x=this.speed>=0?w<0:w>f;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let S=this.currentTime,k=o;if(v){const U=Math.min(this.currentTime,f)/p;let H=Math.floor(U),q=U%1;!q&&U>=1&&(q=1),q===1&&H--,H=Math.min(H,v+1),!!(H%2)&&(C==="reverse"?(q=1-q,_&&(q-=_/p)):C==="mirror"&&(k=a)),S=vr(0,1,q)*p}const A=x?{done:!1,value:u[0]}:k.next(S);c&&(A.value=c(A.value));let{done:O}=A;!x&&d!==null&&(O=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return R&&r!==void 0&&(A.value=Lh(u,this.options,r)),E&&E(A.value),R&&this.finish(),A}get duration(){const{resolved:e}=this;return e?yi(e.calculatedDuration):0}get time(){return yi(this.currentTime)}set time(e){e=vi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=yi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=GO,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const XO=new Set(["opacity","clipPath","filter","transform"]),JO=10,e4=(t,e)=>{let n="";const i=Math.max(Math.round(e/JO),2);for(let r=0;r<i;r++)n+=t(Bo(0,i-1,r))+", ";return`linear(${n.substring(0,n.length-2)})`};function Ev(t){let e;return()=>(e===void 0&&(e=t()),e)}const t4={linearEasing:void 0};function n4(t,e){const n=Ev(t);return()=>{var i;return(i=t4[e])!==null&&i!==void 0?i:n()}}const Fd=n4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function WP(t){return!!(typeof t=="function"&&Fd()||!t||typeof t=="string"&&(t in vg||Fd())||bv(t)||Array.isArray(t)&&t.every(WP))}const $a=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,vg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$a([0,.65,.55,1]),circOut:$a([.55,0,1,.45]),backIn:$a([.31,.01,.66,-.59]),backOut:$a([.33,1.53,.69,.99])};function $P(t,e){if(t)return typeof t=="function"&&Fd()?e4(t,e):bv(t)?$a(t):Array.isArray(t)?t.map(n=>$P(n,e)||vg.easeOut):vg[t]}function i4(t,e,n,{delay:i=0,duration:r=300,repeat:o=0,repeatType:a="loop",ease:c,times:u}={}){const d={[e]:n};u&&(d.offset=u);const f=$P(c,r);return Array.isArray(f)&&(d.easing=f),t.animate(d,{delay:i,duration:r,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}function Uw(t,e){t.timeline=e,t.onfinish=null}const r4=Ev(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Bd=10,s4=2e4;function o4(t){return wv(t.type)||t.type==="spring"||!WP(t.ease)}function a4(t,e){const n=new Sv({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let o=0;for(;!i.done&&o<s4;)i=n.sample(o),r.push(i.value),o+=Bd;return{times:void 0,keyframes:r,duration:o-Bd,ease:"linear"}}const HP={anticipate:vP,backInOut:gP,circInOut:_P};function l4(t){return t in HP}class Ww extends DP{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:o}=this.options;this.resolver=new OP(o,(a,c)=>this.onKeyframesResolved(a,c),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){var i;let{duration:r=300,times:o,ease:a,type:c,motionValue:u,name:d,startTime:f}=this.options;if(!(!((i=u.owner)===null||i===void 0)&&i.current))return!1;if(typeof a=="string"&&Fd()&&l4(a)&&(a=HP[a]),o4(this.options)){const{onComplete:m,onUpdate:v,motionValue:C,element:_,...E}=this.options,w=a4(e,E);e=w.keyframes,e.length===1&&(e[1]=e[0]),r=w.duration,o=w.times,a=w.ease,c="keyframes"}const p=i4(u.owner.current,d,e,{...this.options,duration:r,times:o,ease:a});return p.startTime=f??this.calcStartTime(),this.pendingTimeline?(Uw(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:m}=this.options;u.set(Lh(e,this.options,n)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:r,times:o,type:c,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return yi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return yi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=vi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Tt;const{animation:i}=n;Uw(i,e)}return Tt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:o,ease:a,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:f,onComplete:p,element:m,...v}=this.options,C=new Sv({...v,keyframes:i,duration:r,type:o,ease:a,times:c,isGenerator:!0}),_=vi(this.time);d.setWithVelocity(C.sample(_-Bd).value,C.sample(_).value,Bd)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:o,damping:a,type:c}=e;return r4()&&i&&XO.has(i)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!r&&o!=="mirror"&&a!==0&&c!=="inertia"}}const c4=Ev(()=>window.ScrollTimeline!==void 0);class u4{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>c4()&&r.attachTimeline?r.attachTimeline(e):n(r));return()=>{i.forEach((r,o)=>{r&&r(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function d4({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:a,repeatDelay:c,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const Pv=(t,e,n,i={},r,o)=>a=>{const c=hv(i,t)||{},u=c.delay||i.delay||0;let{elapsed:d=0}=i;d=d-vi(u);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-d,onUpdate:m=>{e.set(m),c.onUpdate&&c.onUpdate(m)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:r};d4(c)||(f={...f,...A3(t,f)}),f.duration&&(f.duration=vi(f.duration)),f.repeatDelay&&(f.repeatDelay=vi(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),p&&!o&&e.get()!==void 0){const m=Lh(f.keyframes,c);if(m!==void 0)return Te.update(()=>{f.onUpdate(m),f.onComplete()}),new u4([])}return!o&&Ww.supports(f)?new Ww(f):new Sv(f)},h4=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),f4=t=>cg(t)?t[t.length-1]||0:t;function Tv(t,e){t.indexOf(e)===-1&&t.push(e)}function kv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Av{constructor(){this.subscriptions=[]}add(e){return Tv(this.subscriptions,e),()=>kv(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let o=0;o<r;o++){const a=this.subscriptions[o];a&&a(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $w=30,p4=t=>!isNaN(parseFloat(t));class m4{constructor(e,n={}){this.version="11.11.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const o=Hn.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=p4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Av);const i=this.events[e].add(n);return e==="change"?()=>{i(),Te.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$w)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,$w);return jP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wl(t,e){return new m4(t,e)}function g4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wl(n))}function v4(t,e){const n=Rh(t,e);let{transitionEnd:i={},transition:r={},...o}=n||{};o={...o,...i};for(const a in o){const c=f4(o[a]);g4(t,a,c)}}const Nv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),y4="framerAppearId",KP="data-"+Nv(y4);function ZP(t){return t.props[KP]}const Pt=t=>!!(t&&t.getVelocity);function _4(t){return!!(Pt(t)&&t.add)}function yg(t,e){const n=t.getValue("willChange");if(_4(n))return n.add(e)}function x4({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function qP(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var o;let{transition:a=t.getDefaultTransition(),transitionEnd:c,...u}=e;i&&(a=i);const d=[],f=r&&t.animationState&&t.animationState.getState()[r];for(const p in u){const m=t.getValue(p,(o=t.latestValues[p])!==null&&o!==void 0?o:null),v=u[p];if(v===void 0||f&&x4(f,p))continue;const C={delay:n,...hv(a||{},p)};let _=!1;if(window.MotionHandoffAnimation){const w=ZP(t);if(w){const x=window.MotionHandoffAnimation(w,p,Te);x!==null&&(C.startTime=x,_=!0)}}yg(t,p),m.start(Pv(p,m,v,t.shouldReduceMotion&&bs.has(p)?{type:!1}:C,t,_));const E=m.animation;E&&d.push(E)}return c&&Promise.all(d).then(()=>{Te.update(()=>{c&&v4(t,c)})}),d}function _g(t,e,n={}){var i;const r=Rh(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const a=r?()=>Promise.all(qP(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=o;return w4(t,e,f+d,p,m,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[d,f]=u==="beforeChildren"?[a,c]:[c,a];return d().then(()=>f())}else return Promise.all([a(),c(n.delay)])}function w4(t,e,n=0,i=0,r=1,o){const a=[],c=(t.variantChildren.size-1)*i,u=r===1?(d=0)=>d*i:(d=0)=>c-d*i;return Array.from(t.variantChildren).sort(b4).forEach((d,f)=>{d.notify("AnimationStart",e),a.push(_g(d,e,{...o,delay:n+u(f)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(a)}function b4(t,e){return t.sortNodePosition(e)}function C4(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(o=>_g(t,o,n));i=Promise.all(r)}else if(typeof e=="string")i=_g(t,e,n);else{const r=typeof e=="function"?Rh(t,e,n.custom):e;i=Promise.all(qP(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const S4=dv.length;function GP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?GP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<S4;n++){const i=dv[n],r=t.props[i];(zl(r)||r===!1)&&(e[i]=r)}return e}const E4=[...uv].reverse(),P4=uv.length;function T4(t){return e=>Promise.all(e.map(({animation:n,options:i})=>C4(t,n,i)))}function k4(t){let e=T4(t),n=Hw(),i=!0;const r=u=>(d,f)=>{var p;const m=Rh(t,f,u==="exit"?(p=t.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(m){const{transition:v,transitionEnd:C,..._}=m;d={...d,..._,...C}}return d};function o(u){e=u(t)}function a(u){const{props:d}=t,f=GP(t.parent)||{},p=[],m=new Set;let v={},C=1/0;for(let E=0;E<P4;E++){const w=E4[E],x=n[w],S=d[w]!==void 0?d[w]:f[w],k=zl(S),A=w===u?x.isActive:null;A===!1&&(C=E);let O=S===f[w]&&S!==d[w]&&k;if(O&&i&&t.manuallyAnimateOnMount&&(O=!1),x.protectedKeys={...v},!x.isActive&&A===null||!S&&!x.prevProp||Ih(S)||typeof S=="boolean")continue;const R=A4(x.prevProp,S);let U=R||w===u&&x.isActive&&!O&&k||E>C&&k,H=!1;const q=Array.isArray(S)?S:[S];let j=q.reduce(r(w),{});A===!1&&(j={});const{prevResolvedValues:M={}}=x,B={...M,...j},N=$=>{U=!0,m.has($)&&(H=!0,m.delete($)),x.needsAnimating[$]=!0;const F=t.getValue($);F&&(F.liveStyle=!1)};for(const $ in B){const F=j[$],Z=M[$];if(v.hasOwnProperty($))continue;let K=!1;cg(F)&&cg(Z)?K=!uP(F,Z):K=F!==Z,K?F!=null?N($):m.add($):F!==void 0&&m.has($)?N($):x.protectedKeys[$]=!0}x.prevProp=S,x.prevResolvedValues=j,x.isActive&&(v={...v,...j}),i&&t.blockInitialAnimation&&(U=!1),U&&(!(O&&R)||H)&&p.push(...q.map($=>({animation:$,options:{type:w}})))}if(m.size){const E={};m.forEach(w=>{const x=t.getBaseTarget(w),S=t.getValue(w);S&&(S.liveStyle=!0),E[w]=x??null}),p.push({animation:E})}let _=!!p.length;return i&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(_=!1),i=!1,_?e(p):Promise.resolve()}function c(u,d){var f;if(n[u].isActive===d)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(u,d)}),n[u].isActive=d;const p=a(u);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:a,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Hw(),i=!0}}}function A4(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uP(e,t):!1}function Br(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hw(){return{animate:Br(!0),whileInView:Br(),whileHover:Br(),whileTap:Br(),whileDrag:Br(),whileFocus:Br(),exit:Br()}}class kr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class N4 extends kr{constructor(e){super(e),e.animationState||(e.animationState=k4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ih(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let I4=0;class R4 extends kr{constructor(){super(...arguments),this.id=I4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const L4={animation:{Feature:N4},exit:{Feature:R4}},YP=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Mh(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const M4=t=>e=>YP(e)&&t(e,Mh(e));function di(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function xi(t,e,n,i){return di(t,e,M4(n),i)}const Kw=(t,e)=>Math.abs(t-e);function O4(t,e){const n=Kw(t.x,e.x),i=Kw(t.y,e.y);return Math.sqrt(n**2+i**2)}class QP{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=mp(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=O4(p.offset,{x:0,y:0})>=3;if(!m&&!v)return;const{point:C}=p,{timestamp:_}=mt;this.history.push({...C,timestamp:_});const{onStart:E,onMove:w}=this.handlers;m||(E&&E(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=pp(m,this.transformPagePoint),Te.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:v,onSessionEnd:C,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=mp(p.type==="pointercancel"?this.lastMoveEventInfo:pp(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,E),C&&C(p,E)},!YP(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const a=Mh(e),c=pp(a,this.transformPagePoint),{point:u}=c,{timestamp:d}=mt;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,mp(c,this.history)),this.removeListeners=_i(xi(this.contextWindow,"pointermove",this.handlePointerMove),xi(this.contextWindow,"pointerup",this.handlePointerUp),xi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),gr(this.updatePoint)}}function pp(t,e){return e?{point:e(t.point)}:t}function Zw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mp({point:t},e){return{point:t,delta:Zw(t,XP(e)),offset:Zw(t,D4(e)),velocity:j4(e,.1)}}function D4(t){return t[0]}function XP(t){return t[t.length-1]}function j4(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=XP(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>vi(e)));)n--;if(!i)return{x:0,y:0};const o=yi(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const a={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function JP(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const qw=JP("dragHorizontal"),Gw=JP("dragVertical");function e2(t){let e=!1;if(t==="y")e=Gw();else if(t==="x")e=qw();else{const n=qw(),i=Gw();n&&i?e=()=>{n(),i()}:(n&&n(),i&&i())}return e}function t2(){const t=e2(!0);return t?(t(),!1):!0}function ao(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const n2=1e-4,F4=1-n2,B4=1+n2,i2=.01,z4=0-i2,V4=0+i2;function en(t){return t.max-t.min}function U4(t,e,n){return Math.abs(t-e)<=n}function Yw(t,e,n,i=.5){t.origin=i,t.originPoint=We(e.min,e.max,t.origin),t.scale=en(n)/en(e),t.translate=We(n.min,n.max,t.origin)-t.originPoint,(t.scale>=F4&&t.scale<=B4||isNaN(t.scale))&&(t.scale=1),(t.translate>=z4&&t.translate<=V4||isNaN(t.translate))&&(t.translate=0)}function al(t,e,n,i){Yw(t.x,e.x,n.x,i?i.originX:void 0),Yw(t.y,e.y,n.y,i?i.originY:void 0)}function Qw(t,e,n){t.min=n.min+e.min,t.max=t.min+en(e)}function W4(t,e,n){Qw(t.x,e.x,n.x),Qw(t.y,e.y,n.y)}function Xw(t,e,n){t.min=e.min-n.min,t.max=t.min+en(e)}function ll(t,e,n){Xw(t.x,e.x,n.x),Xw(t.y,e.y,n.y)}function $4(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?We(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?We(n,t,i.max):Math.min(t,n)),t}function Jw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function H4(t,{top:e,left:n,bottom:i,right:r}){return{x:Jw(t.x,n,r),y:Jw(t.y,e,i)}}function e1(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function K4(t,e){return{x:e1(t.x,e.x),y:e1(t.y,e.y)}}function Z4(t,e){let n=.5;const i=en(t),r=en(e);return r>i?n=Bo(e.min,e.max-i,t.min):i>r&&(n=Bo(t.min,t.max-r,e.min)),vr(0,1,n)}function q4(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const xg=.35;function G4(t=xg){return t===!1?t=0:t===!0&&(t=xg),{x:t1(t,"left","right"),y:t1(t,"top","bottom")}}function t1(t,e,n){return{min:n1(t,e),max:n1(t,n)}}function n1(t,e){return typeof t=="number"?t:t[e]||0}const i1=()=>({translate:0,scale:1,origin:0,originPoint:0}),lo=()=>({x:i1(),y:i1()}),r1=()=>({min:0,max:0}),Ge=()=>({x:r1(),y:r1()});function cn(t){return[t("x"),t("y")]}function r2({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function Y4({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Q4(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function gp(t){return t===void 0||t===1}function wg({scale:t,scaleX:e,scaleY:n}){return!gp(t)||!gp(e)||!gp(n)}function Ur(t){return wg(t)||s2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function s2(t){return s1(t.x)||s1(t.y)}function s1(t){return t&&t!=="0%"}function zd(t,e,n){const i=t-n,r=e*i;return n+r}function o1(t,e,n,i,r){return r!==void 0&&(t=zd(t,r,i)),zd(t,n,i)+e}function bg(t,e=0,n=1,i,r){t.min=o1(t.min,e,n,i,r),t.max=o1(t.max,e,n,i,r)}function o2(t,{x:e,y:n}){bg(t.x,e.translate,e.scale,e.originPoint),bg(t.y,n.translate,n.scale,n.originPoint)}const a1=.999999999999,l1=1.0000000000001;function X4(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let o,a;for(let c=0;c<r;c++){o=n[c],a=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&uo(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,o2(t,a)),i&&Ur(o.latestValues)&&uo(t,o.latestValues))}e.x<l1&&e.x>a1&&(e.x=1),e.y<l1&&e.y>a1&&(e.y=1)}function co(t,e){t.min=t.min+e,t.max=t.max+e}function c1(t,e,n,i,r=.5){const o=We(t.min,t.max,r);bg(t,e,n,o,i)}function uo(t,e){c1(t.x,e.x,e.scaleX,e.scale,e.originX),c1(t.y,e.y,e.scaleY,e.scale,e.originY)}function a2(t,e){return r2(Q4(t.getBoundingClientRect(),e))}function J4(t,e,n){const i=a2(t,n),{scroll:r}=e;return r&&(co(i.x,r.offset.x),co(i.y,r.offset.y)),i}const l2=({current:t})=>t?t.ownerDocument.defaultView:null,e5=new WeakMap;class t5{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mh(f,"page").point)},o=(f,p)=>{const{drag:m,dragPropagation:v,onDragStart:C}=this.getProps();if(m&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=e2(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cn(E=>{let w=this.getAxisMotionValue(E).get()||0;if($n.test(w)){const{projection:x}=this.visualElement;if(x&&x.layout){const S=x.layout.layoutBox[E];S&&(w=en(S)*(parseFloat(w)/100))}}this.originPoint[E]=w}),C&&Te.postRender(()=>C(f,p)),yg(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},a=(f,p)=>{const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:C,onDrag:_}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:E}=p;if(v&&this.currentDirection===null){this.currentDirection=n5(E),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",p.point,E),this.updateAxis("y",p.point,E),this.visualElement.render(),_&&_(f,p)},c=(f,p)=>this.stop(f,p),u=()=>cn(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new QP(e,{onSessionStart:r,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:l2(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&Te.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!yu(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=$4(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&ao(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=H4(r.layoutBox,n):this.constraints=!1,this.elastic=G4(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&cn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=q4(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ao(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=J4(i,r.root,this.visualElement.getTransformPagePoint());let a=K4(r.layout.layoutBox,o);if(n){const c=n(Y4(a));this.hasMutatedConstraints=!!c,c&&(a=r2(c))}return a}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},d=cn(f=>{if(!yu(f,n,this.currentDirection))return;let p=u&&u[f]||{};a&&(p={min:0,max:0});const m=r?200:1e6,v=r?40:1e7,C={type:"inertia",velocity:i?e[f]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(f,C)});return Promise.all(d).then(c)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return yg(this.visualElement,e),i.start(Pv(e,i,0,n,this.visualElement,!1))}stopAnimation(){cn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){cn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){cn(n=>{const{drag:i}=this.getProps();if(!yu(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:c}=r.layout.layoutBox[n];o.set(e[n]-We(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!ao(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};cn(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const u=c.get();r[a]=Z4({min:u,max:u},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),cn(a=>{if(!yu(a,e,null))return;const c=this.getAxisMotionValue(a),{min:u,max:d}=this.constraints[a];c.set(We(u,d,r[a]))})}addListeners(){if(!this.visualElement.current)return;e5.set(this.visualElement,this);const e=this.visualElement.current,n=xi(e,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();ao(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Te.read(i);const a=di(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(cn(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=u[f].translate,p.set(p.get()+u[f].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:a=xg,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:a,dragMomentum:c}}}function yu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function n5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class i5 extends kr{constructor(e){super(e),this.removeGroupControls=Tt,this.removeListeners=Tt,this.controls=new t5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tt}unmount(){this.removeGroupControls(),this.removeListeners()}}const u1=t=>(e,n)=>{t&&Te.postRender(()=>t(e,n))};class r5 extends kr{constructor(){super(...arguments),this.removePointerDownListener=Tt}onPointerDown(e){this.session=new QP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:l2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:u1(e),onStart:u1(n),onMove:i,onEnd:(o,a)=>{delete this.session,r&&Te.postRender(()=>r(o,a))}}}mount(){this.removePointerDownListener=xi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Oh=T.createContext(null);function s5(){const t=T.useContext(Oh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,r=T.useId();T.useEffect(()=>i(r),[]);const o=T.useCallback(()=>n&&n(r),[r,n]);return!e&&n?[!1,o]:[!0]}const Iv=T.createContext({}),c2=T.createContext({}),qu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function d1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ia={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(oe.test(t))t=parseFloat(t);else return t;const n=d1(t,e.target.x),i=d1(t,e.target.y);return`${n}% ${i}%`}},o5={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=yr.parse(t);if(r.length>5)return i;const o=yr.createTransformer(t),a=typeof r[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;r[0+a]/=c,r[1+a]/=u;const d=We(c,u,.5);return typeof r[2+a]=="number"&&(r[2+a]/=d),typeof r[3+a]=="number"&&(r[3+a]/=d),o(r)}},Vd={};function a5(t){Object.assign(Vd,t)}const{schedule:Rv,cancel:zU}=dP(queueMicrotask,!1);class l5 extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=e;a5(c5),o&&(n.group&&n.group.add(o),i&&i.register&&r&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),qu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:o}=this.props,a=i.projection;return a&&(a.isPresent=o,r||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||Te.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Rv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function u2(t){const[e,n]=s5(),i=T.useContext(Iv);return b.jsx(l5,{...t,layoutGroup:i,switchLayoutGroup:T.useContext(c2),isPresent:e,safeToRemove:n})}const c5={borderRadius:{...Ia,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ia,borderTopRightRadius:Ia,borderBottomLeftRadius:Ia,borderBottomRightRadius:Ia,boxShadow:o5},d2=["TopLeft","TopRight","BottomLeft","BottomRight"],u5=d2.length,h1=t=>typeof t=="string"?parseFloat(t):t,f1=t=>typeof t=="number"||oe.test(t);function d5(t,e,n,i,r,o){r?(t.opacity=We(0,n.opacity!==void 0?n.opacity:1,h5(i)),t.opacityExit=We(e.opacity!==void 0?e.opacity:1,0,f5(i))):o&&(t.opacity=We(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let a=0;a<u5;a++){const c=`border${d2[a]}Radius`;let u=p1(e,c),d=p1(n,c);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||f1(u)===f1(d)?(t[c]=Math.max(We(h1(u),h1(d),i),0),($n.test(d)||$n.test(u))&&(t[c]+="%")):t[c]=d}(e.rotate||n.rotate)&&(t.rotate=We(e.rotate||0,n.rotate||0,i))}function p1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const h5=h2(0,.5,yP),f5=h2(.5,.95,Tt);function h2(t,e,n){return i=>i<t?0:i>e?1:n(Bo(t,e,i))}function m1(t,e){t.min=e.min,t.max=e.max}function an(t,e){m1(t.x,e.x),m1(t.y,e.y)}function g1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function v1(t,e,n,i,r){return t-=e,t=zd(t,1/n,i),r!==void 0&&(t=zd(t,1/r,i)),t}function p5(t,e=0,n=1,i=.5,r,o=t,a=t){if($n.test(e)&&(e=parseFloat(e),e=We(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=We(o.min,o.max,i);t===o&&(c-=e),t.min=v1(t.min,e,n,c,r),t.max=v1(t.max,e,n,c,r)}function y1(t,e,[n,i,r],o,a){p5(t,e[n],e[i],e[r],e.scale,o,a)}const m5=["x","scaleX","originX"],g5=["y","scaleY","originY"];function _1(t,e,n,i){y1(t.x,e,m5,n?n.x:void 0,i?i.x:void 0),y1(t.y,e,g5,n?n.y:void 0,i?i.y:void 0)}function x1(t){return t.translate===0&&t.scale===1}function f2(t){return x1(t.x)&&x1(t.y)}function w1(t,e){return t.min===e.min&&t.max===e.max}function v5(t,e){return w1(t.x,e.x)&&w1(t.y,e.y)}function b1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function p2(t,e){return b1(t.x,e.x)&&b1(t.y,e.y)}function C1(t){return en(t.x)/en(t.y)}function S1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class y5{constructor(){this.members=[]}add(e){Tv(this.members,e),e.scheduleRender()}remove(e){if(kv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _5(t,e,n){let i="";const r=t.x.translate/e.x,o=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((r||o||a)&&(i=`translate3d(${r}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:m,skewX:v,skewY:C}=n;d&&(i=`perspective(${d}px) ${i}`),f&&(i+=`rotate(${f}deg) `),p&&(i+=`rotateX(${p}deg) `),m&&(i+=`rotateY(${m}deg) `),v&&(i+=`skewX(${v}deg) `),C&&(i+=`skewY(${C}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(i+=`scale(${c}, ${u})`),i||"none"}const x5=(t,e)=>t.depth-e.depth;class w5{constructor(){this.children=[],this.isDirty=!1}add(e){Tv(this.children,e),this.isDirty=!0}remove(e){kv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(x5),this.isDirty=!1,this.children.forEach(e)}}function Gu(t){const e=Pt(t)?t.get():t;return h4(e)?e.toValue():e}function b5(t,e){const n=Hn.now(),i=({timestamp:r})=>{const o=r-n;o>=e&&(gr(i),t(o-e))};return Te.read(i,!0),()=>gr(i)}function C5(t){return t instanceof SVGElement&&t.tagName!=="svg"}function S5(t,e,n){const i=Pt(t)?t:Wl(t);return i.start(Pv("",i,e,n)),i.animation}const Wr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ha=typeof window<"u"&&window.MotionDebug!==void 0,vp=["","X","Y","Z"],E5={visibility:"hidden"},E1=1e3;let P5=0;function yp(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function m2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ZP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Te,!(r||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&m2(i)}function g2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(a={},c=e==null?void 0:e()){this.id=P5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ha&&(Wr.totalNodes=Wr.resolvedTargetDeltas=Wr.recalculatedProjection=0),this.nodes.forEach(A5),this.nodes.forEach(M5),this.nodes.forEach(O5),this.nodes.forEach(N5),Ha&&window.MotionDebug.record(Wr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new w5)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Av),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const u=this.eventHandlers.get(a);u&&u.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=C5(a),this.instance=a;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(d||u)&&(this.isLayoutDirty=!0),t){let p;const m=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=b5(m,250),qu.hasAnimatedSinceResize&&(qu.hasAnimatedSinceResize=!1,this.nodes.forEach(T1))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeTargetChanged:v,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||f.getDefaultTransition()||z5,{onLayoutAnimationStart:E,onLayoutAnimationComplete:w}=f.getProps(),x=!this.targetLayout||!p2(this.targetLayout,C)||v,S=!m&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,S);const k={...hv(_,"layout"),onPlay:E,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else m||T1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,gr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(D5),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&m2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(P1);return}this.isUpdating||this.nodes.forEach(R5),this.isUpdating=!1,this.nodes.forEach(L5),this.nodes.forEach(T5),this.nodes.forEach(k5),this.clearAllSnapshots();const c=Hn.now();mt.delta=vr(0,1e3/60,c-mt.timestamp),mt.timestamp=c,mt.isProcessing=!0,cp.update.process(mt),cp.preRender.process(mt),cp.render.process(mt),mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Rv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(I5),this.sharedNodes.forEach(j5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!f2(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&(c||Ur(this.latestValues)||f)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return a&&(u=this.removeTransform(u)),V5(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:c}=this.options;if(!c)return Ge();const u=c.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(U5))){const{scroll:f}=this.root;f&&(co(u.x,f.offset.x),co(u.y,f.offset.y))}return u}removeElementScroll(a){var c;const u=Ge();if(an(u,a),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&an(u,a),co(u.x,p.offset.x),co(u.y,p.offset.y))}return u}applyTransform(a,c=!1){const u=Ge();an(u,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&uo(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Ur(f.latestValues)&&uo(u,f.latestValues)}return Ur(this.latestValues)&&uo(u,this.latestValues),u}removeTransform(a){const c=Ge();an(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Ur(d.latestValues))continue;wg(d.latestValues)&&d.updateSnapshot();const f=Ge(),p=d.measurePageBox();an(f,p),_1(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Ur(this.latestValues)&&_1(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var c;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=mt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),ll(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),an(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),W4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):an(this.target,this.layout.layoutBox),o2(this.target,this.targetDelta)):an(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),ll(this.relativeTargetOrigin,this.target,v.target),an(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ha&&Wr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||wg(this.parent.latestValues)||s2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===mt.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;an(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;X4(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ge());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(g1(this.prevProjectionDelta.x,this.projectionDelta.x),g1(this.prevProjectionDelta.y,this.projectionDelta.y)),al(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==v||!S1(this.projectionDelta.x,this.prevProjectionDelta.x)||!S1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),Ha&&Wr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lo(),this.projectionDelta=lo(),this.projectionDeltaWithTransform=lo()}setAnimationOrigin(a,c=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},p=lo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const m=Ge(),v=u?u.source:void 0,C=this.layout?this.layout.source:void 0,_=v!==C,E=this.getStack(),w=!E||E.members.length<=1,x=!!(_&&!w&&this.options.crossfade===!0&&!this.path.some(B5));this.animationProgress=0;let S;this.mixTargetDelta=k=>{const A=k/1e3;k1(p.x,a.x,A),k1(p.y,a.y,A),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ll(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),F5(this.relativeTarget,this.relativeTargetOrigin,m,A),S&&v5(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Ge()),an(S,this.relativeTarget)),_&&(this.animationValues=f,d5(f,d,this.latestValues,A,x,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(gr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Te.update(()=>{qu.hasAnimatedSinceResize=!0,this.currentAnimation=S5(0,E1,{...a,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(E1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:u,layout:d,latestValues:f}=a;if(!(!c||!u||!d)){if(this!==a&&this.layout&&d&&v2(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Ge();const p=en(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+p;const m=en(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+m}an(c,u),uo(c,f),al(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new y5),this.sharedNodes.get(a).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:c}=this.options;return c?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:c}=this.options;return c?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const d={};u.z&&yp("z",a,d,this.animationValues);for(let f=0;f<vp.length;f++)yp(`rotate${vp[f]}`,a,d,this.animationValues),yp(`skew${vp[f]}`,a,d,this.animationValues);a.render();for(const f in d)a.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);a.scheduleRender()}getProjectionStyles(a){var c,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return E5;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Gu(a==null?void 0:a.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Gu(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ur(this.latestValues)&&(_.transform=f?f({},""):"none",this.hasProjected=!1),_}const m=p.animationValues||p.latestValues;this.applyTransformsToTarget(),d.transform=_5(this.projectionDeltaWithTransform,this.treeScale,m),f&&(d.transform=f(m,d.transform));const{x:v,y:C}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${C.origin*100}% 0`,p.animationValues?d.opacity=p===this?(u=(c=m.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in Vd){if(m[_]===void 0)continue;const{correct:E,applyTo:w}=Vd[_],x=d.transform==="none"?m[_]:E(m[_],p);if(w){const S=w.length;for(let k=0;k<S;k++)d[w[k]]=x}else d[_]=x}return this.options.layoutId&&(d.pointerEvents=p===this?Gu(a==null?void 0:a.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var c;return(c=a.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(P1),this.root.sharedNodes.clear()}}}function T5(t){t.updateLayout()}function k5(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:o}=t.options,a=n.source!==t.layout.source;o==="size"?cn(p=>{const m=a?n.measuredBox[p]:n.layoutBox[p],v=en(m);m.min=i[p].min,m.max=m.min+v}):v2(o,n.layoutBox,i)&&cn(p=>{const m=a?n.measuredBox[p]:n.layoutBox[p],v=en(i[p]);m.max=m.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+v)});const c=lo();al(c,i,n.layoutBox);const u=lo();a?al(u,t.applyTransform(r,!0),n.measuredBox):al(u,i,n.layoutBox);const d=!f2(c);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:v}=p;if(m&&v){const C=Ge();ll(C,n.layoutBox,m.layoutBox);const _=Ge();ll(_,i,v.layoutBox),p2(C,_)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=C,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:u,layoutDelta:c,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function A5(t){Ha&&Wr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function N5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function I5(t){t.clearSnapshot()}function P1(t){t.clearMeasurements()}function R5(t){t.isLayoutDirty=!1}function L5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function T1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function M5(t){t.resolveTargetDelta()}function O5(t){t.calcProjection()}function D5(t){t.resetSkewAndRotation()}function j5(t){t.removeLeadSnapshot()}function k1(t,e,n){t.translate=We(e.translate,0,n),t.scale=We(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function A1(t,e,n,i){t.min=We(e.min,n.min,i),t.max=We(e.max,n.max,i)}function F5(t,e,n,i){A1(t.x,e.x,n.x,i),A1(t.y,e.y,n.y,i)}function B5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const z5={duration:.45,ease:[.4,0,.1,1]},N1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),I1=N1("applewebkit/")&&!N1("chrome/")?Math.round:Tt;function R1(t){t.min=I1(t.min),t.max=I1(t.max)}function V5(t){R1(t.x),R1(t.y)}function v2(t,e,n){return t==="position"||t==="preserve-aspect"&&!U4(C1(e),C1(n),.2)}function U5(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const W5=g2({attachResizeListener:(t,e)=>di(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_p={current:void 0},y2=g2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!_p.current){const t=new W5({});t.mount(window),t.setOptions({layoutScroll:!0}),_p.current=t}return _p.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$5={pan:{Feature:r5},drag:{Feature:i5,ProjectionNode:y2,MeasureLayout:u2}};function L1(t,e){const n=e?"pointerenter":"pointerleave",i=e?"onHoverStart":"onHoverEnd",r=(o,a)=>{if(o.pointerType==="touch"||t2())return;const c=t.getProps();t.animationState&&c.whileHover&&t.animationState.setActive("whileHover",e);const u=c[i];u&&Te.postRender(()=>u(o,a))};return xi(t.current,n,r,{passive:!t.getProps()[i]})}class H5 extends kr{mount(){this.unmount=_i(L1(this.node,!0),L1(this.node,!1))}unmount(){}}class K5 extends kr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_i(di(this.node.current,"focus",()=>this.onFocus()),di(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const _2=(t,e)=>e?t===e?!0:_2(t,e.parentElement):!1;function xp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Mh(n))}class Z5 extends kr{constructor(){super(...arguments),this.removeStartListeners=Tt,this.removeEndListeners=Tt,this.removeAccessibleListeners=Tt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),o=xi(window,"pointerup",(c,u)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:f,globalTapTarget:p}=this.node.getProps(),m=!p&&!_2(this.node.current,c.target)?f:d;m&&Te.update(()=>m(c,u))},{passive:!(i.onTap||i.onPointerUp)}),a=xi(window,"pointercancel",(c,u)=>this.cancelPress(c,u),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=_i(o,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const a=c=>{c.key!=="Enter"||!this.checkPressEnd()||xp("up",(u,d)=>{const{onTap:f}=this.node.getProps();f&&Te.postRender(()=>f(u,d))})};this.removeEndListeners(),this.removeEndListeners=di(this.node.current,"keyup",a),xp("down",(c,u)=>{this.startPress(c,u)})},n=di(this.node.current,"keydown",e),i=()=>{this.isPressing&&xp("cancel",(o,a)=>this.cancelPress(o,a))},r=di(this.node.current,"blur",i);this.removeAccessibleListeners=_i(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&Te.postRender(()=>i(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!t2()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&Te.postRender(()=>i(e,n))}mount(){const e=this.node.getProps(),n=xi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=di(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=_i(n,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Cg=new WeakMap,wp=new WeakMap,q5=t=>{const e=Cg.get(t.target);e&&e(t)},G5=t=>{t.forEach(q5)};function Y5({root:t,...e}){const n=t||document;wp.has(n)||wp.set(n,{});const i=wp.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(G5,{root:t,...e})),i[r]}function Q5(t,e,n){const i=Y5(e);return Cg.set(t,n),i.observe(t),()=>{Cg.delete(t),i.unobserve(t)}}const X5={some:0,all:1};class J5 extends kr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:X5[r]},c=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),m=d?f:p;m&&m(u)};return Q5(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(eD(e,n))&&this.startObserver()}unmount(){}}function eD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const tD={inView:{Feature:J5},tap:{Feature:Z5},focus:{Feature:K5},hover:{Feature:H5}},nD={layout:{ProjectionNode:y2,MeasureLayout:u2}},Lv=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Dh=T.createContext({}),Mv=typeof window<"u",x2=Mv?T.useLayoutEffect:T.useEffect,w2=T.createContext({strict:!1});function iD(t,e,n,i,r){var o,a;const{visualElement:c}=T.useContext(Dh),u=T.useContext(w2),d=T.useContext(Oh),f=T.useContext(Lv).reducedMotion,p=T.useRef();i=i||u.renderer,!p.current&&i&&(p.current=i(t,{visualState:e,parent:c,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const m=p.current,v=T.useContext(c2);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&rD(p.current,n,r,v),T.useInsertionEffect(()=>{m&&m.update(n,d)});const C=n[KP],_=T.useRef(!!C&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,C))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,C)));return x2(()=>{m&&(window.MotionIsMounted=!0,m.updateFeatures(),Rv.render(m.render),_.current&&m.animationState&&m.animationState.animateChanges())}),T.useEffect(()=>{m&&(!_.current&&m.animationState&&m.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)===null||E===void 0||E.call(window,C)}),_.current=!1))}),m}function rD(t,e,n,i){const{layoutId:r,layout:o,drag:a,dragConstraints:c,layoutScroll:u,layoutRoot:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:b2(t.parent)),t.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!a||c&&ao(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:u,layoutRoot:d})}function b2(t){if(t)return t.options.allowProjection!==!1?t.projection:b2(t.parent)}function sD(t,e,n){return T.useCallback(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):ao(n)&&(n.current=i))},[e])}function jh(t){return Ih(t.animate)||dv.some(e=>zl(t[e]))}function C2(t){return!!(jh(t)||t.variants)}function oD(t,e){if(jh(t)){const{initial:n,animate:i}=t;return{initial:n===!1||zl(n)?n:void 0,animate:zl(i)?i:void 0}}return t.inherit!==!1?e:{}}function aD(t){const{initial:e,animate:n}=oD(t,T.useContext(Dh));return T.useMemo(()=>({initial:e,animate:n}),[M1(e),M1(n)])}function M1(t){return Array.isArray(t)?t.join(" "):t}const O1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zo={};for(const t in O1)zo[t]={isEnabled:e=>O1[t].some(n=>!!e[n])};function lD(t){for(const e in t)zo[e]={...zo[e],...t[e]}}const cD=Symbol.for("motionComponentSymbol");function uD({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){t&&lD(t);function o(c,u){let d;const f={...T.useContext(Lv),...c,layoutId:dD(c)},{isStatic:p}=f,m=aD(c),v=i(c,p);if(!p&&Mv){hD();const C=fD(f);d=C.MeasureLayout,m.visualElement=iD(r,v,f,e,C.ProjectionNode)}return b.jsxs(Dh.Provider,{value:m,children:[d&&m.visualElement?b.jsx(d,{visualElement:m.visualElement,...f}):null,n(r,c,sD(v,m.visualElement,u),v,p,m.visualElement)]})}const a=T.forwardRef(o);return a[cD]=r,a}function dD({layoutId:t}){const e=T.useContext(Iv).id;return e&&t!==void 0?e+"-"+t:t}function hD(t,e){T.useContext(w2).strict}function fD(t){const{drag:e,layout:n}=zo;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const pD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ov(t){return typeof t!="string"||t.includes("-")?!1:!!(pD.indexOf(t)>-1||/[A-Z]/u.test(t))}function S2(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const o in n)t.style.setProperty(o,n[o])}const E2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function P2(t,e,n,i){S2(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(E2.has(r)?r:Nv(r),e.attrs[r])}function T2(t,{layout:e,layoutId:n}){return bs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vd[t]||t==="opacity")}function Dv(t,e,n){var i;const{style:r}=t,o={};for(const a in r)(Pt(r[a])||e.style&&Pt(e.style[a])||T2(a,t)||((i=n==null?void 0:n.getValue(a))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(o[a]=r[a]);return o}function k2(t,e,n){const i=Dv(t,e,n);for(const r in t)if(Pt(t[r])||Pt(e[r])){const o=dc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=t[r]}return i}function jv(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}function mD({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},i,r,o){const a={latestValues:gD(i,r,o,t),renderState:e()};return n&&(a.mount=c=>n(i,c,a)),a}const A2=t=>(e,n)=>{const i=T.useContext(Dh),r=T.useContext(Oh),o=()=>mD(t,e,i,r);return n?o():jv(o)};function gD(t,e,n,i){const r={},o=i(t,{});for(const m in o)r[m]=Gu(o[m]);let{initial:a,animate:c}=t;const u=jh(t),d=C2(t);e&&d&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const p=f?c:a;if(p&&typeof p!="boolean"&&!Ih(p)){const m=Array.isArray(p)?p:[p];for(let v=0;v<m.length;v++){const C=cv(t,m[v]);if(C){const{transitionEnd:_,transition:E,...w}=C;for(const x in w){let S=w[x];if(Array.isArray(S)){const k=f?S.length-1:0;S=S[k]}S!==null&&(r[x]=S)}for(const x in _)r[x]=_[x]}}}return r}const Fv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),N2=()=>({...Fv(),attrs:{}}),I2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,vD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yD=dc.length;function _D(t,e,n){let i="",r=!0;for(let o=0;o<yD;o++){const a=dc[o],c=t[a];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(a.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const d=I2(c,_v[a]);if(!u){r=!1;const f=vD[a]||a;i+=`${f}(${d}) `}n&&(e[a]=d)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function Bv(t,e,n){const{style:i,vars:r,transformOrigin:o}=t;let a=!1,c=!1;for(const u in e){const d=e[u];if(bs.has(u)){a=!0;continue}else if(CP(u)){r[u]=d;continue}else{const f=I2(d,_v[u]);u.startsWith("origin")?(c=!0,o[u]=f):i[u]=f}}if(e.transform||(a||n?i.transform=_D(e,t.transform,n):i.transform&&(i.transform="none")),c){const{originX:u="50%",originY:d="50%",originZ:f=0}=o;i.transformOrigin=`${u} ${d} ${f}`}}function D1(t,e,n){return typeof t=="string"?t:oe.transform(e+n*t)}function xD(t,e,n){const i=D1(e,t.x,t.width),r=D1(n,t.y,t.height);return`${i} ${r}`}const wD={offset:"stroke-dashoffset",array:"stroke-dasharray"},bD={offset:"strokeDashoffset",array:"strokeDasharray"};function CD(t,e,n=1,i=0,r=!0){t.pathLength=1;const o=r?wD:bD;t[o.offset]=oe.transform(-i);const a=oe.transform(e),c=oe.transform(n);t[o.array]=`${a} ${c}`}function zv(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:o,pathLength:a,pathSpacing:c=1,pathOffset:u=0,...d},f,p){if(Bv(t,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:v,dimensions:C}=t;m.transform&&(C&&(v.transform=m.transform),delete m.transform),C&&(r!==void 0||o!==void 0||v.transform)&&(v.transformOrigin=xD(C,r!==void 0?r:.5,o!==void 0?o:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),i!==void 0&&(m.scale=i),a!==void 0&&CD(m,a,c,u,!1)}const Vv=t=>typeof t=="string"&&t.toLowerCase()==="svg",SD={useVisualState:A2({scrapeMotionValuesFromProps:k2,createRenderState:N2,onMount:(t,e,{renderState:n,latestValues:i})=>{Te.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Te.render(()=>{zv(n,i,Vv(e.tagName),t.transformTemplate),P2(e,n)})}})},ED={useVisualState:A2({scrapeMotionValuesFromProps:Dv,createRenderState:Fv})};function R2(t,e,n){for(const i in e)!Pt(e[i])&&!T2(i,n)&&(t[i]=e[i])}function PD({transformTemplate:t},e){return T.useMemo(()=>{const n=Fv();return Bv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function TD(t,e){const n=t.style||{},i={};return R2(i,n,t),Object.assign(i,PD(t,e)),i}function kD(t,e){const n={},i=TD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const AD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ud(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||AD.has(t)}let L2=t=>!Ud(t);function ND(t){t&&(L2=e=>e.startsWith("on")?!Ud(e):t(e))}try{ND(require("@emotion/is-prop-valid").default)}catch{}function ID(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(L2(r)||n===!0&&Ud(r)||!e&&!Ud(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function RD(t,e,n,i){const r=T.useMemo(()=>{const o=N2();return zv(o,e,Vv(i),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};R2(o,t.style,t),r.style={...o,...r.style}}return r}function LD(t=!1){return(n,i,r,{latestValues:o},a)=>{const u=(Ov(n)?RD:kD)(i,o,a,n),d=ID(i,typeof n=="string",t),f=n!==T.Fragment?{...d,...u,ref:r}:{},{children:p}=i,m=T.useMemo(()=>Pt(p)?p.get():p,[p]);return T.createElement(n,{...f,children:m})}}function MD(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...Ov(i)?SD:ED,preloadedFeatures:t,useRender:LD(r),createVisualElement:e,Component:i};return uD(a)}}const Sg={current:null},M2={current:!1};function OD(){if(M2.current=!0,!!Mv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sg.current=t.matches;t.addListener(e),e()}else Sg.current=!1}function DD(t,e,n){for(const i in e){const r=e[i],o=n[i];if(Pt(r))t.addValue(i,r);else if(Pt(o))t.addValue(i,Wl(r,{owner:t}));else if(o!==r)if(t.hasValue(i)){const a=t.getValue(i);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=t.getStaticValue(i);t.addValue(i,Wl(a!==void 0?a:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const j1=new WeakMap,jD=[...PP,xt,yr],FD=t=>jD.find(EP(t)),F1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class BD{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:o,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Hn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Te.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=jh(n),this.isVariantNode=C2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const v=p[m];u[m]!==void 0&&Pt(v)&&v.set(u[m],!1)}}mount(e){this.current=e,j1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),M2.current||OD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){j1.delete(this.current),this.projection&&this.projection.unmount(),gr(this.notifyUpdate),gr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=bs.has(e),r=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Te.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zo){const n=zo[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<F1.length;i++){const r=F1[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,a=e[o];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=DD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Wl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(wP(r)||xP(r))?r=parseFloat(r):!FD(r)&&yr.test(n)&&(r=MP(e,n)),this.setBaseTarget(e,Pt(r)?r.get():r)),Pt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const a=cv(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(r=a[e])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Pt(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Av),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class O2 extends BD{constructor(){super(...arguments),this.KeyframeResolver=OP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}}function zD(t){return window.getComputedStyle(t)}class VD extends O2{constructor(){super(...arguments),this.type="html",this.renderInstance=S2}readValueFromInstance(e,n){if(bs.has(n)){const i=xv(n);return i&&i.default||0}else{const i=zD(e),r=(CP(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return a2(e,n)}build(e,n,i){Bv(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Dv(e,n,i)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class UD extends O2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ge}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(bs.has(n)){const i=xv(n);return i&&i.default||0}return n=E2.has(n)?n:Nv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return k2(e,n,i)}build(e,n,i){zv(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){P2(e,n,i,r)}mount(e){this.isSVGTag=Vv(e.tagName),super.mount(e)}}const WD=(t,e)=>Ov(t)?new UD(e):new VD(e,{allowProjection:t!==T.Fragment}),$D=MD({...L4,...tD,...$5,...nD},WD),Fi=S3($D);class HD extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function KD({children:t,isPresent:e}){const n=T.useId(),i=T.useRef(null),r=T.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=T.useContext(Lv);return T.useInsertionEffect(()=>{const{width:a,height:c,top:u,left:d}=r.current;if(e||!i.current||!a||!c)return;i.current.dataset.motionPopId=n;const f=document.createElement("style");return o&&(f.nonce=o),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${c}px !important;
            top: ${u}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),b.jsx(HD,{isPresent:e,childRef:i,sizeRef:r,children:T.cloneElement(t,{ref:i})})}const ZD=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:a})=>{const c=jv(qD),u=T.useId(),d=T.useCallback(p=>{c.set(p,!0);for(const m of c.values())if(!m)return;i&&i()},[c,i]),f=T.useMemo(()=>({id:u,initial:e,isPresent:n,custom:r,onExitComplete:d,register:p=>(c.set(p,!1),()=>c.delete(p))}),o?[Math.random(),d]:[n,d]);return T.useMemo(()=>{c.forEach((p,m)=>c.set(m,!1))},[n]),T.useEffect(()=>{!n&&!c.size&&i&&i()},[n]),a==="popLayout"&&(t=b.jsx(KD,{isPresent:n,children:t})),b.jsx(Oh.Provider,{value:f,children:t})};function qD(){return new Map}const _u=t=>t.key||"";function B1(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const GD=({children:t,exitBeforeEnter:e,custom:n,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:a="sync"})=>{const c=T.useMemo(()=>B1(t),[t]),u=c.map(_u),d=T.useRef(!0),f=T.useRef(c),p=jv(()=>new Map),[m,v]=T.useState(c),[C,_]=T.useState(c);x2(()=>{d.current=!1,f.current=c;for(let x=0;x<C.length;x++){const S=_u(C[x]);u.includes(S)?p.delete(S):p.get(S)!==!0&&p.set(S,!1)}},[C,u.length,u.join("-")]);const E=[];if(c!==m){let x=[...c];for(let S=0;S<C.length;S++){const k=C[S],A=_u(k);u.includes(A)||(x.splice(S,0,k),E.push(k))}a==="wait"&&E.length&&(x=E),_(B1(x)),v(c);return}const{forceRender:w}=T.useContext(Iv);return b.jsx(b.Fragment,{children:C.map(x=>{const S=_u(x),k=c===C||u.includes(S),A=()=>{if(p.has(S))p.set(S,!0);else return;let O=!0;p.forEach(R=>{R||(O=!1)}),O&&(w==null||w(),_(f.current),r&&r())};return b.jsx(ZD,{isPresent:k,initial:!d.current||i?void 0:!1,custom:k?void 0:n,presenceAffectsLayout:o,mode:a,onExitComplete:k?void 0:A,children:x},S)})})};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),D2=(...t)=>t.filter((e,n,i)=>!!e&&i.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:a,...c},u)=>T.createElement("svg",{ref:u,...QD,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:D2("lucide",r),...c},[...a.map(([d,f])=>T.createElement(d,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(t,e)=>{const n=T.forwardRef(({className:i,...r},o)=>T.createElement(XD,{ref:o,iconNode:e,className:D2(`lucide-${YD(t)}`,i),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=xe("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=xe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=xe("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=xe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=xe("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=xe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=xe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=xe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=xe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=xe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=xe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=xe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=xe("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=xe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=xe("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=xe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=xe("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=xe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=xe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=xe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=xe("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=xe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function m6(){const t=xs();return b.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:[b.jsxs("div",{className:"text-center mb-12",children:[b.jsx(Hv,{className:"w-20 h-20 text-white mb-4 mx-auto"}),b.jsx("h1",{className:"text-5xl font-bold text-white mb-4",children:"SkiMatch"}),b.jsx("p",{className:"text-blue-100 text-xl",children:"Find your perfect skiing destination"})]}),b.jsxs("div",{className:"space-y-4 w-full max-w-md",children:[b.jsx("button",{onClick:()=>t("/quiz"),className:"w-full py-4 px-6 bg-white text-blue-900 rounded-lg font-semibold text-lg hover:bg-blue-50 transition-colors duration-200 flex items-center justify-center space-x-2",children:"Get Started"}),b.jsxs("div",{className:"flex space-x-4",children:[b.jsxs("button",{onClick:()=>t("/login"),className:"flex-1 py-4 px-6 bg-transparent border-2 border-white text-white rounded-lg font-semibold text-lg hover:bg-white/10 transition-colors duration-200 flex items-center justify-center space-x-2",children:[b.jsx(c6,{className:"w-5 h-5"}),b.jsx("span",{children:"Log In"})]}),b.jsx("button",{onClick:()=>t("/create-account"),className:"flex-1 py-4 px-6 bg-white/10 backdrop-blur-sm text-white rounded-lg font-semibold text-lg hover:bg-white/20 transition-colors duration-200",children:"Sign Up"})]})]})]})}const g6=[{id:"western",name:"Western",image:"https://images.unsplash.com/photo-1551524164-687a55dd1126?auto=format&fit=crop&q=80&w=800",description:"Pacific Coast mountains with deep powder"},{id:"central",name:"Central",image:"https://images.unsplash.com/photo-1605540436563-5bca919ae766?auto=format&fit=crop&q=80&w=800",description:"Midwest slopes perfect for learning"},{id:"rocky",name:"Rocky",image:"https://images.unsplash.com/photo-1467533003447-e295ff1b0435?auto=format&fit=crop&q=80&w=800",description:"High altitude peaks with varied terrain"},{id:"eastern",name:"Eastern",image:"https://images.unsplash.com/photo-1486870591958-9b9d0d1dda99?auto=format&fit=crop&q=80&w=800",description:"Classic New England skiing experience"}];function v6({value:t,onChange:e}){return b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g6.map(n=>b.jsxs("button",{onClick:()=>e(n.id),className:`relative overflow-hidden rounded-xl aspect-video group transition-all duration-300 ${t===n.id?"ring-4 ring-white scale-102":"hover:scale-102"}`,children:[b.jsx("img",{src:n.image,alt:n.name,className:"absolute inset-0 w-full h-full object-cover transform transition-transform duration-300 group-hover:scale-105"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent",children:b.jsxs("div",{className:"absolute bottom-0 left-0 p-4",children:[b.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[b.jsx(pc,{className:"w-5 h-5"}),b.jsx("h3",{className:"text-xl font-bold",children:n.name})]}),b.jsx("p",{className:"text-white/80 text-sm",children:n.description})]})})]},n.id))})}const y6=[{id:"beginner",name:"Beginner",description:"New to skiing or still learning the basics",baseColor:"from-green-500 to-green-600",hoverColor:"from-green-600 to-green-700",icon:n6},{id:"intermediate",name:"Intermediate",description:"Comfortable on blue runs",baseColor:"from-blue-400 to-blue-500",hoverColor:"from-blue-500 to-blue-600",icon:bp},{id:"advanced",name:"Advanced",description:"Confident on black diamond runs",baseColor:"from-gray-800 to-black",hoverColor:"from-black to-black",icon:bp,rotate:!0},{id:"expert",name:"Expert",description:"Master of double black diamonds",baseColor:"from-gray-800 to-black",hoverColor:"from-black to-black",icon:bp,rotate:!0,doubleIcon:!0,goldRing:!0}];function _6({value:t,onChange:e}){return b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:y6.map(n=>{const i=n.icon,r=t===n.id;return b.jsxs("button",{onClick:()=>e(n.id),className:`
              relative p-4 rounded-lg
              ${n.goldRing?"ring-2 ring-yellow-400":""}
              ${r?"ring-2 ring-white":""}
              group
            `,children:[b.jsx("div",{className:`
              absolute inset-0 bg-gradient-to-r ${n.baseColor}
              transition-opacity duration-300 ease-in-out rounded-lg
            `}),b.jsx("div",{className:`
              absolute inset-0 bg-gradient-to-r ${n.hoverColor}
              transition-opacity duration-300 ease-in-out rounded-lg
              opacity-0 ${r?"opacity-100":"group-hover:opacity-100"}
            `}),b.jsxs("div",{className:"relative flex items-center space-x-3",children:[b.jsx("div",{className:"flex items-center space-x-1",children:n.doubleIcon?b.jsxs(b.Fragment,{children:[b.jsx(i,{className:"w-6 h-6 text-white -rotate-45"}),b.jsx(i,{className:"w-6 h-6 text-white -rotate-45 ml-1"})]}):b.jsx(i,{className:`w-6 h-6 text-white ${n.rotate?"-rotate-45":""}`})}),b.jsxs("div",{className:"text-left text-white",children:[b.jsx("div",{className:"font-bold",children:n.name}),b.jsx("div",{className:"text-sm opacity-80",children:n.description})]})]})]},n.id)})})}const x6=[{id:"budget",name:"Budget",range:"$0-$100 per day",icon:1,color:"from-green-500 to-green-600"},{id:"moderate",name:"Moderate",range:"$100-$200 per day",icon:2,color:"from-blue-500 to-blue-600"},{id:"premium",name:"Premium",range:"$200-$300 per day",icon:3,color:"from-purple-500 to-purple-600"},{id:"luxury",name:"Luxury",range:"$300+ per day",icon:4,color:"from-yellow-500 to-yellow-600"}];function w6({value:t,onChange:e}){return b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:x6.map(n=>b.jsxs("button",{onClick:()=>e(n.id),className:`
            relative p-4 rounded-lg
            ${t===n.id?"ring-2 ring-white":""}
            group
          `,children:[b.jsx("div",{className:"absolute inset-0 bg-white/5 rounded-lg"}),b.jsx("div",{className:`
            absolute inset-0 bg-gradient-to-r ${n.color}
            transition-opacity duration-300 ease-in-out rounded-lg
            ${t===n.id?"opacity-100":"opacity-0 group-hover:opacity-100"}
          `}),b.jsxs("div",{className:"relative flex items-center space-x-3",children:[b.jsx("div",{className:"flex items-center text-white",children:[...Array(n.icon)].map((i,r)=>b.jsx(Wv,{className:"w-5 h-5"},r))}),b.jsxs("div",{className:"text-left text-white",children:[b.jsx("div",{className:"font-bold",children:n.name}),b.jsx("div",{className:"text-sm opacity-80",children:n.range})]})]})]},n.id))})}const b6=[{id:"ski-board",name:"Ski & Board",icon:Kv},{id:"terrain-park",name:"Terrain Park",icon:Hv},{id:"backcountry",name:"Backcountry",icon:f6},{id:"snowmobiling",name:"Snowmobiling",icon:Eg},{id:"snow-tubing",name:"Snow Tubing",icon:JD},{id:"half-pipe",name:"Half-Pipe",icon:p6},{id:"night-skiing",name:"Night Skiing",icon:h6}];function C6({value:t=[],onChange:e}){const n=i=>{const r=t.includes(i)?t.filter(o=>o!==i):[...t,i];e(r)};return b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:b6.map(i=>{const r=i.icon,o=t.includes(i.id);return b.jsx("button",{onClick:()=>n(i.id),className:`
              relative p-4 rounded-lg transition-all duration-300
              ${o?"bg-white text-blue-900 ring-2 ring-white":"bg-white/5 hover:bg-white/10 text-white"}
            `,children:b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(r,{className:"w-6 h-6"}),b.jsx("span",{className:"font-medium",children:i.name})]})},i.id)})})}function S6(){const t=xs(),[e,n]=T.useState(0),[i,r]=T.useState({}),o=[{id:"region",title:"What region are you going to ski in?",component:v6},{id:"skill",title:"What is your skill level?",component:_6},{id:"budget",title:"What is your budget?",component:w6},{id:"interests",title:"What are your interests?",component:C6}],a=(f,p)=>{r(m=>({...m,[f]:p}))},c=()=>{t("/loading",{state:i})},u=()=>{e===0?(r({}),t("/")):n(f=>Math.max(0,f-1))},d=o[e].component;return b.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:b.jsxs("div",{className:"w-full max-w-4xl",children:[b.jsxs("div",{className:"mb-8",children:[b.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:o[e].title}),b.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full",children:b.jsx("div",{className:"bg-white h-full rounded-full transition-all duration-300",style:{width:`${(e+1)/o.length*100}%`}})})]}),b.jsx(d,{value:i[o[e].id],onChange:f=>a(o[e].id,f)}),b.jsxs("div",{className:"flex justify-between mt-8",children:[b.jsxs("button",{onClick:u,className:"flex items-center space-x-2 px-4 py-2 rounded-lg bg-white/5 hover:bg-white/20 text-white transition-colors",children:[b.jsx(t6,{className:"w-5 h-5"}),b.jsx("span",{children:e===0?"Start Over":"Previous"})]}),b.jsxs("button",{onClick:()=>{e<o.length-1?n(f=>f+1):c()},disabled:!i[o[e].id],className:"flex items-center space-x-2 px-4 py-2 rounded-lg bg-white text-blue-900 hover:bg-blue-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[b.jsx("span",{children:e===o.length-1?"Find Matches":"Next"}),b.jsx(Uv,{className:"w-5 h-5"})]})]})]})})}const Yu=["Waxing your skis...","Counting runs...","Checking lift status...","Measuring snow depth...","Analyzing weather patterns...","Grooming the slopes...","Preparing trail maps...","Checking avalanche conditions...","Finding the perfect powder...","Calculating vertical feet..."],E6=t=>{let e;do{const n=Math.floor(Math.random()*Yu.length);e=Yu[n]}while(e===t&&Yu.length>1);return e};function P6(){const[t,e]=T.useState(Yu[0]),n=xs(),i=ac();return T.useEffect(()=>{const r=setInterval(()=>{e(a=>E6(a))},1500),o=setTimeout(()=>{n("/results",{state:i.state})},3e3);return()=>{clearInterval(r),clearTimeout(o)}},[n,i.state]),b.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:b.jsxs("div",{className:"text-center",children:[b.jsx(Kv,{className:"w-16 h-16 text-white mb-8 mx-auto animate-spin"}),b.jsx("div",{className:"h-8",children:b.jsx("p",{className:"text-white text-xl font-medium animate-fade-in",children:t})})]})})}function $2(t,e){const n=T.useRef(e);T.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const T6=1;function k6(t){return Object.freeze({__version:T6,map:t})}function A6(t,e){return Object.freeze({...t,...e})}const H2=T.createContext(null),K2=H2.Provider;function qv(){const t=T.useContext(H2);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function N6(t){function e(n,i){const{instance:r,context:o}=t(n).current;return T.useImperativeHandle(i,()=>r),n.children==null?null:td.createElement(K2,{value:o},n.children)}return T.forwardRef(e)}function I6(t){function e(n,i){const[r,o]=T.useState(!1),{instance:a}=t(n,o).current;T.useImperativeHandle(i,()=>a),T.useEffect(function(){r&&a.update()},[a,r,n.children]);const c=a._contentNode;return c?oc.createPortal(n.children,c):null}return T.forwardRef(e)}function R6(t){function e(n,i){const{instance:r}=t(n).current;return T.useImperativeHandle(i,()=>r),null}return T.forwardRef(e)}function Z2(t,e){const n=T.useRef();T.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Gv(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function L6(t,e){return function(i,r){const o=qv(),a=t(Gv(i,o),o);return $2(o.map,i.attribution),Z2(a.current,i.eventHandlers),e(a.current,o,i,r),a}}var Pg={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(aC,function(n){var i="1.9.4";function r(s){var l,h,g,y;for(h=1,g=arguments.length;h<g;h++){y=arguments[h];for(l in y)s[l]=y[l]}return s}var o=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function a(s,l){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var g=h.call(arguments,2);return function(){return s.apply(l,g.length?g.concat(h.call(arguments)):arguments)}}var c=0;function u(s){return"_leaflet_id"in s||(s._leaflet_id=++c),s._leaflet_id}function d(s,l,h){var g,y,P,I;return I=function(){g=!1,y&&(P.apply(h,y),y=!1)},P=function(){g?y=arguments:(s.apply(h,arguments),setTimeout(I,l),g=!0)},P}function f(s,l,h){var g=l[1],y=l[0],P=g-y;return s===g&&h?s:((s-y)%P+P)%P+y}function p(){return!1}function m(s,l){if(l===!1)return s;var h=Math.pow(10,l===void 0?6:l);return Math.round(s*h)/h}function v(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function C(s){return v(s).split(/\s+/)}function _(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var h in l)s.options[h]=l[h];return s.options}function E(s,l,h){var g=[];for(var y in s)g.push(encodeURIComponent(h?y.toUpperCase():y)+"="+encodeURIComponent(s[y]));return(!l||l.indexOf("?")===-1?"?":"&")+g.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function x(s,l){return s.replace(w,function(h,g){var y=l[g];if(y===void 0)throw new Error("No value provided for variable "+h);return typeof y=="function"&&(y=y(l)),y})}var S=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function k(s,l){for(var h=0;h<s.length;h++)if(s[h]===l)return h;return-1}var A="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function O(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var R=0;function U(s){var l=+new Date,h=Math.max(0,16-(l-R));return R=l+h,window.setTimeout(s,h)}var H=window.requestAnimationFrame||O("RequestAnimationFrame")||U,q=window.cancelAnimationFrame||O("CancelAnimationFrame")||O("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function j(s,l,h){if(h&&H===U)s.call(l);else return H.call(window,a(s,l))}function M(s){s&&q.call(window,s)}var B={__proto__:null,extend:r,create:o,bind:a,get lastId(){return c},stamp:u,throttle:d,wrapNum:f,falseFn:p,formatNum:m,trim:v,splitWords:C,setOptions:_,getParamString:E,template:x,isArray:S,indexOf:k,emptyImageUrl:A,requestFn:H,cancelFn:q,requestAnimFrame:j,cancelAnimFrame:M};function N(){}N.extend=function(s){var l=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,g=o(h);g.constructor=l,l.prototype=g;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(l[y]=this[y]);return s.statics&&r(l,s.statics),s.includes&&(D(s.includes),r.apply(null,[g].concat(s.includes))),r(g,s),delete g.statics,delete g.includes,g.options&&(g.options=h.options?o(h.options):{},r(g.options,s.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,I=g._initHooks.length;P<I;P++)g._initHooks[P].call(this)}},l},N.include=function(s){var l=this.prototype.options;return r(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},N.mergeOptions=function(s){return r(this.prototype.options,s),this},N.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function D(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=S(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var z={on:function(s,l,h){if(typeof s=="object")for(var g in s)this._on(g,s[g],l);else{s=C(s);for(var y=0,P=s.length;y<P;y++)this._on(s[y],l,h)}return this},off:function(s,l,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var g in s)this._off(g,s[g],l);else{s=C(s);for(var y=arguments.length===1,P=0,I=s.length;P<I;P++)y?this._off(s[P]):this._off(s[P],l,h)}return this},_on:function(s,l,h,g){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,h)===!1){h===this&&(h=void 0);var y={fn:l,ctx:h};g&&(y.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(y)}},_off:function(s,l,h){var g,y,P;if(this._events&&(g=this._events[s],!!g)){if(arguments.length===1){if(this._firingCount)for(y=0,P=g.length;y<P;y++)g[y].fn=p;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var I=this._listens(s,l,h);if(I!==!1){var V=g[I];this._firingCount&&(V.fn=p,this._events[s]=g=g.slice()),g.splice(I,1)}}},fire:function(s,l,h){if(!this.listens(s,h))return this;var g=r({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var y=this._events[s];if(y){this._firingCount=this._firingCount+1||1;for(var P=0,I=y.length;P<I;P++){var V=y[P],W=V.fn;V.once&&this.off(s,W,V.ctx),W.call(V.ctx||this,g)}this._firingCount--}}return h&&this._propagateEvent(g),this},listens:function(s,l,h,g){typeof s!="string"&&console.warn('"string" type argument expected');var y=l;typeof l!="function"&&(g=!!l,y=void 0,h=void 0);var P=this._events&&this._events[s];if(P&&P.length&&this._listens(s,y,h)!==!1)return!0;if(g){for(var I in this._eventParents)if(this._eventParents[I].listens(s,l,h,g))return!0}return!1},_listens:function(s,l,h){if(!this._events)return!1;var g=this._events[s]||[];if(!l)return!!g.length;h===this&&(h=void 0);for(var y=0,P=g.length;y<P;y++)if(g[y].fn===l&&g[y].ctx===h)return y;return!1},once:function(s,l,h){if(typeof s=="object")for(var g in s)this._on(g,s[g],l,!0);else{s=C(s);for(var y=0,P=s.length;y<P;y++)this._on(s[y],l,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[u(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[u(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};z.addEventListener=z.on,z.removeEventListener=z.clearAllEventListeners=z.off,z.addOneTimeEventListener=z.once,z.fireEvent=z.fire,z.hasEventListeners=z.listens;var $=N.extend(z);function F(s,l,h){this.x=h?Math.round(s):s,this.y=h?Math.round(l):l}var Z=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};F.prototype={clone:function(){return new F(this.x,this.y)},add:function(s){return this.clone()._add(K(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(K(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new F(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new F(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Z(this.x),this.y=Z(this.y),this},distanceTo:function(s){s=K(s);var l=s.x-this.x,h=s.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(s){return s=K(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=K(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function K(s,l,h){return s instanceof F?s:S(s)?new F(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new F(s.x,s.y):new F(s,l,h)}function Q(s,l){if(s)for(var h=l?[s,l]:s,g=0,y=h.length;g<y;g++)this.extend(h[g])}Q.prototype={extend:function(s){var l,h;if(!s)return this;if(s instanceof F||typeof s[0]=="number"||"x"in s)l=h=K(s);else if(s=ie(s),l=s.min,h=s.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return K((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return K(this.min.x,this.max.y)},getTopRight:function(){return K(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,h;return typeof s[0]=="number"||s instanceof F?s=K(s):s=ie(s),s instanceof Q?(l=s.min,h=s.max):l=h=s,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=ie(s);var l=this.min,h=this.max,g=s.min,y=s.max,P=y.x>=l.x&&g.x<=h.x,I=y.y>=l.y&&g.y<=h.y;return P&&I},overlaps:function(s){s=ie(s);var l=this.min,h=this.max,g=s.min,y=s.max,P=y.x>l.x&&g.x<h.x,I=y.y>l.y&&g.y<h.y;return P&&I},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,h=this.max,g=Math.abs(l.x-h.x)*s,y=Math.abs(l.y-h.y)*s;return ie(K(l.x-g,l.y-y),K(h.x+g,h.y+y))},equals:function(s){return s?(s=ie(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function ie(s,l){return!s||s instanceof Q?s:new Q(s,l)}function be(s,l){if(s)for(var h=l?[s,l]:s,g=0,y=h.length;g<y;g++)this.extend(h[g])}be.prototype={extend:function(s){var l=this._southWest,h=this._northEast,g,y;if(s instanceof de)g=s,y=s;else if(s instanceof be){if(g=s._southWest,y=s._northEast,!g||!y)return this}else return s?this.extend(ne(s)||_e(s)):this;return!l&&!h?(this._southWest=new de(g.lat,g.lng),this._northEast=new de(y.lat,y.lng)):(l.lat=Math.min(g.lat,l.lat),l.lng=Math.min(g.lng,l.lng),h.lat=Math.max(y.lat,h.lat),h.lng=Math.max(y.lng,h.lng)),this},pad:function(s){var l=this._southWest,h=this._northEast,g=Math.abs(l.lat-h.lat)*s,y=Math.abs(l.lng-h.lng)*s;return new be(new de(l.lat-g,l.lng-y),new de(h.lat+g,h.lng+y))},getCenter:function(){return new de((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new de(this.getNorth(),this.getWest())},getSouthEast:function(){return new de(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof de||"lat"in s?s=ne(s):s=_e(s);var l=this._southWest,h=this._northEast,g,y;return s instanceof be?(g=s.getSouthWest(),y=s.getNorthEast()):g=y=s,g.lat>=l.lat&&y.lat<=h.lat&&g.lng>=l.lng&&y.lng<=h.lng},intersects:function(s){s=_e(s);var l=this._southWest,h=this._northEast,g=s.getSouthWest(),y=s.getNorthEast(),P=y.lat>=l.lat&&g.lat<=h.lat,I=y.lng>=l.lng&&g.lng<=h.lng;return P&&I},overlaps:function(s){s=_e(s);var l=this._southWest,h=this._northEast,g=s.getSouthWest(),y=s.getNorthEast(),P=y.lat>l.lat&&g.lat<h.lat,I=y.lng>l.lng&&g.lng<h.lng;return P&&I},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=_e(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _e(s,l){return s instanceof be?s:new be(s,l)}function de(s,l,h){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,h!==void 0&&(this.alt=+h)}de.prototype={equals:function(s,l){if(!s)return!1;s=ne(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+m(this.lat,s)+", "+m(this.lng,s)+")"},distanceTo:function(s){return gn.distance(this,ne(s))},wrap:function(){return gn.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,h=l/Math.cos(Math.PI/180*this.lat);return _e([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new de(this.lat,this.lng,this.alt)}};function ne(s,l,h){return s instanceof de?s:S(s)&&typeof s[0]!="object"?s.length===3?new de(s[0],s[1],s[2]):s.length===2?new de(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new de(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new de(s,l,h)}var ht={latLngToPoint:function(s,l){var h=this.projection.project(s),g=this.scale(l);return this.transformation._transform(h,g)},pointToLatLng:function(s,l){var h=this.scale(l),g=this.transformation.untransform(s,h);return this.projection.unproject(g)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(s),g=this.transformation.transform(l.min,h),y=this.transformation.transform(l.max,h);return new Q(g,y)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?f(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?f(s.lat,this.wrapLat,!0):s.lat,g=s.alt;return new de(h,l,g)},wrapLatLngBounds:function(s){var l=s.getCenter(),h=this.wrapLatLng(l),g=l.lat-h.lat,y=l.lng-h.lng;if(g===0&&y===0)return s;var P=s.getSouthWest(),I=s.getNorthEast(),V=new de(P.lat-g,P.lng-y),W=new de(I.lat-g,I.lng-y);return new be(V,W)}},gn=r({},ht,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var h=Math.PI/180,g=s.lat*h,y=l.lat*h,P=Math.sin((l.lat-s.lat)*h/2),I=Math.sin((l.lng-s.lng)*h/2),V=P*P+Math.cos(g)*Math.cos(y)*I*I,W=2*Math.atan2(Math.sqrt(V),Math.sqrt(1-V));return this.R*W}}),aa=6378137,Ps={R:aa,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,h=this.MAX_LATITUDE,g=Math.max(Math.min(h,s.lat),-h),y=Math.sin(g*l);return new F(this.R*s.lng*l,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(s){var l=180/Math.PI;return new de((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=aa*Math.PI;return new Q([-s,-s],[s,s])}()};function Ts(s,l,h,g){if(S(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=h,this._d=g}Ts.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new F((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function Mi(s,l,h,g){return new Ts(s,l,h,g)}var Yn=r({},gn,{code:"EPSG:3857",projection:Ps,transformation:function(){var s=.5/(Math.PI*Ps.R);return Mi(s,.5,-s,.5)}()}),Sc=r({},Yn,{code:"EPSG:900913"});function Ec(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Pc(s,l){var h="",g,y,P,I,V,W;for(g=0,P=s.length;g<P;g++){for(V=s[g],y=0,I=V.length;y<I;y++)W=V[y],h+=(y?"L":"M")+W.x+" "+W.y;h+=l?re.svg?"z":"x":""}return h||"M0 0"}var la=document.documentElement.style,ks="ActiveXObject"in window,As=ks&&!document.addEventListener,$y="msLaunchUri"in navigator&&!("documentMode"in document),Xh=Ln("webkit"),Hy=Ln("android"),Ky=Ln("android 2")||Ln("android 3"),OA=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),DA=Hy&&Ln("Google")&&OA<537&&!("AudioNode"in window),Jh=!!window.opera,Zy=!$y&&Ln("chrome"),qy=Ln("gecko")&&!Xh&&!Jh&&!ks,jA=!Zy&&Ln("safari"),Gy=Ln("phantom"),Yy="OTransition"in la,FA=navigator.platform.indexOf("Win")===0,Qy=ks&&"transition"in la,ef="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ky,Xy="MozPerspective"in la,BA=!window.L_DISABLE_3D&&(Qy||ef||Xy)&&!Yy&&!Gy,ca=typeof orientation<"u"||Ln("mobile"),zA=ca&&Xh,VA=ca&&ef,Jy=!window.PointerEvent&&window.MSPointerEvent,e_=!!(window.PointerEvent||Jy),t_="ontouchstart"in window||!!window.TouchEvent,UA=!window.L_NO_TOUCH&&(t_||e_),WA=ca&&Jh,$A=ca&&qy,HA=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,KA=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",p,l),window.removeEventListener("testPassiveEventSupport",p,l)}catch{}return s}(),ZA=function(){return!!document.createElement("canvas").getContext}(),tf=!!(document.createElementNS&&Ec("svg").createSVGRect),qA=!!tf&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),GA=!tf&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),YA=navigator.platform.indexOf("Mac")===0,QA=navigator.platform.indexOf("Linux")===0;function Ln(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var re={ie:ks,ielt9:As,edge:$y,webkit:Xh,android:Hy,android23:Ky,androidStock:DA,opera:Jh,chrome:Zy,gecko:qy,safari:jA,phantom:Gy,opera12:Yy,win:FA,ie3d:Qy,webkit3d:ef,gecko3d:Xy,any3d:BA,mobile:ca,mobileWebkit:zA,mobileWebkit3d:VA,msPointer:Jy,pointer:e_,touch:UA,touchNative:t_,mobileOpera:WA,mobileGecko:$A,retina:HA,passiveEvents:KA,canvas:ZA,svg:tf,vml:GA,inlineSvg:qA,mac:YA,linux:QA},n_=re.msPointer?"MSPointerDown":"pointerdown",i_=re.msPointer?"MSPointerMove":"pointermove",r_=re.msPointer?"MSPointerUp":"pointerup",s_=re.msPointer?"MSPointerCancel":"pointercancel",nf={touchstart:n_,touchmove:i_,touchend:r_,touchcancel:s_},o_={touchstart:iN,touchmove:Tc,touchend:Tc,touchcancel:Tc},Ns={},a_=!1;function XA(s,l,h){return l==="touchstart"&&nN(),o_[l]?(h=o_[l].bind(this,h),s.addEventListener(nf[l],h,!1),h):(console.warn("wrong event specified:",l),p)}function JA(s,l,h){if(!nf[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(nf[l],h,!1)}function eN(s){Ns[s.pointerId]=s}function tN(s){Ns[s.pointerId]&&(Ns[s.pointerId]=s)}function l_(s){delete Ns[s.pointerId]}function nN(){a_||(document.addEventListener(n_,eN,!0),document.addEventListener(i_,tN,!0),document.addEventListener(r_,l_,!0),document.addEventListener(s_,l_,!0),a_=!0)}function Tc(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in Ns)l.touches.push(Ns[h]);l.changedTouches=[l],s(l)}}function iN(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&ft(l),Tc(s,l)}function rN(s){var l={},h,g;for(g in s)h=s[g],l[g]=h&&h.bind?h.bind(s):h;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var sN=200;function oN(s,l){s.addEventListener("dblclick",l);var h=0,g;function y(P){if(P.detail!==1){g=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var I=f_(P);if(!(I.some(function(W){return W instanceof HTMLLabelElement&&W.attributes.for})&&!I.some(function(W){return W instanceof HTMLInputElement||W instanceof HTMLSelectElement}))){var V=Date.now();V-h<=sN?(g++,g===2&&l(rN(P))):g=1,h=V}}}return s.addEventListener("click",y),{dblclick:l,simDblclick:y}}function aN(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var rf=Nc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ua=Nc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),c_=ua==="webkitTransition"||ua==="OTransition"?ua+"End":"transitionend";function u_(s){return typeof s=="string"?document.getElementById(s):s}function da(s,l){var h=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(s,null);h=g?g[l]:null}return h==="auto"?null:h}function Se(s,l,h){var g=document.createElement(s);return g.className=l||"",h&&h.appendChild(g),g}function Ve(s){var l=s.parentNode;l&&l.removeChild(s)}function kc(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Is(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function Rs(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function sf(s,l){if(s.classList!==void 0)return s.classList.contains(l);var h=Ac(s);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function fe(s,l){if(s.classList!==void 0)for(var h=C(l),g=0,y=h.length;g<y;g++)s.classList.add(h[g]);else if(!sf(s,l)){var P=Ac(s);of(s,(P?P+" ":"")+l)}}function qe(s,l){s.classList!==void 0?s.classList.remove(l):of(s,v((" "+Ac(s)+" ").replace(" "+l+" "," ")))}function of(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function Ac(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function rn(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&lN(s,l)}function lN(s,l){var h=!1,g="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(g)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):s.style.filter+=" progid:"+g+"(opacity="+l+")"}function Nc(s){for(var l=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in l)return s[h];return!1}function Lr(s,l,h){var g=l||new F(0,0);s.style[rf]=(re.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(h?" scale("+h+")":"")}function Qe(s,l){s._leaflet_pos=l,re.any3d?Lr(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function Mr(s){return s._leaflet_pos||new F(0,0)}var ha,fa,af;if("onselectstart"in document)ha=function(){ue(window,"selectstart",ft)},fa=function(){Ne(window,"selectstart",ft)};else{var pa=Nc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ha=function(){if(pa){var s=document.documentElement.style;af=s[pa],s[pa]="none"}},fa=function(){pa&&(document.documentElement.style[pa]=af,af=void 0)}}function lf(){ue(window,"dragstart",ft)}function cf(){Ne(window,"dragstart",ft)}var Ic,uf;function df(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Rc(),Ic=s,uf=s.style.outlineStyle,s.style.outlineStyle="none",ue(window,"keydown",Rc))}function Rc(){Ic&&(Ic.style.outlineStyle=uf,Ic=void 0,uf=void 0,Ne(window,"keydown",Rc))}function d_(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function hf(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var cN={__proto__:null,TRANSFORM:rf,TRANSITION:ua,TRANSITION_END:c_,get:u_,getStyle:da,create:Se,remove:Ve,empty:kc,toFront:Is,toBack:Rs,hasClass:sf,addClass:fe,removeClass:qe,setClass:of,getClass:Ac,setOpacity:rn,testProp:Nc,setTransform:Lr,setPosition:Qe,getPosition:Mr,get disableTextSelection(){return ha},get enableTextSelection(){return fa},disableImageDrag:lf,enableImageDrag:cf,preventOutline:df,restoreOutline:Rc,getSizedParentNode:d_,getScale:hf};function ue(s,l,h,g){if(l&&typeof l=="object")for(var y in l)pf(s,y,l[y],h);else{l=C(l);for(var P=0,I=l.length;P<I;P++)pf(s,l[P],h,g)}return this}var Mn="_leaflet_events";function Ne(s,l,h,g){if(arguments.length===1)h_(s),delete s[Mn];else if(l&&typeof l=="object")for(var y in l)mf(s,y,l[y],h);else if(l=C(l),arguments.length===2)h_(s,function(V){return k(l,V)!==-1});else for(var P=0,I=l.length;P<I;P++)mf(s,l[P],h,g);return this}function h_(s,l){for(var h in s[Mn]){var g=h.split(/\d/)[0];(!l||l(g))&&mf(s,g,null,null,h)}}var ff={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function pf(s,l,h,g){var y=l+u(h)+(g?"_"+u(g):"");if(s[Mn]&&s[Mn][y])return this;var P=function(V){return h.call(g||s,V||window.event)},I=P;!re.touchNative&&re.pointer&&l.indexOf("touch")===0?P=XA(s,l,P):re.touch&&l==="dblclick"?P=oN(s,P):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(ff[l]||l,P,re.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(P=function(V){V=V||window.event,vf(s,V)&&I(V)},s.addEventListener(ff[l],P,!1)):s.addEventListener(l,I,!1):s.attachEvent("on"+l,P),s[Mn]=s[Mn]||{},s[Mn][y]=P}function mf(s,l,h,g,y){y=y||l+u(h)+(g?"_"+u(g):"");var P=s[Mn]&&s[Mn][y];if(!P)return this;!re.touchNative&&re.pointer&&l.indexOf("touch")===0?JA(s,l,P):re.touch&&l==="dblclick"?aN(s,P):"removeEventListener"in s?s.removeEventListener(ff[l]||l,P,!1):s.detachEvent("on"+l,P),s[Mn][y]=null}function Or(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function gf(s){return pf(s,"wheel",Or),this}function ma(s){return ue(s,"mousedown touchstart dblclick contextmenu",Or),s._leaflet_disable_click=!0,this}function ft(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Dr(s){return ft(s),Or(s),this}function f_(s){if(s.composedPath)return s.composedPath();for(var l=[],h=s.target;h;)l.push(h),h=h.parentNode;return l}function p_(s,l){if(!l)return new F(s.clientX,s.clientY);var h=hf(l),g=h.boundingClientRect;return new F((s.clientX-g.left)/h.x-l.clientLeft,(s.clientY-g.top)/h.y-l.clientTop)}var uN=re.linux&&re.chrome?window.devicePixelRatio:re.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function m_(s){return re.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/uN:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function vf(s,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var dN={__proto__:null,on:ue,off:Ne,stopPropagation:Or,disableScrollPropagation:gf,disableClickPropagation:ma,preventDefault:ft,stop:Dr,getPropagationPath:f_,getMousePosition:p_,getWheelDelta:m_,isExternalTarget:vf,addListener:ue,removeListener:Ne},g_=$.extend({run:function(s,l,h,g){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=Mr(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var h=this._startPos.add(this._offset.multiplyBy(s));l&&h._round(),Qe(this._el,h),this.fire("step")},_complete:function(){M(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),we=$.extend({options:{crs:Yn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=_(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(ne(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ua&&re.any3d&&!re.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ue(this._proxy,c_,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(ne(s),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=r({animate:h.animate},h.zoom),h.pan=r({animate:h.animate,duration:h.duration},h.pan));var g=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,h.zoom):this._tryAnimatedPan(s,h.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,h){var g=this.getZoomScale(l),y=this.getSize().divideBy(2),P=s instanceof F?s:this.latLngToContainerPoint(s),I=P.subtract(y).multiplyBy(1-1/g),V=this.containerPointToLatLng(y.add(I));return this.setView(V,l,{zoom:h})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():_e(s);var h=K(l.paddingTopLeft||l.padding||[0,0]),g=K(l.paddingBottomRight||l.padding||[0,0]),y=this.getBoundsZoom(s,!1,h.add(g));if(y=typeof l.maxZoom=="number"?Math.min(l.maxZoom,y):y,y===1/0)return{center:s.getCenter(),zoom:y};var P=g.subtract(h).divideBy(2),I=this.project(s.getSouthWest(),y),V=this.project(s.getNorthEast(),y),W=this.unproject(I.add(V).divideBy(2).add(P),y);return{center:W,zoom:y}},fitBounds:function(s,l){if(s=_e(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=K(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new g_,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){fe(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,h){if(h=h||{},h.animate===!1||!re.any3d)return this.setView(s,l,h);this._stop();var g=this.project(this.getCenter()),y=this.project(s),P=this.getSize(),I=this._zoom;s=ne(s),l=l===void 0?I:l;var V=Math.max(P.x,P.y),W=V*this.getZoomScale(I,l),G=y.distanceTo(g)||1,J=1.42,ae=J*J;function pe(Xe){var $c=Xe?-1:1,JN=Xe?W:V,eI=W*W-V*V+$c*ae*ae*G*G,tI=2*JN*ae*G,kf=eI/tI,Y_=Math.sqrt(kf*kf+1)-kf,nI=Y_<1e-9?-18:Math.log(Y_);return nI}function At(Xe){return(Math.exp(Xe)-Math.exp(-Xe))/2}function ot(Xe){return(Math.exp(Xe)+Math.exp(-Xe))/2}function on(Xe){return At(Xe)/ot(Xe)}var Dt=pe(0);function Fs(Xe){return V*(ot(Dt)/ot(Dt+J*Xe))}function GN(Xe){return V*(ot(Dt)*on(Dt+J*Xe)-At(Dt))/ae}function YN(Xe){return 1-Math.pow(1-Xe,1.5)}var QN=Date.now(),q_=(pe(1)-Dt)/J,XN=h.duration?1e3*h.duration:1e3*q_*.8;function G_(){var Xe=(Date.now()-QN)/XN,$c=YN(Xe)*q_;Xe<=1?(this._flyToFrame=j(G_,this),this._move(this.unproject(g.add(y.subtract(g).multiplyBy(GN($c)/G)),I),this.getScaleZoom(V/Fs($c),I),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),G_.call(this),this},flyToBounds:function(s,l){var h=this._getBoundsCenterZoom(s,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(s){return s=_e(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var h=this.getCenter(),g=this._limitCenter(h,this._zoom,_e(s));return h.equals(g)||this.panTo(g,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var h=K(l.paddingTopLeft||l.padding||[0,0]),g=K(l.paddingBottomRight||l.padding||[0,0]),y=this.project(this.getCenter()),P=this.project(s),I=this.getPixelBounds(),V=ie([I.min.add(h),I.max.subtract(g)]),W=V.getSize();if(!V.contains(P)){this._enforcingBounds=!0;var G=P.subtract(V.getCenter()),J=V.extend(P).getSize().subtract(W);y.x+=G.x<0?-J.x:J.x,y.y+=G.y<0?-J.y:J.y,this.panTo(this.unproject(y),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),g=l.divideBy(2).round(),y=h.divideBy(2).round(),P=g.subtract(y);return!P.x&&!P.y?this:(s.animate&&s.pan?this.panBy(P):(s.pan&&this._rawPanBy(P),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),h=a(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,s):navigator.geolocation.getCurrentPosition(l,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,h=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,h=s.coords.longitude,g=new de(l,h),y=g.toBounds(s.coords.accuracy*2),P=this._locateOptions;if(P.setView){var I=this.getBoundsZoom(y);this.setView(g,P.maxZoom?Math.min(I,P.maxZoom):I)}var V={latlng:g,bounds:y,timestamp:s.timestamp};for(var W in s.coords)typeof s.coords[W]=="number"&&(V[W]=s.coords[W]);this.fire("locationfound",V)}},addHandler:function(s,l){if(!l)return this;var h=this[s]=new l(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ve(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(M(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Ve(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),g=Se("div",h,l||this._mapPane);return s&&(this._panes[s]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new be(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,h){s=_e(s),h=K(h||[0,0]);var g=this.getZoom()||0,y=this.getMinZoom(),P=this.getMaxZoom(),I=s.getNorthWest(),V=s.getSouthEast(),W=this.getSize().subtract(h),G=ie(this.project(V,g),this.project(I,g)).getSize(),J=re.any3d?this.options.zoomSnap:1,ae=W.x/G.x,pe=W.y/G.y,At=l?Math.max(ae,pe):Math.min(ae,pe);return g=this.getScaleZoom(At,g),J&&(g=Math.round(g/(J/100))*(J/100),g=l?Math.ceil(g/J)*J:Math.floor(g/J)*J),Math.max(y,Math.min(P,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new F(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var h=this._getTopLeftPoint(s,l);return new Q(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(s)/h.scale(l)},getScaleZoom:function(s,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var g=h.zoom(s*h.scale(l));return isNaN(g)?1/0:g},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(ne(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(K(s),l)},layerPointToLatLng:function(s){var l=K(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(ne(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ne(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(_e(s))},distance:function(s,l){return this.options.crs.distance(ne(s),ne(l))},containerPointToLayerPoint:function(s){return K(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return K(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(K(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ne(s)))},mouseEventToContainerPoint:function(s){return p_(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=u_(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ue(l,"scroll",this._onScroll,this),this._containerId=u(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&re.any3d,fe(s,"leaflet-container"+(re.touch?" leaflet-touch":"")+(re.retina?" leaflet-retina":"")+(re.ielt9?" leaflet-oldie":"")+(re.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=da(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Qe(this._mapPane,new F(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(fe(s.markerPane,"leaflet-zoom-hide"),fe(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,h){Qe(this._mapPane,new F(0,0));var g=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var y=this._zoom!==l;this._moveStart(y,h)._move(s,l)._moveEnd(y),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,h,g){l===void 0&&(l=this._zoom);var y=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),g?h&&h.pinch&&this.fire("zoom",h):((y||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return M(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Qe(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[u(this._container)]=this;var l=s?Ne:ue;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),re.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){M(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var h=[],g,y=l==="mouseout"||l==="mouseover",P=s.target||s.srcElement,I=!1;P;){if(g=this._targets[u(P)],g&&(l==="click"||l==="preclick")&&this._draggableMoved(g)){I=!0;break}if(g&&g.listens(l,!0)&&(y&&!vf(P,s)||(h.push(g),y))||P===this._container)break;P=P.parentNode}return!h.length&&!I&&!y&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var h=s.type;h==="mousedown"&&df(l),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,h){if(s.type==="click"){var g=r({},s);g.type="preclick",this._fireDOMEvent(g,g.type,h)}var y=this._findEventTargets(s,l);if(h){for(var P=[],I=0;I<h.length;I++)h[I].listens(l,!0)&&P.push(h[I]);y=P.concat(y)}if(y.length){l==="contextmenu"&&ft(s);var V=y[0],W={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var G=V.getLatLng&&(!V._radius||V._radius<=10);W.containerPoint=G?this.latLngToContainerPoint(V.getLatLng()):this.mouseEventToContainerPoint(s),W.layerPoint=this.containerPointToLayerPoint(W.containerPoint),W.latlng=G?V.getLatLng():this.layerPointToLatLng(W.layerPoint)}for(I=0;I<y.length;I++)if(y[I].fire(l,W,!0),W.originalEvent._stopped||y[I].options.bubblingMouseEvents===!1&&k(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return Mr(this._mapPane)||new F(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var h=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var h=this.getSize()._divideBy(2);return this.project(s,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,h){var g=this._getNewPixelOrigin(h,l);return this.project(s,l)._subtract(g)},_latLngBoundsToNewLayerBounds:function(s,l,h){var g=this._getNewPixelOrigin(h,l);return ie([this.project(s.getSouthWest(),l)._subtract(g),this.project(s.getNorthWest(),l)._subtract(g),this.project(s.getSouthEast(),l)._subtract(g),this.project(s.getNorthEast(),l)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,h){if(!h)return s;var g=this.project(s,l),y=this.getSize().divideBy(2),P=new Q(g.subtract(y),g.add(y)),I=this._getBoundsOffset(P,h,l);return Math.abs(I.x)<=1&&Math.abs(I.y)<=1?s:this.unproject(g.add(I),l)},_limitOffset:function(s,l){if(!l)return s;var h=this.getPixelBounds(),g=new Q(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(g,l))},_getBoundsOffset:function(s,l,h){var g=ie(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),y=g.min.subtract(s.min),P=g.max.subtract(s.max),I=this._rebound(y.x,-P.x),V=this._rebound(y.y,-P.y);return new F(I,V)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),h=this.getMaxZoom(),g=re.any3d?this.options.zoomSnap:1;return g&&(s=Math.round(s/g)*g),Math.max(l,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){qe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var h=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var s=this._proxy=Se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var h=rf,g=this._proxy.style[h];Lr(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),g===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ve(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();Lr(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(l),y=this._getCenterOffset(s)._divideBy(1-1/g);return h.animate!==!0&&!this.getSize().contains(y)?!1:(j(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,h,g){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,fe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&qe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function hN(s,l){return new we(s,l)}var vn=N.extend({options:{position:"topright"},initialize:function(s){_(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),h=this.getPosition(),g=s._controlCorners[h];return fe(l,"leaflet-control"),h.indexOf("bottom")!==-1?g.insertBefore(l,g.firstChild):g.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ve(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),ga=function(s){return new vn(s)};we.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",h=this._controlContainer=Se("div",l+"control-container",this._container);function g(y,P){var I=l+y+" "+l+P;s[y+P]=Se("div",I,h)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Ve(this._controlCorners[s]);Ve(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var v_=vn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,h,g){return h<g?-1:g<h?1:0}},initialize:function(s,l,h){_(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in s)this._addLayer(s[g],g);for(g in l)this._addLayer(l[g],g,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return vn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(u(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){fe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(fe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):qe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return qe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=Se("div",s),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ma(l),gf(l);var g=this._section=Se("section",s+"-list");h&&(this._map.on("click",this.collapse,this),ue(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=Se("a",s+"-toggle",l);y.href="#",y.title="Layers",y.setAttribute("role","button"),ue(y,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){ft(P),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=Se("div",s+"-base",g),this._separator=Se("div",s+"-separator",g),this._overlaysList=Se("div",s+"-overlays",g),l.appendChild(g)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&u(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(a(function(g,y){return this.options.sortFunction(g.layer,y.layer,g.name,y.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;kc(this._baseLayersList),kc(this._overlaysList),this._layerControlInputs=[];var s,l,h,g,y=0;for(h=0;h<this._layers.length;h++)g=this._layers[h],this._addItem(g),l=l||g.overlay,s=s||!g.overlay,y+=g.overlay?0:1;return this.options.hideSingleBase&&(s=s&&y>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(u(s.target)),h=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(s,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=h,g.firstChild},_addItem:function(s){var l=document.createElement("label"),h=this._map.hasLayer(s.layer),g;s.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=h):g=this._createRadioElement("leaflet-base-layers_"+u(this),h),this._layerControlInputs.push(g),g.layerId=u(s.layer),ue(g,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+s.name;var P=document.createElement("span");l.appendChild(P),P.appendChild(g),P.appendChild(y);var I=s.overlay?this._overlaysList:this._baseLayersList;return I.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,h,g=[],y=[];this._handlingClick=!0;for(var P=s.length-1;P>=0;P--)l=s[P],h=this._getLayer(l.layerId).layer,l.checked?g.push(h):l.checked||y.push(h);for(P=0;P<y.length;P++)this._map.hasLayer(y[P])&&this._map.removeLayer(y[P]);for(P=0;P<g.length;P++)this._map.hasLayer(g[P])||this._map.addLayer(g[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,h,g=this._map.getZoom(),y=s.length-1;y>=0;y--)l=s[y],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&g<h.options.minZoom||h.options.maxZoom!==void 0&&g>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ue(s,"click",ft),this.expand();var l=this;setTimeout(function(){Ne(s,"click",ft),l._preventClick=!1})}}),fN=function(s,l,h){return new v_(s,l,h)},yf=vn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",h=Se("div",l+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,h,g,y){var P=Se("a",h,g);return P.innerHTML=s,P.href="#",P.title=l,P.setAttribute("role","button"),P.setAttribute("aria-label",l),ma(P),ue(P,"click",Dr),ue(P,"click",y,this),ue(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";qe(this._zoomInButton,l),qe(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(fe(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(fe(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});we.mergeOptions({zoomControl:!0}),we.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new yf,this.addControl(this.zoomControl))});var pN=function(s){return new yf(s)},y_=vn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",h=Se("div",l),g=this.options;return this._addScales(g,l+"-line",h),s.on(g.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,h){s.metric&&(this._mScale=Se("div",l,h)),s.imperial&&(this._iScale=Se("div",l,h))},_update:function(){var s=this._map,l=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/s)},_updateImperial:function(s){var l=s*3.2808399,h,g,y;l>5280?(h=l/5280,g=this._getRoundNum(h),this._updateScale(this._iScale,g+" mi",g/h)):(y=this._getRoundNum(l),this._updateScale(this._iScale,y+" ft",y/l))},_updateScale:function(s,l,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),h=s/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),mN=function(s){return new y_(s)},gN='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_f=vn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(re.inlineSvg?gN+" ":"")+"Leaflet</a>"},initialize:function(s){_(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Se("div","leaflet-control-attribution"),ma(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});we.mergeOptions({attributionControl:!0}),we.addInitHook(function(){this.options.attributionControl&&new _f().addTo(this)});var vN=function(s){return new _f(s)};vn.Layers=v_,vn.Zoom=yf,vn.Scale=y_,vn.Attribution=_f,ga.layers=fN,ga.zoom=pN,ga.scale=mN,ga.attribution=vN;var On=N.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});On.addTo=function(s,l){return s.addHandler(l,this),this};var yN={Events:z},__=re.touch?"touchstart mousedown":"mousedown",Oi=$.extend({options:{clickTolerance:3},initialize:function(s,l,h,g){_(this,g),this._element=s,this._dragStartTarget=l||s,this._preventOutline=h},enable:function(){this._enabled||(ue(this._dragStartTarget,__,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Oi._dragging===this&&this.finishDrag(!0),Ne(this._dragStartTarget,__,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!sf(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Oi._dragging===this&&this.finishDrag();return}if(!(Oi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Oi._dragging=this,this._preventOutline&&df(this._element),lf(),ha(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,h=d_(this._element);this._startPoint=new F(l.clientX,l.clientY),this._startPos=Mr(this._element),this._parentScale=hf(h);var g=s.type==="mousedown";ue(document,g?"mousemove":"touchmove",this._onMove,this),ue(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,h=new F(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,ft(s),this._moved||(this.fire("dragstart"),this._moved=!0,fe(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),fe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Qe(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){qe(document.body,"leaflet-dragging"),this._lastTarget&&(qe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ne(document,"mousemove touchmove",this._onMove,this),Ne(document,"mouseup touchend touchcancel",this._onUp,this),cf(),fa();var l=this._moved&&this._moving;this._moving=!1,Oi._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function x_(s,l,h){var g,y=[1,4,2,8],P,I,V,W,G,J,ae,pe;for(P=0,J=s.length;P<J;P++)s[P]._code=jr(s[P],l);for(V=0;V<4;V++){for(ae=y[V],g=[],P=0,J=s.length,I=J-1;P<J;I=P++)W=s[P],G=s[I],W._code&ae?G._code&ae||(pe=Lc(G,W,ae,l,h),pe._code=jr(pe,l),g.push(pe)):(G._code&ae&&(pe=Lc(G,W,ae,l,h),pe._code=jr(pe,l),g.push(pe)),g.push(W));s=g}return s}function w_(s,l){var h,g,y,P,I,V,W,G,J;if(!s||s.length===0)throw new Error("latlngs not passed");sn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ae=ne([0,0]),pe=_e(s),At=pe.getNorthWest().distanceTo(pe.getSouthWest())*pe.getNorthEast().distanceTo(pe.getNorthWest());At<1700&&(ae=xf(s));var ot=s.length,on=[];for(h=0;h<ot;h++){var Dt=ne(s[h]);on.push(l.project(ne([Dt.lat-ae.lat,Dt.lng-ae.lng])))}for(V=W=G=0,h=0,g=ot-1;h<ot;g=h++)y=on[h],P=on[g],I=y.y*P.x-P.y*y.x,W+=(y.x+P.x)*I,G+=(y.y+P.y)*I,V+=I*3;V===0?J=on[0]:J=[W/V,G/V];var Fs=l.unproject(K(J));return ne([Fs.lat+ae.lat,Fs.lng+ae.lng])}function xf(s){for(var l=0,h=0,g=0,y=0;y<s.length;y++){var P=ne(s[y]);l+=P.lat,h+=P.lng,g++}return ne([l/g,h/g])}var _N={__proto__:null,clipPolygon:x_,polygonCenter:w_,centroid:xf};function b_(s,l){if(!l||!s.length)return s.slice();var h=l*l;return s=bN(s,h),s=wN(s,h),s}function C_(s,l,h){return Math.sqrt(va(s,l,h,!0))}function xN(s,l,h){return va(s,l,h)}function wN(s,l){var h=s.length,g=typeof Uint8Array<"u"?Uint8Array:Array,y=new g(h);y[0]=y[h-1]=1,wf(s,y,l,0,h-1);var P,I=[];for(P=0;P<h;P++)y[P]&&I.push(s[P]);return I}function wf(s,l,h,g,y){var P=0,I,V,W;for(V=g+1;V<=y-1;V++)W=va(s[V],s[g],s[y],!0),W>P&&(I=V,P=W);P>h&&(l[I]=1,wf(s,l,h,g,I),wf(s,l,h,I,y))}function bN(s,l){for(var h=[s[0]],g=1,y=0,P=s.length;g<P;g++)CN(s[g],s[y])>l&&(h.push(s[g]),y=g);return y<P-1&&h.push(s[P-1]),h}var S_;function E_(s,l,h,g,y){var P=g?S_:jr(s,h),I=jr(l,h),V,W,G;for(S_=I;;){if(!(P|I))return[s,l];if(P&I)return!1;V=P||I,W=Lc(s,l,V,h,y),G=jr(W,h),V===P?(s=W,P=G):(l=W,I=G)}}function Lc(s,l,h,g,y){var P=l.x-s.x,I=l.y-s.y,V=g.min,W=g.max,G,J;return h&8?(G=s.x+P*(W.y-s.y)/I,J=W.y):h&4?(G=s.x+P*(V.y-s.y)/I,J=V.y):h&2?(G=W.x,J=s.y+I*(W.x-s.x)/P):h&1&&(G=V.x,J=s.y+I*(V.x-s.x)/P),new F(G,J,y)}function jr(s,l){var h=0;return s.x<l.min.x?h|=1:s.x>l.max.x&&(h|=2),s.y<l.min.y?h|=4:s.y>l.max.y&&(h|=8),h}function CN(s,l){var h=l.x-s.x,g=l.y-s.y;return h*h+g*g}function va(s,l,h,g){var y=l.x,P=l.y,I=h.x-y,V=h.y-P,W=I*I+V*V,G;return W>0&&(G=((s.x-y)*I+(s.y-P)*V)/W,G>1?(y=h.x,P=h.y):G>0&&(y+=I*G,P+=V*G)),I=s.x-y,V=s.y-P,g?I*I+V*V:new F(y,P)}function sn(s){return!S(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function P_(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),sn(s)}function T_(s,l){var h,g,y,P,I,V,W,G;if(!s||s.length===0)throw new Error("latlngs not passed");sn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var J=ne([0,0]),ae=_e(s),pe=ae.getNorthWest().distanceTo(ae.getSouthWest())*ae.getNorthEast().distanceTo(ae.getNorthWest());pe<1700&&(J=xf(s));var At=s.length,ot=[];for(h=0;h<At;h++){var on=ne(s[h]);ot.push(l.project(ne([on.lat-J.lat,on.lng-J.lng])))}for(h=0,g=0;h<At-1;h++)g+=ot[h].distanceTo(ot[h+1])/2;if(g===0)G=ot[0];else for(h=0,P=0;h<At-1;h++)if(I=ot[h],V=ot[h+1],y=I.distanceTo(V),P+=y,P>g){W=(P-g)/y,G=[V.x-W*(V.x-I.x),V.y-W*(V.y-I.y)];break}var Dt=l.unproject(K(G));return ne([Dt.lat+J.lat,Dt.lng+J.lng])}var SN={__proto__:null,simplify:b_,pointToSegmentDistance:C_,closestPointOnSegment:xN,clipSegment:E_,_getEdgeIntersection:Lc,_getBitCode:jr,_sqClosestPointOnSegment:va,isFlat:sn,_flat:P_,polylineCenter:T_},bf={project:function(s){return new F(s.lng,s.lat)},unproject:function(s){return new de(s.y,s.x)},bounds:new Q([-180,-90],[180,90])},Cf={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,h=this.R,g=s.lat*l,y=this.R_MINOR/h,P=Math.sqrt(1-y*y),I=P*Math.sin(g),V=Math.tan(Math.PI/4-g/2)/Math.pow((1-I)/(1+I),P/2);return g=-h*Math.log(Math.max(V,1e-10)),new F(s.lng*l*h,g)},unproject:function(s){for(var l=180/Math.PI,h=this.R,g=this.R_MINOR/h,y=Math.sqrt(1-g*g),P=Math.exp(-s.y/h),I=Math.PI/2-2*Math.atan(P),V=0,W=.1,G;V<15&&Math.abs(W)>1e-7;V++)G=y*Math.sin(I),G=Math.pow((1-G)/(1+G),y/2),W=Math.PI/2-2*Math.atan(P*G)-I,I+=W;return new de(I*l,s.x*l/h)}},EN={__proto__:null,LonLat:bf,Mercator:Cf,SphericalMercator:Ps},PN=r({},gn,{code:"EPSG:3395",projection:Cf,transformation:function(){var s=.5/(Math.PI*Cf.R);return Mi(s,.5,-s,.5)}()}),k_=r({},gn,{code:"EPSG:4326",projection:bf,transformation:Mi(1/180,1,-1/180,.5)}),TN=r({},ht,{projection:bf,transformation:Mi(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var h=l.lng-s.lng,g=l.lat-s.lat;return Math.sqrt(h*h+g*g)},infinite:!0});ht.Earth=gn,ht.EPSG3395=PN,ht.EPSG3857=Yn,ht.EPSG900913=Sc,ht.EPSG4326=k_,ht.Simple=TN;var yn=$.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[u(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[u(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});we.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=u(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=u(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return u(s)in this._layers},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},_addLayers:function(s){s=s?S(s)?s:[s]:[];for(var l=0,h=s.length;l<h;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[u(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=u(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,h=this._getZoomSpan();for(var g in this._zoomBoundLayers){var y=this._zoomBoundLayers[g].options;s=y.minZoom===void 0?s:Math.min(s,y.minZoom),l=y.maxZoom===void 0?l:Math.max(l,y.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ls=yn.extend({initialize:function(s,l){_(this,l),this._layers={};var h,g;if(s)for(h=0,g=s.length;h<g;h++)this.addLayer(s[h])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),h,g;for(h in this._layers)g=this._layers[h],g[s]&&g[s].apply(g,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return u(s)}}),kN=function(s,l){return new Ls(s,l)},Qn=Ls.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Ls.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Ls.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new be;for(var l in this._layers){var h=this._layers[l];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),AN=function(s,l){return new Qn(s,l)},Ms=N.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){_(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(g,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(s,l){var h=this.options,g=h[l+"Size"];typeof g=="number"&&(g=[g,g]);var y=K(g),P=K(l==="shadow"&&h.shadowAnchor||h.iconAnchor||y&&y.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(h.className||""),P&&(s.style.marginLeft=-P.x+"px",s.style.marginTop=-P.y+"px"),y&&(s.style.width=y.x+"px",s.style.height=y.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return re.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function NN(s){return new Ms(s)}var ya=Ms.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof ya.imagePath!="string"&&(ya.imagePath=this._detectIconPath()),(this.options.imagePath||ya.imagePath)+Ms.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(h,g,y){var P=g.exec(h);return P&&P[y]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Se("div","leaflet-default-icon-path",document.body),l=da(s,"background-image")||da(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),A_=On.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Oi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),fe(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&qe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,h=l._map,g=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,P=Mr(l._icon),I=h.getPixelBounds(),V=h.getPixelOrigin(),W=ie(I.min._subtract(V).add(y),I.max._subtract(V).subtract(y));if(!W.contains(P)){var G=K((Math.max(W.max.x,P.x)-W.max.x)/(I.max.x-W.max.x)-(Math.min(W.min.x,P.x)-W.min.x)/(I.min.x-W.min.x),(Math.max(W.max.y,P.y)-W.max.y)/(I.max.y-W.max.y)-(Math.min(W.min.y,P.y)-W.min.y)/(I.min.y-W.min.y)).multiplyBy(g);h.panBy(G,{animate:!1}),this._draggable._newPos._add(G),this._draggable._startPos._add(G),Qe(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=j(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(M(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,h=l._shadow,g=Mr(l._icon),y=l._map.layerPointToLatLng(g);h&&Qe(h,g),l._latlng=y,s.latlng=y,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){M(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Mc=yn.extend({options:{icon:new ya,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){_(this,l),this._latlng=ne(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=ne(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),g=!1;h!==this._icon&&(this._icon&&this._removeIcon(),g=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),fe(h,l),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ue(h,"focus",this._panOnFocus,this);var y=s.icon.createShadow(this._shadow),P=!1;y!==this._shadow&&(this._removeShadow(),P=!0),y&&(fe(y,l),y.alt=""),this._shadow=y,s.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&P&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ne(this._icon,"focus",this._panOnFocus,this),Ve(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ve(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Qe(this._icon,s),this._shadow&&Qe(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(fe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),A_)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new A_(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&rn(this._icon,s),this._shadow&&rn(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,h=l.iconSize?K(l.iconSize):K(0,0),g=l.iconAnchor?K(l.iconAnchor):K(0,0);s.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:h.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function IN(s,l){return new Mc(s,l)}var Di=yn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return _(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Oc=Di.extend({options:{fill:!0,radius:10},initialize:function(s,l){_(this,l),this._latlng=ne(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=ne(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return Di.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,h=this._clickTolerance(),g=[s+h,l+h];this._pxBounds=new Q(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function RN(s,l){return new Oc(s,l)}var Sf=Oc.extend({initialize:function(s,l,h){if(typeof l=="number"&&(l=r({},h,{radius:l})),_(this,l),this._latlng=ne(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new be(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Di.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,h=this._map,g=h.options.crs;if(g.distance===gn.distance){var y=Math.PI/180,P=this._mRadius/gn.R/y,I=h.project([l+P,s]),V=h.project([l-P,s]),W=I.add(V).divideBy(2),G=h.unproject(W).lat,J=Math.acos((Math.cos(P*y)-Math.sin(l*y)*Math.sin(G*y))/(Math.cos(l*y)*Math.cos(G*y)))/y;(isNaN(J)||J===0)&&(J=P/Math.cos(Math.PI/180*l)),this._point=W.subtract(h.getPixelOrigin()),this._radius=isNaN(J)?0:W.x-h.project([G,s-J]).x,this._radiusY=W.y-I.y}else{var ae=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(ae).x}this._updateBounds()}});function LN(s,l,h){return new Sf(s,l,h)}var Xn=Di.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){_(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,h=null,g=va,y,P,I=0,V=this._parts.length;I<V;I++)for(var W=this._parts[I],G=1,J=W.length;G<J;G++){y=W[G-1],P=W[G];var ae=g(s,y,P,!0);ae<l&&(l=ae,h=g(s,y,P))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return T_(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=ne(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new be,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return sn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],h=sn(s),g=0,y=s.length;g<y;g++)h?(l[g]=ne(s[g]),this._bounds.extend(l[g])):l[g]=this._convertLatLngs(s[g]);return l},_project:function(){var s=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new F(s,s);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,h){var g=s[0]instanceof de,y=s.length,P,I;if(g){for(I=[],P=0;P<y;P++)I[P]=this._map.latLngToLayerPoint(s[P]),h.extend(I[P]);l.push(I)}else for(P=0;P<y;P++)this._projectLatlngs(s[P],l,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,g,y,P,I,V,W;for(h=0,y=0,P=this._rings.length;h<P;h++)for(W=this._rings[h],g=0,I=W.length;g<I-1;g++)V=E_(W[g],W[g+1],s,g,!0),V&&(l[y]=l[y]||[],l[y].push(V[0]),(V[1]!==W[g+1]||g===I-2)&&(l[y].push(V[1]),y++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,h=0,g=s.length;h<g;h++)s[h]=b_(s[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var h,g,y,P,I,V,W=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,P=this._parts.length;h<P;h++)for(V=this._parts[h],g=0,I=V.length,y=I-1;g<I;y=g++)if(!(!l&&g===0)&&C_(s,V[y],V[g])<=W)return!0;return!1}});function MN(s,l){return new Xn(s,l)}Xn._flat=P_;var Os=Xn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return w_(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=Xn.prototype._convertLatLngs.call(this,s),h=l.length;return h>=2&&l[0]instanceof de&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(s){Xn.prototype._setLatLngs.call(this,s),sn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return sn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,h=new F(l,l);if(s=new Q(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,y=this._rings.length,P;g<y;g++)P=x_(this._rings[g],s,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,h,g,y,P,I,V,W,G;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(P=0,W=this._parts.length;P<W;P++)for(h=this._parts[P],I=0,G=h.length,V=G-1;I<G;V=I++)g=h[I],y=h[V],g.y>s.y!=y.y>s.y&&s.x<(y.x-g.x)*(s.y-g.y)/(y.y-g.y)+g.x&&(l=!l);return l||Xn.prototype._containsPoint.call(this,s,!0)}});function ON(s,l){return new Os(s,l)}var Jn=Qn.extend({initialize:function(s,l){_(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=S(s)?s:s.features,h,g,y;if(l){for(h=0,g=l.length;h<g;h++)y=l[h],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var P=this.options;if(P.filter&&!P.filter(s))return this;var I=Dc(s,P);return I?(I.feature=Bc(s),I.defaultOptions=I.options,this.resetStyle(I),P.onEachFeature&&P.onEachFeature(s,I),this.addLayer(I)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function Dc(s,l){var h=s.type==="Feature"?s.geometry:s,g=h?h.coordinates:null,y=[],P=l&&l.pointToLayer,I=l&&l.coordsToLatLng||Ef,V,W,G,J;if(!g&&!h)return null;switch(h.type){case"Point":return V=I(g),N_(P,s,V,l);case"MultiPoint":for(G=0,J=g.length;G<J;G++)V=I(g[G]),y.push(N_(P,s,V,l));return new Qn(y);case"LineString":case"MultiLineString":return W=jc(g,h.type==="LineString"?0:1,I),new Xn(W,l);case"Polygon":case"MultiPolygon":return W=jc(g,h.type==="Polygon"?1:2,I),new Os(W,l);case"GeometryCollection":for(G=0,J=h.geometries.length;G<J;G++){var ae=Dc({geometry:h.geometries[G],type:"Feature",properties:s.properties},l);ae&&y.push(ae)}return new Qn(y);case"FeatureCollection":for(G=0,J=h.features.length;G<J;G++){var pe=Dc(h.features[G],l);pe&&y.push(pe)}return new Qn(y);default:throw new Error("Invalid GeoJSON object.")}}function N_(s,l,h,g){return s?s(l,h):new Mc(h,g&&g.markersInheritOptions&&g)}function Ef(s){return new de(s[1],s[0],s[2])}function jc(s,l,h){for(var g=[],y=0,P=s.length,I;y<P;y++)I=l?jc(s[y],l-1,h):(h||Ef)(s[y]),g.push(I);return g}function Pf(s,l){return s=ne(s),s.alt!==void 0?[m(s.lng,l),m(s.lat,l),m(s.alt,l)]:[m(s.lng,l),m(s.lat,l)]}function Fc(s,l,h,g){for(var y=[],P=0,I=s.length;P<I;P++)y.push(l?Fc(s[P],sn(s[P])?0:l-1,h,g):Pf(s[P],g));return!l&&h&&y.length>0&&y.push(y[0].slice()),y}function Ds(s,l){return s.feature?r({},s.feature,{geometry:l}):Bc(l)}function Bc(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Tf={toGeoJSON:function(s){return Ds(this,{type:"Point",coordinates:Pf(this.getLatLng(),s)})}};Mc.include(Tf),Sf.include(Tf),Oc.include(Tf),Xn.include({toGeoJSON:function(s){var l=!sn(this._latlngs),h=Fc(this._latlngs,l?1:0,!1,s);return Ds(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),Os.include({toGeoJSON:function(s){var l=!sn(this._latlngs),h=l&&!sn(this._latlngs[0]),g=Fc(this._latlngs,h?2:l?1:0,!0,s);return l||(g=[g]),Ds(this,{type:(h?"Multi":"")+"Polygon",coordinates:g})}}),Ls.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(s).geometry.coordinates)}),Ds(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var h=l==="GeometryCollection",g=[];return this.eachLayer(function(y){if(y.toGeoJSON){var P=y.toGeoJSON(s);if(h)g.push(P.geometry);else{var I=Bc(P);I.type==="FeatureCollection"?g.push.apply(g,I.features):g.push(I)}}}),h?Ds(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function I_(s,l){return new Jn(s,l)}var DN=I_,zc=yn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,h){this._url=s,this._bounds=_e(l),_(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(fe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ve(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Is(this._image),this},bringToBack:function(){return this._map&&Rs(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=_e(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:Se("img");if(fe(l,"leaflet-image-layer"),this._zoomAnimated&&fe(l,"leaflet-zoom-animated"),this.options.className&&fe(l,this.options.className),l.onselectstart=p,l.onmousemove=p,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Lr(this._image,h,l)},_reset:function(){var s=this._image,l=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();Qe(s,l.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){rn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),jN=function(s,l,h){return new zc(s,l,h)},R_=zc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:Se("video");if(fe(l,"leaflet-image-layer"),this._zoomAnimated&&fe(l,"leaflet-zoom-animated"),this.options.className&&fe(l,this.options.className),l.onselectstart=p,l.onmousemove=p,l.onloadeddata=a(this.fire,this,"load"),s){for(var h=l.getElementsByTagName("source"),g=[],y=0;y<h.length;y++)g.push(h[y].src);this._url=h.length>0?g:[l.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var I=Se("source");I.src=this._url[P],l.appendChild(I)}}});function FN(s,l,h){return new R_(s,l,h)}var L_=zc.extend({_initImage:function(){var s=this._image=this._url;fe(s,"leaflet-image-layer"),this._zoomAnimated&&fe(s,"leaflet-zoom-animated"),this.options.className&&fe(s,this.options.className),s.onselectstart=p,s.onmousemove=p}});function BN(s,l,h){return new L_(s,l,h)}var Dn=yn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof de||S(s))?(this._latlng=ne(s),_(this,l)):(_(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&rn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&rn(this._container,1),this.bringToFront(),this.options.interactive&&(fe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(rn(this._container,0),this._removeTimeout=setTimeout(a(Ve,void 0,this._container),200)):Ve(this._container),this.options.interactive&&(qe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ne(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Is(this._container),this},bringToBack:function(){return this._map&&Rs(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof Qn){l=null;var h=this._source._layers;for(var g in h)if(h[g]._map){l=h[g];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=K(this.options.offset),h=this._getAnchor();this._zoomAnimated?Qe(this._container,s.add(h)):l=l.add(s).add(h);var g=this._containerBottom=-l.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=g+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});we.include({_initOverlay:function(s,l,h,g){var y=l;return y instanceof s||(y=new s(g).setContent(l)),h&&y.setLatLng(h),y}}),yn.include({_initOverlay:function(s,l,h,g){var y=h;return y instanceof s?(_(y,g),y._source=this):(y=l&&!g?l:new s(g,this),y.setContent(h)),y}});var Vc=Dn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Dn.prototype.openOn.call(this,s)},onAdd:function(s){Dn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Di||this._source.on("preclick",Or))},onRemove:function(s){Dn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Di||this._source.off("preclick",Or))},getEvents:function(){var s=Dn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=Se("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Se("div",s+"-content-wrapper",l);if(this._contentNode=Se("div",s+"-content",h),ma(l),gf(this._contentNode),ue(l,"contextmenu",Or),this._tipContainer=Se("div",s+"-tip-container",l),this._tip=Se("div",s+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=Se("a",s+"-close-button",l);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',ue(g,"click",function(y){ft(y),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var g=s.offsetHeight,y=this.options.maxHeight,P="leaflet-popup-scrolled";y&&g>y?(l.height=y+"px",fe(s,P)):qe(s,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();Qe(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(da(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,g=this._containerWidth,y=new F(this._containerLeft,-h-this._containerBottom);y._add(Mr(this._container));var P=s.layerPointToContainerPoint(y),I=K(this.options.autoPanPadding),V=K(this.options.autoPanPaddingTopLeft||I),W=K(this.options.autoPanPaddingBottomRight||I),G=s.getSize(),J=0,ae=0;P.x+g+W.x>G.x&&(J=P.x+g-G.x+W.x),P.x-J-V.x<0&&(J=P.x-V.x),P.y+h+W.y>G.y&&(ae=P.y+h-G.y+W.y),P.y-ae-V.y<0&&(ae=P.y-V.y),(J||ae)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([J,ae]))}},_getAnchor:function(){return K(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),zN=function(s,l){return new Vc(s,l)};we.mergeOptions({closePopupOnClick:!0}),we.include({openPopup:function(s,l,h){return this._initOverlay(Vc,s,l,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),yn.include({bindPopup:function(s,l){return this._popup=this._initOverlay(Vc,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Qn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Dr(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof Di)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Uc=Dn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Dn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Dn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Dn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Se("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,h,g=this._map,y=this._container,P=g.latLngToContainerPoint(g.getCenter()),I=g.layerPointToContainerPoint(s),V=this.options.direction,W=y.offsetWidth,G=y.offsetHeight,J=K(this.options.offset),ae=this._getAnchor();V==="top"?(l=W/2,h=G):V==="bottom"?(l=W/2,h=0):V==="center"?(l=W/2,h=G/2):V==="right"?(l=0,h=G/2):V==="left"?(l=W,h=G/2):I.x<P.x?(V="right",l=0,h=G/2):(V="left",l=W+(J.x+ae.x)*2,h=G/2),s=s.subtract(K(l,h,!0)).add(J).add(ae),qe(y,"leaflet-tooltip-right"),qe(y,"leaflet-tooltip-left"),qe(y,"leaflet-tooltip-top"),qe(y,"leaflet-tooltip-bottom"),fe(y,"leaflet-tooltip-"+V),Qe(y,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&rn(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return K(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),VN=function(s,l){return new Uc(s,l)};we.include({openTooltip:function(s,l,h){return this._initOverlay(Uc,s,l,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),yn.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Uc,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Qn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(ue(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ue(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,h,g;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),g=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(l)}});var M_=Ms.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(kc(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var g=K(h.bgPos);l.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function UN(s){return new M_(s)}Ms.Default=ya;var _a=yn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:re.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){_(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Ve(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Is(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Rs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof F?s:new F(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,h=-s(-1/0,1/0),g=0,y=l.length,P;g<y;g++)P=l[g].style.zIndex,l[g]!==this._container&&P&&(h=s(h,+P));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!re.ielt9){rn(this._container,this.options.opacity);var s=+new Date,l=!1,h=!1;for(var g in this._tiles){var y=this._tiles[g];if(!(!y.current||!y.loaded)){var P=Math.min(1,(s-y.loaded)/200);rn(y.el,P),P<1?l=!0:(y.active?h=!0:this._onOpaqueTile(y),y.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(M(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=l-Math.abs(s-h),this._onUpdateLevel(h)):(Ve(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var g=this._levels[s],y=this._map;return g||(g=this._levels[s]={},g.el=Se("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=l,g.origin=y.project(y.unproject(y.getPixelOrigin()),s).round(),g.zoom=s,this._setZoomTransform(g,y.getCenter(),y.getZoom()),p(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var s,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var g=l.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Ve(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,h,g){var y=Math.floor(s/2),P=Math.floor(l/2),I=h-1,V=new F(+y,+P);V.z=+I;var W=this._tileCoordsToKey(V),G=this._tiles[W];return G&&G.active?(G.retain=!0,!0):(G&&G.loaded&&(G.retain=!0),I>g?this._retainParent(y,P,I,g):!1)},_retainChildren:function(s,l,h,g){for(var y=2*s;y<2*s+2;y++)for(var P=2*l;P<2*l+2;P++){var I=new F(y,P);I.z=h+1;var V=this._tileCoordsToKey(I),W=this._tiles[V];if(W&&W.active){W.retain=!0;continue}else W&&W.loaded&&(W.retain=!0);h+1<g&&this._retainChildren(y,P,h+1,g)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,h,g){var y=Math.round(l);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var P=this.options.updateWhenZooming&&y!==this._tileZoom;(!g||P)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,l)},_setZoomTransform:function(s,l,h){var g=this._map.getZoomScale(h,s.zoom),y=s.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(l,h)).round();re.any3d?Lr(s.el,y,g):Qe(s.el,y)},_resetGrid:function(){var s=this._map,l=s.options.crs,h=this._tileSize=this.getTileSize(),g=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],g).x/h.x),Math.ceil(s.project([0,l.wrapLng[1]],g).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],g).y/h.x),Math.ceil(s.project([l.wrapLat[1],0],g).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),g=l.getZoomScale(h,this._tileZoom),y=l.project(s,this._tileZoom).floor(),P=l.getSize().divideBy(g*2);return new Q(y.subtract(P),y.add(P))},_update:function(s){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(s),y=this._pxBoundsToTileRange(g),P=y.getCenter(),I=[],V=this.options.keepBuffer,W=new Q(y.getBottomLeft().subtract([V,-V]),y.getTopRight().add([V,-V]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var G in this._tiles){var J=this._tiles[G].coords;(J.z!==this._tileZoom||!W.contains(new F(J.x,J.y)))&&(this._tiles[G].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var ae=y.min.y;ae<=y.max.y;ae++)for(var pe=y.min.x;pe<=y.max.x;pe++){var At=new F(pe,ae);if(At.z=this._tileZoom,!!this._isValidTile(At)){var ot=this._tiles[this._tileCoordsToKey(At)];ot?ot.current=!0:I.push(At)}}if(I.sort(function(Dt,Fs){return Dt.distanceTo(P)-Fs.distanceTo(P)}),I.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var on=document.createDocumentFragment();for(pe=0;pe<I.length;pe++)this._addTile(I[pe],on);this._level.el.appendChild(on)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!l.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(s);return _e(this.options.bounds).overlaps(g)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,h=this.getTileSize(),g=s.scaleBy(h),y=g.add(h),P=l.unproject(g,s.z),I=l.unproject(y,s.z);return[P,I]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),h=new be(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),h=new F(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(s){var l=this._tiles[s];l&&(Ve(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){fe(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=p,s.onmousemove=p,re.ielt9&&this.options.opacity<1&&rn(s,this.options.opacity)},_addTile:function(s,l){var h=this._getTilePos(s),g=this._tileCoordsToKey(s),y=this.createTile(this._wrapCoords(s),a(this._tileReady,this,s));this._initTile(y),this.createTile.length<2&&j(a(this._tileReady,this,s,null,y)),Qe(y,h),this._tiles[g]={el:y,coords:s,current:!0},l.appendChild(y),this.fire("tileloadstart",{tile:y,coords:s})},_tileReady:function(s,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:s});var g=this._tileCoordsToKey(s);h=this._tiles[g],h&&(h.loaded=+new Date,this._map._fadeAnimated?(rn(h.el,0),M(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(fe(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),re.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new F(this._wrapX?f(s.x,this._wrapX):s.x,this._wrapY?f(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new Q(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function WN(s){return new _a(s)}var js=_a.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=_(this,l),l.detectRetina&&re.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var h=document.createElement("img");return ue(h,"load",a(this._tileOnLoad,this,l,h)),ue(h,"error",a(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var l={r:re.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=h),l["-y"]=h}return x(this._url,r(l,this.options))},_tileOnLoad:function(s,l){re.ielt9?setTimeout(a(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,h){var g=this.options.errorTileUrl;g&&l.getAttribute("src")!==g&&(l.src=g),s(h,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,g=this.options.zoomOffset;return h&&(s=l-s),s+g},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=p,l.onerror=p,!l.complete)){l.src=A;var h=this._tiles[s].coords;Ve(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",A),_a.prototype._removeTile.call(this,s)},_tileReady:function(s,l,h){if(!(!this._map||h&&h.getAttribute("src")===A))return _a.prototype._tileReady.call(this,s,l,h)}});function O_(s,l){return new js(s,l)}var D_=js.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var h=r({},this.defaultWmsParams);for(var g in l)g in this.options||(h[g]=l[g]);l=_(this,l);var y=l.detectRetina&&re.retina?2:1,P=this.getTileSize();h.width=P.x*y,h.height=P.y*y,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,js.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),h=this._crs,g=ie(h.project(l[0]),h.project(l[1])),y=g.min,P=g.max,I=(this._wmsVersion>=1.3&&this._crs===k_?[y.y,y.x,P.y,P.x]:[y.x,y.y,P.x,P.y]).join(","),V=js.prototype.getTileUrl.call(this,s);return V+E(this.wmsParams,V,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+I},setParams:function(s,l){return r(this.wmsParams,s),l||this.redraw(),this}});function $N(s,l){return new D_(s,l)}js.WMS=D_,O_.wms=$N;var ei=yn.extend({options:{padding:.1},initialize:function(s){_(this,s),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),fe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var h=this._map.getZoomScale(l,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,l),P=g.multiplyBy(-h).add(y).subtract(this._map._getNewPixelOrigin(s,l));re.any3d?Lr(this._container,P,h):Qe(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new Q(h,h.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),j_=ei.extend({options:{tolerance:0},getEvents:function(){var s=ei.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ei.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ue(s,"mousemove",this._onMouseMove,this),ue(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ue(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){M(this._redrawRequest),delete this._ctx,Ve(this._container),Ne(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ei.prototype._update.call(this);var s=this._bounds,l=this._container,h=s.getSize(),g=re.retina?2:1;Qe(l,s.min),l.width=g*h.x,l.height=g*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",re.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){ei.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[u(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,h=l.next,g=l.prev;h?h.prev=g:this._drawLast=g,g?g.next=h:this._drawFirst=h,delete s._order,delete this._layers[u(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),h=[],g,y;for(y=0;y<l.length;y++){if(g=Number(l[y]),isNaN(g))return;h.push(g)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)s=g.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var h,g,y,P,I=s._parts,V=I.length,W=this._ctx;if(V){for(W.beginPath(),h=0;h<V;h++){for(g=0,y=I[h].length;g<y;g++)P=I[h][g],W[g?"lineTo":"moveTo"](P.x,P.y);l&&W.closePath()}this._fillStroke(W,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,h=this._ctx,g=Math.max(Math.round(s._radius),1),y=(Math.max(Math.round(s._radiusY),1)||g)/g;y!==1&&(h.save(),h.scale(1,y)),h.beginPath(),h.arc(l.x,l.y/y,g,0,Math.PI*2,!1),y!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,l){var h=l.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),h,g,y=this._drawFirst;y;y=y.next)h=y.layer,h.options.interactive&&h._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(g=h);this._fireEvent(g?[g]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(qe(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var h,g,y=this._drawFirst;y;y=y.next)h=y.layer,h.options.interactive&&h._containsPoint(l)&&(g=h);g!==this._hoveredLayer&&(this._handleMouseOut(s),g&&(fe(this._container,"leaflet-interactive"),this._fireEvent([g],s,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,h){this._map._fireDOMEvent(l,h||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var h=l.next,g=l.prev;if(h)h.prev=g;else return;g?g.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var h=l.next,g=l.prev;if(g)g.next=h;else return;h?h.prev=g:g&&(this._drawLast=g),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function F_(s){return re.canvas?new j_(s):null}var xa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),HN={_initContainer:function(){this._container=Se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ei.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=xa("shape");fe(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=xa("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[u(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;Ve(l),s.removeInteractiveTarget(l),delete this._layers[u(s)]},_updateStyle:function(s){var l=s._stroke,h=s._fill,g=s.options,y=s._container;y.stroked=!!g.stroke,y.filled=!!g.fill,g.stroke?(l||(l=s._stroke=xa("stroke")),y.appendChild(l),l.weight=g.weight+"px",l.color=g.color,l.opacity=g.opacity,g.dashArray?l.dashStyle=S(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=g.lineCap.replace("butt","flat"),l.joinstyle=g.lineJoin):l&&(y.removeChild(l),s._stroke=null),g.fill?(h||(h=s._fill=xa("fill")),y.appendChild(h),h.color=g.fillColor||g.color,h.opacity=g.fillOpacity):h&&(y.removeChild(h),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),h=Math.round(s._radius),g=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+g+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){Is(s._container)},_bringToBack:function(s){Rs(s._container)}},Wc=re.vml?xa:Ec,wa=ei.extend({_initContainer:function(){this._container=Wc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ve(this._container),Ne(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ei.prototype._update.call(this);var s=this._bounds,l=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),Qe(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Wc("path");s.options.className&&fe(l,s.options.className),s.options.interactive&&fe(l,"leaflet-interactive"),this._updateStyle(s),this._layers[u(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Ve(s._path),s.removeInteractiveTarget(s._path),delete this._layers[u(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,h=s.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,Pc(s._parts,l))},_updateCircle:function(s){var l=s._point,h=Math.max(Math.round(s._radius),1),g=Math.max(Math.round(s._radiusY),1)||h,y="a"+h+","+g+" 0 1,0 ",P=s._empty()?"M0 0":"M"+(l.x-h)+","+l.y+y+h*2+",0 "+y+-h*2+",0 ";this._setPath(s,P)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){Is(s._path)},_bringToBack:function(s){Rs(s._path)}});re.vml&&wa.include(HN);function B_(s){return re.svg||re.vml?new wa(s):null}we.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&F_(s)||B_(s)}});var z_=Os.extend({initialize:function(s,l){Os.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=_e(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function KN(s,l){return new z_(s,l)}wa.create=Wc,wa.pointsToPath=Pc,Jn.geometryToLayer=Dc,Jn.coordsToLatLng=Ef,Jn.coordsToLatLngs=jc,Jn.latLngToCoords=Pf,Jn.latLngsToCoords=Fc,Jn.getFeature=Ds,Jn.asFeature=Bc,we.mergeOptions({boxZoom:!0});var V_=On.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ue(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ne(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ve(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ha(),lf(),this._startPoint=this._map.mouseEventToContainerPoint(s),ue(document,{contextmenu:Dr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Se("div","leaflet-zoom-box",this._container),fe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new Q(this._point,this._startPoint),h=l.getSize();Qe(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Ve(this._box),qe(this._container,"leaflet-crosshair")),fa(),cf(),Ne(document,{contextmenu:Dr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});we.addInitHook("addHandler","boxZoom",V_),we.mergeOptions({doubleClickZoom:!0});var U_=On.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,h=l.getZoom(),g=l.options.zoomDelta,y=s.originalEvent.shiftKey?h-g:h+g;l.options.doubleClickZoom==="center"?l.setZoom(y):l.setZoomAround(s.containerPoint,y)}});we.addInitHook("addHandler","doubleClickZoom",U_),we.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var W_=On.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Oi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}fe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){qe(this._map._container,"leaflet-grab"),qe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=_e(this._map.options.maxBounds);this._offsetLimit=ie(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),h=this._initialWorldOffset,g=this._draggable._newPos.x,y=(g-l+h)%s+l-h,P=(g+l+h)%s-l-h,I=Math.abs(y+h)<Math.abs(P+h)?y:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=I},_onDragEnd:function(s){var l=this._map,h=l.options,g=!h.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),g)l.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,I=h.easeLinearity,V=y.multiplyBy(I/P),W=V.distanceTo([0,0]),G=Math.min(h.inertiaMaxSpeed,W),J=V.multiplyBy(G/W),ae=G/(h.inertiaDeceleration*I),pe=J.multiplyBy(-ae/2).round();!pe.x&&!pe.y?l.fire("moveend"):(pe=l._limitOffset(pe,l.options.maxBounds),j(function(){l.panBy(pe,{duration:ae,easeLinearity:I,noMoveStart:!0,animate:!0})}))}}});we.addInitHook("addHandler","dragging",W_),we.mergeOptions({keyboard:!0,keyboardPanDelta:80});var $_=On.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ue(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ne(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,h=s.scrollTop||l.scrollTop,g=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(g,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},h=this.keyCodes,g,y;for(g=0,y=h.left.length;g<y;g++)l[h.left[g]]=[-1*s,0];for(g=0,y=h.right.length;g<y;g++)l[h.right[g]]=[s,0];for(g=0,y=h.down.length;g<y;g++)l[h.down[g]]=[0,s];for(g=0,y=h.up.length;g<y;g++)l[h.up[g]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},h=this.keyCodes,g,y;for(g=0,y=h.zoomIn.length;g<y;g++)l[h.zoomIn[g]]=s;for(g=0,y=h.zoomOut.length;g<y;g++)l[h.zoomOut[g]]=-s},_addHooks:function(){ue(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ne(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,h=this._map,g;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(g=this._panKeys[l],s.shiftKey&&(g=K(g).multiplyBy(3)),h.options.maxBounds&&(g=h._limitOffset(K(g),h.options.maxBounds)),h.options.worldCopyJump){var y=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(g)));h.panTo(y)}else h.panBy(g)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Dr(s)}}});we.addInitHook("addHandler","keyboard",$_),we.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var H_=On.extend({addHooks:function(){ue(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ne(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=m_(s),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var g=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),g),Dr(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,P=h?Math.ceil(y/h)*h:y,I=s._limitZoom(l+(this._delta>0?P:-P))-l;this._delta=0,this._startTime=null,I&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+I):s.setZoomAround(this._lastMousePos,l+I))}});we.addInitHook("addHandler","scrollWheelZoom",H_);var ZN=600;we.mergeOptions({tapHold:re.touchNative&&re.safari&&re.mobile,tapTolerance:15});var K_=On.extend({addHooks:function(){ue(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ne(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new F(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(ue(document,"touchend",ft),ue(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),ZN),ue(document,"touchend touchcancel contextmenu",this._cancel,this),ue(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Ne(document,"touchend",ft),Ne(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Ne(document,"touchend touchcancel contextmenu",this._cancel,this),Ne(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new F(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});we.addInitHook("addHandler","tapHold",K_),we.mergeOptions({touchZoom:re.touch,bounceAtZoomLimits:!0});var Z_=On.extend({addHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),ue(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){qe(this._map._container,"leaflet-touch-zoom"),Ne(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(s.touches[0]),g=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(g)._divideBy(2))),this._startDist=h.distanceTo(g),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),ue(document,"touchmove",this._onTouchMove,this),ue(document,"touchend touchcancel",this._onTouchEnd,this),ft(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(s.touches[0]),g=l.mouseEventToContainerPoint(s.touches[1]),y=h.distanceTo(g)/this._startDist;if(this._zoom=l.getScaleZoom(y,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&y<1||this._zoom>l.getMaxZoom()&&y>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var P=h._add(g)._divideBy(2)._subtract(this._centerPoint);if(y===1&&P.x===0&&P.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),M(this._animRequest);var I=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(I,this,!0),ft(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,M(this._animRequest),Ne(document,"touchmove",this._onTouchMove,this),Ne(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});we.addInitHook("addHandler","touchZoom",Z_),we.BoxZoom=V_,we.DoubleClickZoom=U_,we.Drag=W_,we.Keyboard=$_,we.ScrollWheelZoom=H_,we.TapHold=K_,we.TouchZoom=Z_,n.Bounds=Q,n.Browser=re,n.CRS=ht,n.Canvas=j_,n.Circle=Sf,n.CircleMarker=Oc,n.Class=N,n.Control=vn,n.DivIcon=M_,n.DivOverlay=Dn,n.DomEvent=dN,n.DomUtil=cN,n.Draggable=Oi,n.Evented=$,n.FeatureGroup=Qn,n.GeoJSON=Jn,n.GridLayer=_a,n.Handler=On,n.Icon=Ms,n.ImageOverlay=zc,n.LatLng=de,n.LatLngBounds=be,n.Layer=yn,n.LayerGroup=Ls,n.LineUtil=SN,n.Map=we,n.Marker=Mc,n.Mixin=yN,n.Path=Di,n.Point=F,n.PolyUtil=_N,n.Polygon=Os,n.Polyline=Xn,n.Popup=Vc,n.PosAnimation=g_,n.Projection=EN,n.Rectangle=z_,n.Renderer=ei,n.SVG=wa,n.SVGOverlay=L_,n.TileLayer=js,n.Tooltip=Uc,n.Transformation=Ts,n.Util=B,n.VideoOverlay=R_,n.bind=a,n.bounds=ie,n.canvas=F_,n.circle=LN,n.circleMarker=RN,n.control=ga,n.divIcon=UN,n.extend=r,n.featureGroup=AN,n.geoJSON=I_,n.geoJson=DN,n.gridLayer=WN,n.icon=NN,n.imageOverlay=jN,n.latLng=ne,n.latLngBounds=_e,n.layerGroup=kN,n.map=hN,n.marker=IN,n.point=K,n.polygon=ON,n.polyline=MN,n.popup=zN,n.rectangle=KN,n.setOptions=_,n.stamp=u,n.svg=B_,n.svgOverlay=BN,n.tileLayer=O_,n.tooltip=VN,n.transformation=Mi,n.version=i,n.videoOverlay=FN;var qN=window.L;n.noConflict=function(){return window.L=qN,this},window.L=n})})(Pg,Pg.exports);var Cs=Pg.exports;function Yv(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Qv(t,e){return e==null?function(i,r){const o=T.useRef();return o.current||(o.current=t(i,r)),o}:function(i,r){const o=T.useRef();o.current||(o.current=t(i,r));const a=T.useRef(i),{instance:c}=o.current;return T.useEffect(function(){a.current!==i&&(e(c,i,a.current),a.current=i)},[c,i,r]),o}}function M6(t,e){T.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function q2(t){return function(n){const i=qv(),r=t(Gv(n,i),i);return $2(i.map,n.attribution),Z2(r.current,n.eventHandlers),M6(r.current,i),r}}function O6(t,e){const n=Qv(t,e),i=q2(n);return N6(i)}function D6(t,e){const n=Qv(t),i=L6(n,e);return I6(i)}function j6(t,e){const n=Qv(t,e),i=q2(n);return R6(i)}function F6(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function B6(){return qv().map}function Tg(){return Tg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Tg.apply(this,arguments)}function z6({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:o,placeholder:a,style:c,whenReady:u,zoom:d,...f},p){const[m]=T.useState({className:r,id:o,style:c}),[v,C]=T.useState(null);T.useImperativeHandle(p,()=>(v==null?void 0:v.map)??null,[v]);const _=T.useCallback(w=>{if(w!==null&&v===null){const x=new Cs.Map(w,f);n!=null&&d!=null?x.setView(n,d):t!=null&&x.fitBounds(t,e),u!=null&&x.whenReady(u),C(k6(x))}},[]);T.useEffect(()=>()=>{v==null||v.map.remove()},[v]);const E=v?td.createElement(K2,{value:v},i):a??null;return td.createElement("div",Tg({},m,{ref:_}),E)}const V6=T.forwardRef(z6),U6=O6(function({position:e,...n},i){const r=new Cs.Marker(e,n);return Yv(r,A6(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),W6=D6(function(e,n){const i=new Cs.Popup(e,n.overlayContainer);return Yv(i,n)},function(e,n,{position:i},r){T.useEffect(function(){const{instance:a}=e;function c(d){d.popup===a&&(a.update(),r(!0))}function u(d){d.popup===a&&r(!1)}return n.map.on({popupopen:c,popupclose:u}),n.overlayContainer==null?(i!=null&&a.setLatLng(i),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var f;n.map.off({popupopen:c,popupclose:u}),(f=n.overlayContainer)==null||f.unbindPopup(),n.map.removeLayer(a)}},[e,n,r,i])}),$6=j6(function({url:e,...n},i){const r=new Cs.TileLayer(e,Gv(n,i));return Yv(r,i)},function(e,n,i){F6(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)}),H6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",K6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",Z6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete Cs.Icon.Default.prototype._getIconUrl;Cs.Icon.Default.mergeOptions({iconUrl:K6,iconRetinaUrl:H6,shadowUrl:Z6});const U1=["#1D4ED8","#374151","#0369A1","#1E40AF","#1F2937","#075985"],ln=()=>{const t=Math.floor(Math.random()*U1.length);return U1[t]},q6={western:[{name:"Mammoth Mountain",location:[37.6308,-119.0326],rating:4.8,color:ln(),city:"Mammoth Lakes",state:"California",image:"https://images.unsplash.com/photo-1565896311009-382b9e813b19?auto=format&fit=crop&q=80&w=800"},{name:"Squaw Valley",location:[39.1969,-120.2358],rating:4.7,color:ln(),city:"Olympic Valley",state:"California",image:"https://images.unsplash.com/photo-1578593219307-c78da30cd9c9?auto=format&fit=crop&q=80&w=800"},{name:"Mt. Baker",location:[48.8573,-121.6667],rating:4.6,color:ln(),city:"Deming",state:"Washington",image:"https://images.unsplash.com/photo-1605540436563-5bca919ae766?auto=format&fit=crop&q=80&w=800"}],central:[{name:"Granite Peak",location:[44.9319,-89.6832],rating:4.3,color:ln(),city:"Wausau",state:"Wisconsin",image:"https://images.unsplash.com/photo-1544752796-ec0b7a4f3c1e?auto=format&fit=crop&q=80&w=800"},{name:"Lutsen Mountains",location:[47.6632,-90.7195],rating:4.4,color:ln(),city:"Lutsen",state:"Minnesota",image:"https://images.unsplash.com/photo-1551524164-687a55dd1126?auto=format&fit=crop&q=80&w=800"},{name:"Mount Bohemia",location:[47.3867,-88.0208],rating:4.5,color:ln(),city:"Mohawk",state:"Michigan",image:"https://images.unsplash.com/photo-1548716137-03951b8c2f74?auto=format&fit=crop&q=80&w=800"}],rocky:[{name:"Breckenridge",location:[39.4817,-106.0384],rating:4.7,color:ln(),city:"Breckenridge",state:"Colorado",image:"https://images.unsplash.com/photo-1544988796-d0421a0350dc?auto=format&fit=crop&q=80&w=800"},{name:"Vail",location:[39.6061,-106.355],rating:4.8,color:ln(),city:"Vail",state:"Colorado",image:"https://images.unsplash.com/photo-1544985361-b420d7a77f51?auto=format&fit=crop&q=80&w=800"},{name:"Aspen Snowmass",location:[39.2084,-106.949],rating:4.9,color:ln(),city:"Aspen",state:"Colorado",image:"https://images.unsplash.com/photo-1548533001-9dc7d1b04016?auto=format&fit=crop&q=80&w=800"}],eastern:[{name:"Mad River Glen",location:[44.2027,-72.9175],rating:4.6,color:ln(),city:"Waitsfield",state:"Vermont",image:"https://images.unsplash.com/photo-1551524164-687a55dd1126?auto=format&fit=crop&q=80&w=800"},{name:"Killington",location:[43.6045,-72.8201],rating:4.5,color:ln(),city:"Killington",state:"Vermont",image:"https://images.unsplash.com/photo-1586800779465-e89b31f6c8df?auto=format&fit=crop&q=80&w=800"},{name:"Stowe",location:[44.5303,-72.7814],rating:4.7,color:ln(),city:"Stowe",state:"Vermont",image:"https://images.unsplash.com/photo-1548532369-c7e27c697f1b?auto=format&fit=crop&q=80&w=800"}]},G6={western:[41.8781,-120],central:[44.9319,-89.6832],rocky:[39.5501,-106],eastern:[43.6045,-72.8201]};function Y6({selectedResort:t,markerRefs:e,previousResort:n}){const i=B6();return T.useEffect(()=>{if(t){n&&e.current[n.name]&&e.current[n.name].closePopup(),i.setView(t.location,12,{animate:!0,duration:1});const r=e.current[t.name];r&&setTimeout(()=>{r.openPopup()},400)}},[t,i,e,n]),null}function Q6(){var C;const t=ac(),e=xs(),n=((C=t.state)==null?void 0:C.region)||"western",i=q6[n],r=G6[n],[o,a]=T.useState(null),[c,u]=T.useState(null),d=T.useRef(null),f=T.useRef({}),p=_=>new Cs.Icon({iconUrl:`data:image/svg+xml;base64,${btoa(`
      <svg width="25" height="41" viewBox="0 0 25 41" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12.5 0C5.59644 0 0 5.59644 0 12.5C0 21.875 12.5 41 12.5 41C12.5 41 25 21.875 25 12.5C25 5.59644 19.4036 0 12.5 0Z" fill="${_}"/>
        <circle cx="12.5" cy="12.5" r="5.5" fill="white"/>
      </svg>
    `)}`,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[0,-41]});T.useEffect(()=>{const _=window.setTimeout(()=>{window.dispatchEvent(new Event("resize"))},200);return()=>window.clearTimeout(_)},[]);const m=_=>{var E;u(o),a(_),(E=d.current)==null||E.scrollIntoView({behavior:"smooth",block:"center"})},v=_=>{sessionStorage.setItem("selectedResort",JSON.stringify(_)),e("/create-account")};return b.jsxs("div",{className:"min-h-screen p-6 md:p-8 space-y-8",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h1",{className:"text-3xl font-bold text-white",children:"Your Perfect Ski Destinations"}),b.jsxs("button",{onClick:()=>e("/resorts",{state:{region:n}}),className:"flex items-center space-x-2 px-4 py-2 bg-white text-blue-900 rounded-lg hover:bg-blue-50 transition-colors",children:[b.jsx(l6,{className:"w-5 h-5"}),b.jsx("span",{children:"List View"})]})]}),b.jsx("div",{ref:d,className:"h-[600px] rounded-xl overflow-hidden shadow-lg bg-white",children:b.jsxs(V6,{center:r,zoom:6,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[b.jsx(Y6,{selectedResort:o,markerRefs:f,previousResort:c}),b.jsx($6,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.map(_=>b.jsx(U6,{position:_.location,icon:p(_.color),ref:E=>{E&&(f.current[_.name]=E)},children:b.jsx(W6,{children:b.jsxs("div",{className:"p-2 min-w-[200px]",children:[b.jsx("h3",{className:"font-bold text-lg mb-2",children:_.name}),b.jsxs("div",{className:"flex items-center space-x-1 mb-3",children:[b.jsx(Zv,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),b.jsx("span",{className:"text-gray-600",children:_.rating})]}),b.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[_.city,", ",_.state]}),b.jsx("button",{onClick:E=>{E.stopPropagation(),v(_)},className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Book Now"})]})})},_.name))]})}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(_=>b.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-4 text-white cursor-pointer hover:bg-white/20 transition-all duration-300",style:{borderLeft:`4px solid ${_.color}`},onClick:()=>m(_),children:[b.jsx("h3",{className:"text-xl font-bold",children:_.name}),b.jsxs("div",{className:"flex items-center mt-2",children:[b.jsx("span",{className:"text-yellow-400",children:"".repeat(Math.floor(_.rating))}),b.jsx("span",{className:"ml-2",children:_.rating})]})]},_.name))})]})}function G2(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=G2(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Y2(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=G2(t))&&(i&&(i+=" "),i+=e);return i}const Xv="-",X6=t=>{const e=e8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:a=>{const c=a.split(Xv);return c[0]===""&&c.length!==1&&c.shift(),Q2(c,e)||J6(a)},getConflictingClassGroupIds:(a,c)=>{const u=n[a]||[];return c&&i[a]?[...u,...i[a]]:u}}},Q2=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),r=i?Q2(t.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const o=t.join(Xv);return(a=e.validators.find(({validator:c})=>c(o)))==null?void 0:a.classGroupId},W1=/^\[(.+)\]$/,J6=t=>{if(W1.test(t)){const e=W1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},e8=t=>{const{theme:e,prefix:n}=t,i={nextPart:new Map,validators:[]};return n8(Object.entries(t.classGroups),n).forEach(([o,a])=>{kg(a,i,o,e)}),i},kg=(t,e,n,i)=>{t.forEach(r=>{if(typeof r=="string"){const o=r===""?e:$1(e,r);o.classGroupId=n;return}if(typeof r=="function"){if(t8(r)){kg(r(i),e,n,i);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([o,a])=>{kg(a,$1(e,o),n,i)})})},$1=(t,e)=>{let n=t;return e.split(Xv).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},t8=t=>t.isThemeGetter,n8=(t,e)=>e?t.map(([n,i])=>{const r=i.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,c])=>[e+a,c])):o);return[n,r]}):t,i8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const r=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,i=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=i.get(o))!==void 0)return r(o,a),a},set(o,a){n.has(o)?n.set(o,a):r(o,a)}}},X2="!",r8=t=>{const{separator:e,experimentalParseClassName:n}=t,i=e.length===1,r=e[0],o=e.length,a=c=>{const u=[];let d=0,f=0,p;for(let E=0;E<c.length;E++){let w=c[E];if(d===0){if(w===r&&(i||c.slice(E,E+o)===e)){u.push(c.slice(f,E)),f=E+o;continue}if(w==="/"){p=E;continue}}w==="["?d++:w==="]"&&d--}const m=u.length===0?c:c.substring(f),v=m.startsWith(X2),C=v?m.substring(1):m,_=p&&p>f?p-f:void 0;return{modifiers:u,hasImportantModifier:v,baseClassName:C,maybePostfixModifierPosition:_}};return n?c=>n({className:c,parseClassName:a}):a},s8=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e},o8=t=>({cache:i8(t.cacheSize),parseClassName:r8(t),...X6(t)}),a8=/\s+/,l8=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r}=e,o=[],a=t.trim().split(a8);let c="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{modifiers:f,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:v}=n(d);let C=!!v,_=i(C?m.substring(0,v):m);if(!_){if(!C){c=d+(c.length>0?" "+c:c);continue}if(_=i(m),!_){c=d+(c.length>0?" "+c:c);continue}C=!1}const E=s8(f).join(":"),w=p?E+X2:E,x=w+_;if(o.includes(x))continue;o.push(x);const S=r(_,C);for(let k=0;k<S.length;++k){const A=S[k];o.push(w+A)}c=d+(c.length>0?" "+c:c)}return c};function c8(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=J2(e))&&(i&&(i+=" "),i+=n);return i}const J2=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=J2(t[i]))&&(n&&(n+=" "),n+=e);return n};function u8(t,...e){let n,i,r,o=a;function a(u){const d=e.reduce((f,p)=>p(f),t());return n=o8(d),i=n.cache.get,r=n.cache.set,o=c,c(u)}function c(u){const d=i(u);if(d)return d;const f=l8(u,n);return r(u,f),f}return function(){return o(c8.apply(null,arguments))}}const Me=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},eT=/^\[(?:([a-z-]+):)?(.+)\]$/i,d8=/^\d+\/\d+$/,h8=new Set(["px","full","screen"]),f8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,p8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,m8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,g8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,v8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ni=t=>Co(t)||h8.has(t)||d8.test(t),Bi=t=>ta(t,"length",E8),Co=t=>!!t&&!Number.isNaN(Number(t)),Cp=t=>ta(t,"number",Co),Ra=t=>!!t&&Number.isInteger(Number(t)),y8=t=>t.endsWith("%")&&Co(t.slice(0,-1)),he=t=>eT.test(t),zi=t=>f8.test(t),_8=new Set(["length","size","percentage"]),x8=t=>ta(t,_8,tT),w8=t=>ta(t,"position",tT),b8=new Set(["image","url"]),C8=t=>ta(t,b8,T8),S8=t=>ta(t,"",P8),La=()=>!0,ta=(t,e,n)=>{const i=eT.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1},E8=t=>p8.test(t)&&!m8.test(t),tT=()=>!1,P8=t=>g8.test(t),T8=t=>v8.test(t),k8=()=>{const t=Me("colors"),e=Me("spacing"),n=Me("blur"),i=Me("brightness"),r=Me("borderColor"),o=Me("borderRadius"),a=Me("borderSpacing"),c=Me("borderWidth"),u=Me("contrast"),d=Me("grayscale"),f=Me("hueRotate"),p=Me("invert"),m=Me("gap"),v=Me("gradientColorStops"),C=Me("gradientColorStopPositions"),_=Me("inset"),E=Me("margin"),w=Me("opacity"),x=Me("padding"),S=Me("saturate"),k=Me("scale"),A=Me("sepia"),O=Me("skew"),R=Me("space"),U=Me("translate"),H=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",he,e],M=()=>[he,e],B=()=>["",ni,Bi],N=()=>["auto",Co,he],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",he],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Co,he];return{cacheSize:500,separator:":",theme:{colors:[La],spacing:[ni,Bi],blur:["none","",zi,he],brightness:Q(),borderColor:[t],borderRadius:["none","","full",zi,he],borderSpacing:M(),borderWidth:B(),contrast:Q(),grayscale:Z(),hueRotate:Q(),invert:Z(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[y8,Bi],inset:j(),margin:j(),opacity:Q(),padding:M(),saturate:Q(),scale:Q(),sepia:Z(),skew:Q(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[zi]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),he]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ra,he]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",Ra,he]}],"grid-cols":[{"grid-cols":[La]}],"col-start-end":[{col:["auto",{span:["full",Ra,he]},he]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[La]}],"row-start-end":[{row:["auto",{span:[Ra,he]},he]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[zi]},zi]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",zi,Bi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cp]}],"font-family":[{font:[La]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",Co,Cp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ni,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ni,Bi]}],"underline-offset":[{"underline-offset":["auto",ni,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),w8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",x8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},C8]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:z()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[ni,he]}],"outline-w":[{outline:[ni,Bi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ni,Bi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",zi,S8]}],"shadow-color":[{shadow:[La]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",zi,he]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[S]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Ra,he]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ni,Bi,Cp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},A8=u8(k8);function Ar(...t){return A8(Y2(t))}const nT=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Ar("rounded-xl border bg-card text-card-foreground shadow",t),...e}));nT.displayName="Card";const iT=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Ar("flex flex-col space-y-1.5 p-6",t),...e}));iT.displayName="CardHeader";const rT=T.forwardRef(({className:t,...e},n)=>b.jsx("h3",{ref:n,className:Ar("font-semibold leading-none tracking-tight",t),...e}));rT.displayName="CardTitle";const N8=T.forwardRef(({className:t,...e},n)=>b.jsx("p",{ref:n,className:Ar("text-sm text-muted-foreground",t),...e}));N8.displayName="CardDescription";const sT=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Ar("p-6 pt-0",t),...e}));sT.displayName="CardContent";const I8=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Ar("flex items-center p-6 pt-0",t),...e}));I8.displayName="CardFooter";const H1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,K1=Y2,R8=(t,e)=>n=>{var i;if((e==null?void 0:e.variants)==null)return K1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:o}=e,a=Object.keys(r).map(d=>{const f=n==null?void 0:n[d],p=o==null?void 0:o[d];if(f===null)return null;const m=H1(f)||H1(p);return r[d][m]}),c=n&&Object.entries(n).reduce((d,f)=>{let[p,m]=f;return m===void 0||(d[p]=m),d},{}),u=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((d,f)=>{let{class:p,className:m,...v}=f;return Object.entries(v).every(C=>{let[_,E]=C;return Array.isArray(E)?E.includes({...o,...c}[_]):{...o,...c}[_]===E})?[...d,p,m]:d},[]);return K1(t,a,u,n==null?void 0:n.class,n==null?void 0:n.className)},L8=R8("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Us({className:t,variant:e,...n}){return b.jsx("div",{className:Ar(L8({variant:e}),t),...n})}function ar(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function Z1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function oT(...t){return e=>{let n=!1;const i=t.map(r=>{const o=Z1(r,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let r=0;r<i.length;r++){const o=i[r];typeof o=="function"?o():Z1(t[r],null)}}}}function Nr(...t){return T.useCallback(oT(...t),t)}function aT(t,e=[]){let n=[];function i(o,a){const c=T.createContext(a),u=n.length;n=[...n,a];const d=p=>{var w;const{scope:m,children:v,...C}=p,_=((w=m==null?void 0:m[t])==null?void 0:w[u])||c,E=T.useMemo(()=>C,Object.values(C));return b.jsx(_.Provider,{value:E,children:v})};d.displayName=o+"Provider";function f(p,m){var _;const v=((_=m==null?void 0:m[t])==null?void 0:_[u])||c,C=T.useContext(v);if(C)return C;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[d,f]}const r=()=>{const o=n.map(a=>T.createContext(a));return function(c){const u=(c==null?void 0:c[t])||o;return T.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return r.scopeName=t,[i,M8(r,...e)]}function M8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(o){const a=i.reduce((c,{useScope:u,scopeName:d})=>{const p=u(o)[`__scope${d}`];return{...c,...p}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Jv=T.forwardRef((t,e)=>{const{children:n,...i}=t,r=T.Children.toArray(n),o=r.find(D8);if(o){const a=o.props.children,c=r.map(u=>u===o?T.Children.count(a)>1?T.Children.only(null):T.isValidElement(a)?a.props.children:null:u);return b.jsx(Ag,{...i,ref:e,children:T.isValidElement(a)?T.cloneElement(a,void 0,c):null})}return b.jsx(Ag,{...i,ref:e,children:n})});Jv.displayName="Slot";var Ag=T.forwardRef((t,e)=>{const{children:n,...i}=t;if(T.isValidElement(n)){const r=F8(n);return T.cloneElement(n,{...j8(i,n.props),ref:e?oT(e,r):r})}return T.Children.count(n)>1?T.Children.only(null):null});Ag.displayName="SlotClone";var O8=({children:t})=>b.jsx(b.Fragment,{children:t});function D8(t){return T.isValidElement(t)&&t.type===O8}function j8(t,e){const n={...e};for(const i in e){const r=t[i],o=e[i];/^on[A-Z]/.test(i)?r&&o?n[i]=(...c)=>{o(...c),r(...c)}:r&&(n[i]=r):i==="style"?n[i]={...r,...o}:i==="className"&&(n[i]=[r,o].filter(Boolean).join(" "))}return{...t,...n}}function F8(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var B8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ri=B8.reduce((t,e)=>{const n=T.forwardRef((i,r)=>{const{asChild:o,...a}=i,c=o?Jv:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(c,{...a,ref:r})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function z8(t,e){t&&oc.flushSync(()=>t.dispatchEvent(e))}function _r(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}function V8(t,e=globalThis==null?void 0:globalThis.document){const n=_r(t);T.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var U8="DismissableLayer",Ng="dismissableLayer.update",W8="dismissableLayer.pointerDownOutside",$8="dismissableLayer.focusOutside",q1,lT=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cT=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:o,onInteractOutside:a,onDismiss:c,...u}=t,d=T.useContext(lT),[f,p]=T.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=T.useState({}),C=Nr(e,R=>p(R)),_=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=_.indexOf(E),x=f?_.indexOf(f):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,k=x>=w,A=Z8(R=>{const U=R.target,H=[...d.branches].some(q=>q.contains(U));!k||H||(r==null||r(R),a==null||a(R),R.defaultPrevented||c==null||c())},m),O=q8(R=>{const U=R.target;[...d.branches].some(q=>q.contains(U))||(o==null||o(R),a==null||a(R),R.defaultPrevented||c==null||c())},m);return V8(R=>{x===d.layers.size-1&&(i==null||i(R),!R.defaultPrevented&&c&&(R.preventDefault(),c()))},m),T.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(q1=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),G1(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=q1)}},[f,m,n,d]),T.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),G1())},[f,d]),T.useEffect(()=>{const R=()=>v({});return document.addEventListener(Ng,R),()=>document.removeEventListener(Ng,R)},[]),b.jsx(Ri.div,{...u,ref:C,style:{pointerEvents:S?k?"auto":"none":void 0,...t.style},onFocusCapture:ar(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ar(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ar(t.onPointerDownCapture,A.onPointerDownCapture)})});cT.displayName=U8;var H8="DismissableLayerBranch",K8=T.forwardRef((t,e)=>{const n=T.useContext(lT),i=T.useRef(null),r=Nr(e,i);return T.useEffect(()=>{const o=i.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),b.jsx(Ri.div,{...t,ref:r})});K8.displayName=H8;function Z8(t,e=globalThis==null?void 0:globalThis.document){const n=_r(t),i=T.useRef(!1),r=T.useRef(()=>{});return T.useEffect(()=>{const o=c=>{if(c.target&&!i.current){let u=function(){uT(W8,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=u,e.addEventListener("click",r.current,{once:!0})):u()}else e.removeEventListener("click",r.current);i.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function q8(t,e=globalThis==null?void 0:globalThis.document){const n=_r(t),i=T.useRef(!1);return T.useEffect(()=>{const r=o=>{o.target&&!i.current&&uT($8,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function G1(){const t=new CustomEvent(Ng);document.dispatchEvent(t)}function uT(t,e,n,{discrete:i}){const r=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?z8(r,o):r.dispatchEvent(o)}var Sp=0;function G8(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Y1()),document.body.insertAdjacentElement("beforeend",t[1]??Y1()),Sp++,()=>{Sp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Sp--}},[])}function Y1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ep="focusScope.autoFocusOnMount",Pp="focusScope.autoFocusOnUnmount",Q1={bubbles:!1,cancelable:!0},Y8="FocusScope",dT=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:o,...a}=t,[c,u]=T.useState(null),d=_r(r),f=_r(o),p=T.useRef(null),m=Nr(e,_=>u(_)),v=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(i){let _=function(S){if(v.paused||!c)return;const k=S.target;c.contains(k)?p.current=k:Wi(p.current,{select:!0})},E=function(S){if(v.paused||!c)return;const k=S.relatedTarget;k!==null&&(c.contains(k)||Wi(p.current,{select:!0}))},w=function(S){if(document.activeElement===document.body)for(const A of S)A.removedNodes.length>0&&Wi(c)};document.addEventListener("focusin",_),document.addEventListener("focusout",E);const x=new MutationObserver(w);return c&&x.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",E),x.disconnect()}}},[i,c,v.paused]),T.useEffect(()=>{if(c){J1.add(v);const _=document.activeElement;if(!c.contains(_)){const w=new CustomEvent(Ep,Q1);c.addEventListener(Ep,d),c.dispatchEvent(w),w.defaultPrevented||(Q8(nj(hT(c)),{select:!0}),document.activeElement===_&&Wi(c))}return()=>{c.removeEventListener(Ep,d),setTimeout(()=>{const w=new CustomEvent(Pp,Q1);c.addEventListener(Pp,f),c.dispatchEvent(w),w.defaultPrevented||Wi(_??document.body,{select:!0}),c.removeEventListener(Pp,f),J1.remove(v)},0)}}},[c,d,f,v]);const C=T.useCallback(_=>{if(!n&&!i||v.paused)return;const E=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,w=document.activeElement;if(E&&w){const x=_.currentTarget,[S,k]=X8(x);S&&k?!_.shiftKey&&w===k?(_.preventDefault(),n&&Wi(S,{select:!0})):_.shiftKey&&w===S&&(_.preventDefault(),n&&Wi(k,{select:!0})):w===x&&_.preventDefault()}},[n,i,v.paused]);return b.jsx(Ri.div,{tabIndex:-1,...a,ref:m,onKeyDown:C})});dT.displayName=Y8;function Q8(t,{select:e=!1}={}){const n=document.activeElement;for(const i of t)if(Wi(i,{select:e}),document.activeElement!==n)return}function X8(t){const e=hT(t),n=X1(e,t),i=X1(e.reverse(),t);return[n,i]}function hT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function X1(t,e){for(const n of t)if(!J8(n,{upTo:e}))return n}function J8(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ej(t){return t instanceof HTMLInputElement&&"select"in t}function Wi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&ej(t)&&e&&t.select()}}var J1=tj();function tj(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=eb(t,e),t.unshift(e)},remove(e){var n;t=eb(t,e),(n=t[0])==null||n.resume()}}}function eb(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function nj(t){return t.filter(e=>e.tagName!=="A")}var hs=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},ij=yC.useId||(()=>{}),rj=0;function sj(t){const[e,n]=T.useState(ij());return hs(()=>{t||n(i=>i??String(rj++))},[t]),t||(e?`radix-${e}`:"")}const oj=["top","right","bottom","left"],xr=Math.min,Zt=Math.max,Wd=Math.round,xu=Math.floor,Kn=t=>({x:t,y:t}),aj={left:"right",right:"left",bottom:"top",top:"bottom"},lj={start:"end",end:"start"};function Ig(t,e,n){return Zt(t,xr(e,n))}function Ti(t,e){return typeof t=="function"?t(e):t}function ki(t){return t.split("-")[0]}function na(t){return t.split("-")[1]}function ey(t){return t==="x"?"y":"x"}function ty(t){return t==="y"?"height":"width"}function wr(t){return["top","bottom"].includes(ki(t))?"y":"x"}function ny(t){return ey(wr(t))}function cj(t,e,n){n===void 0&&(n=!1);const i=na(t),r=ny(t),o=ty(r);let a=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=$d(a)),[a,$d(a)]}function uj(t){const e=$d(t);return[Rg(t),e,Rg(e)]}function Rg(t){return t.replace(/start|end/g,e=>lj[e])}function dj(t,e,n){const i=["left","right"],r=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:i:e?i:r;case"left":case"right":return e?o:a;default:return[]}}function hj(t,e,n,i){const r=na(t);let o=dj(ki(t),n==="start",i);return r&&(o=o.map(a=>a+"-"+r),e&&(o=o.concat(o.map(Rg)))),o}function $d(t){return t.replace(/left|right|bottom|top/g,e=>aj[e])}function fj(t){return{top:0,right:0,bottom:0,left:0,...t}}function fT(t){return typeof t!="number"?fj(t):{top:t,right:t,bottom:t,left:t}}function Hd(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function tb(t,e,n){let{reference:i,floating:r}=t;const o=wr(e),a=ny(e),c=ty(a),u=ki(e),d=o==="y",f=i.x+i.width/2-r.width/2,p=i.y+i.height/2-r.height/2,m=i[c]/2-r[c]/2;let v;switch(u){case"top":v={x:f,y:i.y-r.height};break;case"bottom":v={x:f,y:i.y+i.height};break;case"right":v={x:i.x+i.width,y:p};break;case"left":v={x:i.x-r.width,y:p};break;default:v={x:i.x,y:i.y}}switch(na(e)){case"start":v[a]-=m*(n&&d?-1:1);break;case"end":v[a]+=m*(n&&d?-1:1);break}return v}const pj=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:o=[],platform:a}=n,c=o.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:f,y:p}=tb(d,i,u),m=i,v={},C=0;for(let _=0;_<c.length;_++){const{name:E,fn:w}=c[_],{x,y:S,data:k,reset:A}=await w({x:f,y:p,initialPlacement:i,placement:m,strategy:r,middlewareData:v,rects:d,platform:a,elements:{reference:t,floating:e}});f=x??f,p=S??p,v={...v,[E]:{...v[E],...k}},A&&C<=50&&(C++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(d=A.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:r}):A.rects),{x:f,y:p}=tb(d,m,u)),_=-1)}return{x:f,y:p,placement:m,strategy:r,middlewareData:v}};async function $l(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:o,rects:a,elements:c,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:m=!1,padding:v=0}=Ti(e,t),C=fT(v),E=c[m?p==="floating"?"reference":"floating":p],w=Hd(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(E)))==null||n?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:u})),x=p==="floating"?{x:i,y:r,width:a.floating.width,height:a.floating.height}:a.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),k=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},A=Hd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:S,strategy:u}):x);return{top:(w.top-A.top+C.top)/k.y,bottom:(A.bottom-w.bottom+C.bottom)/k.y,left:(w.left-A.left+C.left)/k.x,right:(A.right-w.right+C.right)/k.x}}const mj=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:o,platform:a,elements:c,middlewareData:u}=e,{element:d,padding:f=0}=Ti(t,e)||{};if(d==null)return{};const p=fT(f),m={x:n,y:i},v=ny(r),C=ty(v),_=await a.getDimensions(d),E=v==="y",w=E?"top":"left",x=E?"bottom":"right",S=E?"clientHeight":"clientWidth",k=o.reference[C]+o.reference[v]-m[v]-o.floating[C],A=m[v]-o.reference[v],O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let R=O?O[S]:0;(!R||!await(a.isElement==null?void 0:a.isElement(O)))&&(R=c.floating[S]||o.floating[C]);const U=k/2-A/2,H=R/2-_[C]/2-1,q=xr(p[w],H),j=xr(p[x],H),M=q,B=R-_[C]-j,N=R/2-_[C]/2+U,D=Ig(M,N,B),z=!u.arrow&&na(r)!=null&&N!==D&&o.reference[C]/2-(N<M?q:j)-_[C]/2<0,$=z?N<M?N-M:N-B:0;return{[v]:m[v]+$,data:{[v]:D,centerOffset:N-D-$,...z&&{alignmentOffset:$}},reset:z}}}),gj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:o,rects:a,initialPlacement:c,platform:u,elements:d}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:_=!0,...E}=Ti(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const w=ki(r),x=wr(c),S=ki(c)===c,k=await(u.isRTL==null?void 0:u.isRTL(d.floating)),A=m||(S||!_?[$d(c)]:uj(c)),O=C!=="none";!m&&O&&A.push(...hj(c,_,C,k));const R=[c,...A],U=await $l(e,E),H=[];let q=((i=o.flip)==null?void 0:i.overflows)||[];if(f&&H.push(U[w]),p){const N=cj(r,a,k);H.push(U[N[0]],U[N[1]])}if(q=[...q,{placement:r,overflows:H}],!H.every(N=>N<=0)){var j,M;const N=(((j=o.flip)==null?void 0:j.index)||0)+1,D=R[N];if(D)return{data:{index:N,overflows:q},reset:{placement:D}};let z=(M=q.filter($=>$.overflows[0]<=0).sort(($,F)=>$.overflows[1]-F.overflows[1])[0])==null?void 0:M.placement;if(!z)switch(v){case"bestFit":{var B;const $=(B=q.filter(F=>{if(O){const Z=wr(F.placement);return Z===x||Z==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(Z=>Z>0).reduce((Z,K)=>Z+K,0)]).sort((F,Z)=>F[1]-Z[1])[0])==null?void 0:B[0];$&&(z=$);break}case"initialPlacement":z=c;break}if(r!==z)return{reset:{placement:z}}}return{}}}};function nb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ib(t){return oj.some(e=>t[e]>=0)}const vj=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=Ti(t,e);switch(i){case"referenceHidden":{const o=await $l(e,{...r,elementContext:"reference"}),a=nb(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:ib(a)}}}case"escaped":{const o=await $l(e,{...r,altBoundary:!0}),a=nb(o,n.floating);return{data:{escapedOffsets:a,escaped:ib(a)}}}default:return{}}}}};async function yj(t,e){const{placement:n,platform:i,elements:r}=t,o=await(i.isRTL==null?void 0:i.isRTL(r.floating)),a=ki(n),c=na(n),u=wr(n)==="y",d=["left","top"].includes(a)?-1:1,f=o&&u?-1:1,p=Ti(e,t);let{mainAxis:m,crossAxis:v,alignmentAxis:C}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof C=="number"&&(v=c==="end"?C*-1:C),u?{x:v*f,y:m*d}:{x:m*d,y:v*f}}const _j=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:o,placement:a,middlewareData:c}=e,u=await yj(e,t);return a===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:r+u.x,y:o+u.y,data:{...u,placement:a}}}}},xj=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:c={fn:E=>{let{x:w,y:x}=E;return{x:w,y:x}}},...u}=Ti(t,e),d={x:n,y:i},f=await $l(e,u),p=wr(ki(r)),m=ey(p);let v=d[m],C=d[p];if(o){const E=m==="y"?"top":"left",w=m==="y"?"bottom":"right",x=v+f[E],S=v-f[w];v=Ig(x,v,S)}if(a){const E=p==="y"?"top":"left",w=p==="y"?"bottom":"right",x=C+f[E],S=C-f[w];C=Ig(x,C,S)}const _=c.fn({...e,[m]:v,[p]:C});return{..._,data:{x:_.x-n,y:_.y-i,enabled:{[m]:o,[p]:a}}}}}},wj=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:o,middlewareData:a}=e,{offset:c=0,mainAxis:u=!0,crossAxis:d=!0}=Ti(t,e),f={x:n,y:i},p=wr(r),m=ey(p);let v=f[m],C=f[p];const _=Ti(c,e),E=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const S=m==="y"?"height":"width",k=o.reference[m]-o.floating[S]+E.mainAxis,A=o.reference[m]+o.reference[S]-E.mainAxis;v<k?v=k:v>A&&(v=A)}if(d){var w,x;const S=m==="y"?"width":"height",k=["top","left"].includes(ki(r)),A=o.reference[p]-o.floating[S]+(k&&((w=a.offset)==null?void 0:w[p])||0)+(k?0:E.crossAxis),O=o.reference[p]+o.reference[S]+(k?0:((x=a.offset)==null?void 0:x[p])||0)-(k?E.crossAxis:0);C<A?C=A:C>O&&(C=O)}return{[m]:v,[p]:C}}}},bj=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:o,platform:a,elements:c}=e,{apply:u=()=>{},...d}=Ti(t,e),f=await $l(e,d),p=ki(r),m=na(r),v=wr(r)==="y",{width:C,height:_}=o.floating;let E,w;p==="top"||p==="bottom"?(E=p,w=m===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(w=p,E=m==="end"?"top":"bottom");const x=_-f.top-f.bottom,S=C-f.left-f.right,k=xr(_-f[E],x),A=xr(C-f[w],S),O=!e.middlewareData.shift;let R=k,U=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(U=S),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(R=x),O&&!m){const q=Zt(f.left,0),j=Zt(f.right,0),M=Zt(f.top,0),B=Zt(f.bottom,0);v?U=C-2*(q!==0||j!==0?q+j:Zt(f.left,f.right)):R=_-2*(M!==0||B!==0?M+B:Zt(f.top,f.bottom))}await u({...e,availableWidth:U,availableHeight:R});const H=await a.getDimensions(c.floating);return C!==H.width||_!==H.height?{reset:{rects:!0}}:{}}}};function Bh(){return typeof window<"u"}function ia(t){return pT(t)?(t.nodeName||"").toLowerCase():"#document"}function Yt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Gn(t){var e;return(e=(pT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function pT(t){return Bh()?t instanceof Node||t instanceof Yt(t).Node:!1}function In(t){return Bh()?t instanceof Element||t instanceof Yt(t).Element:!1}function Zn(t){return Bh()?t instanceof HTMLElement||t instanceof Yt(t).HTMLElement:!1}function rb(t){return!Bh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Yt(t).ShadowRoot}function mc(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=Rn(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(r)}function Cj(t){return["table","td","th"].includes(ia(t))}function zh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function iy(t){const e=ry(),n=In(t)?Rn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function Sj(t){let e=br(t);for(;Zn(e)&&!Vo(e);){if(iy(e))return e;if(zh(e))return null;e=br(e)}return null}function ry(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vo(t){return["html","body","#document"].includes(ia(t))}function Rn(t){return Yt(t).getComputedStyle(t)}function Vh(t){return In(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function br(t){if(ia(t)==="html")return t;const e=t.assignedSlot||t.parentNode||rb(t)&&t.host||Gn(t);return rb(e)?e.host:e}function mT(t){const e=br(t);return Vo(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zn(e)&&mc(e)?e:mT(e)}function Hl(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=mT(t),o=r===((i=t.ownerDocument)==null?void 0:i.body),a=Yt(r);if(o){const c=Lg(a);return e.concat(a,a.visualViewport||[],mc(r)?r:[],c&&n?Hl(c):[])}return e.concat(r,Hl(r,[],n))}function Lg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function gT(t){const e=Rn(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Zn(t),o=r?t.offsetWidth:n,a=r?t.offsetHeight:i,c=Wd(n)!==o||Wd(i)!==a;return c&&(n=o,i=a),{width:n,height:i,$:c}}function sy(t){return In(t)?t:t.contextElement}function So(t){const e=sy(t);if(!Zn(e))return Kn(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:o}=gT(e);let a=(o?Wd(n.width):n.width)/i,c=(o?Wd(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const Ej=Kn(0);function vT(t){const e=Yt(t);return!ry()||!e.visualViewport?Ej:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Pj(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Yt(t)?!1:e}function fs(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),o=sy(t);let a=Kn(1);e&&(i?In(i)&&(a=So(i)):a=So(t));const c=Pj(o,n,i)?vT(o):Kn(0);let u=(r.left+c.x)/a.x,d=(r.top+c.y)/a.y,f=r.width/a.x,p=r.height/a.y;if(o){const m=Yt(o),v=i&&In(i)?Yt(i):i;let C=m,_=Lg(C);for(;_&&i&&v!==C;){const E=So(_),w=_.getBoundingClientRect(),x=Rn(_),S=w.left+(_.clientLeft+parseFloat(x.paddingLeft))*E.x,k=w.top+(_.clientTop+parseFloat(x.paddingTop))*E.y;u*=E.x,d*=E.y,f*=E.x,p*=E.y,u+=S,d+=k,C=Yt(_),_=Lg(C)}}return Hd({width:f,height:p,x:u,y:d})}function oy(t,e){const n=Vh(t).scrollLeft;return e?e.left+n:fs(Gn(t)).left+n}function yT(t,e,n){n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=i.left+e.scrollLeft-(n?0:oy(t,i)),o=i.top+e.scrollTop;return{x:r,y:o}}function Tj(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const o=r==="fixed",a=Gn(i),c=e?zh(e.floating):!1;if(i===a||c&&o)return n;let u={scrollLeft:0,scrollTop:0},d=Kn(1);const f=Kn(0),p=Zn(i);if((p||!p&&!o)&&((ia(i)!=="body"||mc(a))&&(u=Vh(i)),Zn(i))){const v=fs(i);d=So(i),f.x=v.x+i.clientLeft,f.y=v.y+i.clientTop}const m=a&&!p&&!o?yT(a,u,!0):Kn(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x+m.x,y:n.y*d.y-u.scrollTop*d.y+f.y+m.y}}function kj(t){return Array.from(t.getClientRects())}function Aj(t){const e=Gn(t),n=Vh(t),i=t.ownerDocument.body,r=Zt(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),o=Zt(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+oy(t);const c=-n.scrollTop;return Rn(i).direction==="rtl"&&(a+=Zt(e.clientWidth,i.clientWidth)-r),{width:r,height:o,x:a,y:c}}function Nj(t,e){const n=Yt(t),i=Gn(t),r=n.visualViewport;let o=i.clientWidth,a=i.clientHeight,c=0,u=0;if(r){o=r.width,a=r.height;const d=ry();(!d||d&&e==="fixed")&&(c=r.offsetLeft,u=r.offsetTop)}return{width:o,height:a,x:c,y:u}}function Ij(t,e){const n=fs(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,o=Zn(t)?So(t):Kn(1),a=t.clientWidth*o.x,c=t.clientHeight*o.y,u=r*o.x,d=i*o.y;return{width:a,height:c,x:u,y:d}}function sb(t,e,n){let i;if(e==="viewport")i=Nj(t,n);else if(e==="document")i=Aj(Gn(t));else if(In(e))i=Ij(e,n);else{const r=vT(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Hd(i)}function _T(t,e){const n=br(t);return n===e||!In(n)||Vo(n)?!1:Rn(n).position==="fixed"||_T(n,e)}function Rj(t,e){const n=e.get(t);if(n)return n;let i=Hl(t,[],!1).filter(c=>In(c)&&ia(c)!=="body"),r=null;const o=Rn(t).position==="fixed";let a=o?br(t):t;for(;In(a)&&!Vo(a);){const c=Rn(a),u=iy(a);!u&&c.position==="fixed"&&(r=null),(o?!u&&!r:!u&&c.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||mc(a)&&!u&&_T(t,a))?i=i.filter(f=>f!==a):r=c,a=br(a)}return e.set(t,i),i}function Lj(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const a=[...n==="clippingAncestors"?zh(e)?[]:Rj(e,this._c):[].concat(n),i],c=a[0],u=a.reduce((d,f)=>{const p=sb(e,f,r);return d.top=Zt(p.top,d.top),d.right=xr(p.right,d.right),d.bottom=xr(p.bottom,d.bottom),d.left=Zt(p.left,d.left),d},sb(e,c,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Mj(t){const{width:e,height:n}=gT(t);return{width:e,height:n}}function Oj(t,e,n){const i=Zn(e),r=Gn(e),o=n==="fixed",a=fs(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const u=Kn(0);if(i||!i&&!o)if((ia(e)!=="body"||mc(r))&&(c=Vh(e)),i){const m=fs(e,!0,o,e);u.x=m.x+e.clientLeft,u.y=m.y+e.clientTop}else r&&(u.x=oy(r));const d=r&&!i&&!o?yT(r,c):Kn(0),f=a.left+c.scrollLeft-u.x-d.x,p=a.top+c.scrollTop-u.y-d.y;return{x:f,y:p,width:a.width,height:a.height}}function Tp(t){return Rn(t).position==="static"}function ob(t,e){if(!Zn(t)||Rn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Gn(t)===n&&(n=n.ownerDocument.body),n}function xT(t,e){const n=Yt(t);if(zh(t))return n;if(!Zn(t)){let r=br(t);for(;r&&!Vo(r);){if(In(r)&&!Tp(r))return r;r=br(r)}return n}let i=ob(t,e);for(;i&&Cj(i)&&Tp(i);)i=ob(i,e);return i&&Vo(i)&&Tp(i)&&!iy(i)?n:i||Sj(t)||n}const Dj=async function(t){const e=this.getOffsetParent||xT,n=this.getDimensions,i=await n(t.floating);return{reference:Oj(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function jj(t){return Rn(t).direction==="rtl"}const Fj={convertOffsetParentRelativeRectToViewportRelativeRect:Tj,getDocumentElement:Gn,getClippingRect:Lj,getOffsetParent:xT,getElementRects:Dj,getClientRects:kj,getDimensions:Mj,getScale:So,isElement:In,isRTL:jj};function Bj(t,e){let n=null,i;const r=Gn(t);function o(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),o();const{left:d,top:f,width:p,height:m}=t.getBoundingClientRect();if(c||e(),!p||!m)return;const v=xu(f),C=xu(r.clientWidth-(d+p)),_=xu(r.clientHeight-(f+m)),E=xu(d),x={rootMargin:-v+"px "+-C+"px "+-_+"px "+-E+"px",threshold:Zt(0,xr(1,u))||1};let S=!0;function k(A){const O=A[0].intersectionRatio;if(O!==u){if(!S)return a();O?a(!1,O):i=setTimeout(()=>{a(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(k,{...x,root:r.ownerDocument})}catch{n=new IntersectionObserver(k,x)}n.observe(t)}return a(!0),o}function zj(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,d=sy(t),f=r||o?[...d?Hl(d):[],...Hl(e)]:[];f.forEach(w=>{r&&w.addEventListener("scroll",n,{passive:!0}),o&&w.addEventListener("resize",n)});const p=d&&c?Bj(d,n):null;let m=-1,v=null;a&&(v=new ResizeObserver(w=>{let[x]=w;x&&x.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=v)==null||S.observe(e)})),n()}),d&&!u&&v.observe(d),v.observe(e));let C,_=u?fs(t):null;u&&E();function E(){const w=fs(t);_&&(w.x!==_.x||w.y!==_.y||w.width!==_.width||w.height!==_.height)&&n(),_=w,C=requestAnimationFrame(E)}return n(),()=>{var w;f.forEach(x=>{r&&x.removeEventListener("scroll",n),o&&x.removeEventListener("resize",n)}),p==null||p(),(w=v)==null||w.disconnect(),v=null,u&&cancelAnimationFrame(C)}}const Vj=_j,Uj=xj,Wj=gj,$j=bj,Hj=vj,ab=mj,Kj=wj,Zj=(t,e,n)=>{const i=new Map,r={platform:Fj,...n},o={...r.platform,_c:i};return pj(t,e,{...r,platform:o})};var Qu=typeof document<"u"?T.useLayoutEffect:T.useEffect;function Kd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!Kd(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const o=r[i];if(!(o==="_owner"&&t.$$typeof)&&!Kd(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function wT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function lb(t,e){const n=wT(t);return Math.round(e*n)/n}function kp(t){const e=T.useRef(t);return Qu(()=>{e.current=t}),e}function qj(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:o,floating:a}={},transform:c=!0,whileElementsMounted:u,open:d}=t,[f,p]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,v]=T.useState(i);Kd(m,i)||v(i);const[C,_]=T.useState(null),[E,w]=T.useState(null),x=T.useCallback(F=>{F!==O.current&&(O.current=F,_(F))},[]),S=T.useCallback(F=>{F!==R.current&&(R.current=F,w(F))},[]),k=o||C,A=a||E,O=T.useRef(null),R=T.useRef(null),U=T.useRef(f),H=u!=null,q=kp(u),j=kp(r),M=kp(d),B=T.useCallback(()=>{if(!O.current||!R.current)return;const F={placement:e,strategy:n,middleware:m};j.current&&(F.platform=j.current),Zj(O.current,R.current,F).then(Z=>{const K={...Z,isPositioned:M.current!==!1};N.current&&!Kd(U.current,K)&&(U.current=K,oc.flushSync(()=>{p(K)}))})},[m,e,n,j,M]);Qu(()=>{d===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,p(F=>({...F,isPositioned:!1})))},[d]);const N=T.useRef(!1);Qu(()=>(N.current=!0,()=>{N.current=!1}),[]),Qu(()=>{if(k&&(O.current=k),A&&(R.current=A),k&&A){if(q.current)return q.current(k,A,B);B()}},[k,A,B,q,H]);const D=T.useMemo(()=>({reference:O,floating:R,setReference:x,setFloating:S}),[x,S]),z=T.useMemo(()=>({reference:k,floating:A}),[k,A]),$=T.useMemo(()=>{const F={position:n,left:0,top:0};if(!z.floating)return F;const Z=lb(z.floating,f.x),K=lb(z.floating,f.y);return c?{...F,transform:"translate("+Z+"px, "+K+"px)",...wT(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:K}},[n,c,z.floating,f.x,f.y]);return T.useMemo(()=>({...f,update:B,refs:D,elements:z,floatingStyles:$}),[f,B,D,z,$])}const Gj=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?ab({element:i.current,padding:r}).fn(n):{}:i?ab({element:i,padding:r}).fn(n):{}}}},Yj=(t,e)=>({...Vj(t),options:[t,e]}),Qj=(t,e)=>({...Uj(t),options:[t,e]}),Xj=(t,e)=>({...Kj(t),options:[t,e]}),Jj=(t,e)=>({...Wj(t),options:[t,e]}),e9=(t,e)=>({...$j(t),options:[t,e]}),t9=(t,e)=>({...Hj(t),options:[t,e]}),n9=(t,e)=>({...Gj(t),options:[t,e]});var i9="Arrow",bT=T.forwardRef((t,e)=>{const{children:n,width:i=10,height:r=5,...o}=t;return b.jsx(Ri.svg,{...o,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});bT.displayName=i9;var r9=bT;function s9(t){const[e,n]=T.useState(void 0);return hs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const o=r[0];let a,c;if("borderBoxSize"in o){const u=o.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,c=d.blockSize}else a=t.offsetWidth,c=t.offsetHeight;n({width:a,height:c})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var ay="Popper",[CT,ST]=aT(ay),[o9,ET]=CT(ay),PT=t=>{const{__scopePopper:e,children:n}=t,[i,r]=T.useState(null);return b.jsx(o9,{scope:e,anchor:i,onAnchorChange:r,children:n})};PT.displayName=ay;var TT="PopperAnchor",kT=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...r}=t,o=ET(TT,n),a=T.useRef(null),c=Nr(e,a);return T.useEffect(()=>{o.onAnchorChange((i==null?void 0:i.current)||a.current)}),i?null:b.jsx(Ri.div,{...r,ref:c})});kT.displayName=TT;var ly="PopperContent",[a9,l9]=CT(ly),AT=T.forwardRef((t,e)=>{var ht,gn,aa,Ps,Ts,Mi;const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:o="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:C,..._}=t,E=ET(ly,n),[w,x]=T.useState(null),S=Nr(e,Yn=>x(Yn)),[k,A]=T.useState(null),O=s9(k),R=(O==null?void 0:O.width)??0,U=(O==null?void 0:O.height)??0,H=i+(o!=="center"?"-"+o:""),q=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},j=Array.isArray(d)?d:[d],M=j.length>0,B={padding:q,boundary:j.filter(u9),altBoundary:M},{refs:N,floatingStyles:D,placement:z,isPositioned:$,middlewareData:F}=qj({strategy:"fixed",placement:H,whileElementsMounted:(...Yn)=>zj(...Yn,{animationFrame:v==="always"}),elements:{reference:E.anchor},middleware:[Yj({mainAxis:r+U,alignmentAxis:a}),u&&Qj({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Xj():void 0,...B}),u&&Jj({...B}),e9({...B,apply:({elements:Yn,rects:Sc,availableWidth:Ec,availableHeight:Pc})=>{const{width:la,height:ks}=Sc.reference,As=Yn.floating.style;As.setProperty("--radix-popper-available-width",`${Ec}px`),As.setProperty("--radix-popper-available-height",`${Pc}px`),As.setProperty("--radix-popper-anchor-width",`${la}px`),As.setProperty("--radix-popper-anchor-height",`${ks}px`)}}),k&&n9({element:k,padding:c}),d9({arrowWidth:R,arrowHeight:U}),m&&t9({strategy:"referenceHidden",...B})]}),[Z,K]=RT(z),Q=_r(C);hs(()=>{$&&(Q==null||Q())},[$,Q]);const ie=(ht=F.arrow)==null?void 0:ht.x,be=(gn=F.arrow)==null?void 0:gn.y,_e=((aa=F.arrow)==null?void 0:aa.centerOffset)!==0,[de,ne]=T.useState();return hs(()=>{w&&ne(window.getComputedStyle(w).zIndex)},[w]),b.jsx("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:$?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(Ps=F.transformOrigin)==null?void 0:Ps.x,(Ts=F.transformOrigin)==null?void 0:Ts.y].join(" "),...((Mi=F.hide)==null?void 0:Mi.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:b.jsx(a9,{scope:n,placedSide:Z,onArrowChange:A,arrowX:ie,arrowY:be,shouldHideArrow:_e,children:b.jsx(Ri.div,{"data-side":Z,"data-align":K,..._,ref:S,style:{..._.style,animation:$?void 0:"none"}})})})});AT.displayName=ly;var NT="PopperArrow",c9={top:"bottom",right:"left",bottom:"top",left:"right"},IT=T.forwardRef(function(e,n){const{__scopePopper:i,...r}=e,o=l9(NT,i),a=c9[o.placedSide];return b.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:b.jsx(r9,{...r,ref:n,style:{...r.style,display:"block"}})})});IT.displayName=NT;function u9(t){return t!==null}var d9=t=>({name:"transformOrigin",options:t,fn(e){var E,w,x;const{placement:n,rects:i,middlewareData:r}=e,a=((E=r.arrow)==null?void 0:E.centerOffset)!==0,c=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[d,f]=RT(n),p={start:"0%",center:"50%",end:"100%"}[f],m=(((w=r.arrow)==null?void 0:w.x)??0)+c/2,v=(((x=r.arrow)==null?void 0:x.y)??0)+u/2;let C="",_="";return d==="bottom"?(C=a?p:`${m}px`,_=`${-u}px`):d==="top"?(C=a?p:`${m}px`,_=`${i.floating.height+u}px`):d==="right"?(C=`${-u}px`,_=a?p:`${v}px`):d==="left"&&(C=`${i.floating.width+u}px`,_=a?p:`${v}px`),{data:{x:C,y:_}}}});function RT(t){const[e,n="center"]=t.split("-");return[e,n]}var h9=PT,LT=kT,f9=AT,p9=IT,m9="Portal",MT=T.forwardRef((t,e)=>{var c;const{container:n,...i}=t,[r,o]=T.useState(!1);hs(()=>o(!0),[]);const a=n||r&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?RL.createPortal(b.jsx(Ri.div,{...i,ref:e}),a):null});MT.displayName=m9;function g9(t,e){return T.useReducer((n,i)=>e[n][i]??n,t)}var cy=t=>{const{present:e,children:n}=t,i=v9(e),r=typeof n=="function"?n({present:i.isPresent}):T.Children.only(n),o=Nr(i.ref,y9(r));return typeof n=="function"||i.isPresent?T.cloneElement(r,{ref:o}):null};cy.displayName="Presence";function v9(t){const[e,n]=T.useState(),i=T.useRef({}),r=T.useRef(t),o=T.useRef("none"),a=t?"mounted":"unmounted",[c,u]=g9(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const d=wu(i.current);o.current=c==="mounted"?d:"none"},[c]),hs(()=>{const d=i.current,f=r.current;if(f!==t){const m=o.current,v=wu(d);t?u("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(f&&m!==v?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,u]),hs(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,p=v=>{const _=wu(i.current).includes(v.animationName);if(v.target===e&&_&&(u("ANIMATION_END"),!r.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},m=v=>{v.target===e&&(o.current=wu(i.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:T.useCallback(d=>{d&&(i.current=getComputedStyle(d)),n(d)},[])}}function wu(t){return(t==null?void 0:t.animationName)||"none"}function y9(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _9({prop:t,defaultProp:e,onChange:n=()=>{}}){const[i,r]=x9({defaultProp:e,onChange:n}),o=t!==void 0,a=o?t:i,c=_r(n),u=T.useCallback(d=>{if(o){const p=typeof d=="function"?d(t):d;p!==t&&c(p)}else r(d)},[o,t,r,c]);return[a,u]}function x9({defaultProp:t,onChange:e}){const n=T.useState(t),[i]=n,r=T.useRef(i),o=_r(e);return T.useEffect(()=>{r.current!==i&&(o(i),r.current=i)},[i,r,o]),n}var w9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ws=new WeakMap,bu=new WeakMap,Cu={},Ap=0,OT=function(t){return t&&(t.host||OT(t.parentNode))},b9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var i=OT(n);return i&&t.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},C9=function(t,e,n,i){var r=b9(e,Array.isArray(t)?t:[t]);Cu[n]||(Cu[n]=new WeakMap);var o=Cu[n],a=[],c=new Set,u=new Set(r),d=function(p){!p||c.has(p)||(c.add(p),d(p.parentNode))};r.forEach(d);var f=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(m){if(c.has(m))f(m);else try{var v=m.getAttribute(i),C=v!==null&&v!=="false",_=(Ws.get(m)||0)+1,E=(o.get(m)||0)+1;Ws.set(m,_),o.set(m,E),a.push(m),_===1&&C&&bu.set(m,!0),E===1&&m.setAttribute(n,"true"),C||m.setAttribute(i,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return f(e),c.clear(),Ap++,function(){a.forEach(function(p){var m=Ws.get(p)-1,v=o.get(p)-1;Ws.set(p,m),o.set(p,v),m||(bu.has(p)||p.removeAttribute(i),bu.delete(p)),v||p.removeAttribute(n)}),Ap--,Ap||(Ws=new WeakMap,Ws=new WeakMap,bu=new WeakMap,Cu={})}},S9=function(t,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),r=w9(t);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live]"))),C9(i,r,n,"aria-hidden")):function(){return null}},Vn=function(){return Vn=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Vn.apply(this,arguments)};function DT(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function E9(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,o;i<r;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))}var Xu="right-scroll-bar-position",Ju="width-before-scroll-bar",P9="with-scroll-bars-hidden",T9="--removed-body-scroll-bar-size";function Np(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function k9(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var r=n.value;r!==i&&(n.value=i,n.callback(i,r))}}}})[0];return n.callback=e,n.facade}var A9=typeof window<"u"?T.useLayoutEffect:T.useEffect,cb=new WeakMap;function N9(t,e){var n=k9(null,function(i){return t.forEach(function(r){return Np(r,i)})});return A9(function(){var i=cb.get(n);if(i){var r=new Set(i),o=new Set(t),a=n.current;r.forEach(function(c){o.has(c)||Np(c,null)}),o.forEach(function(c){r.has(c)||Np(c,a)})}cb.set(n,t)},[t]),n}function I9(t){return t}function R9(t,e){e===void 0&&(e=I9);var n=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,i);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(o){for(i=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){i=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(o),a=n}var u=function(){var f=a;a=[],f.forEach(o)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(f){a.push(f),d()},filter:function(f){return a=a.filter(f),n}}}};return r}function L9(t){t===void 0&&(t={});var e=R9(null);return e.options=Vn({async:!0,ssr:!1},t),e}var jT=function(t){var e=t.sideCar,n=DT(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return T.createElement(i,Vn({},n))};jT.isSideCarExport=!0;function M9(t,e){return t.useMedium(e),jT}var FT=L9(),Ip=function(){},Uh=T.forwardRef(function(t,e){var n=T.useRef(null),i=T.useState({onScrollCapture:Ip,onWheelCapture:Ip,onTouchMoveCapture:Ip}),r=i[0],o=i[1],a=t.forwardProps,c=t.children,u=t.className,d=t.removeScrollBar,f=t.enabled,p=t.shards,m=t.sideCar,v=t.noIsolation,C=t.inert,_=t.allowPinchZoom,E=t.as,w=E===void 0?"div":E,x=t.gapMode,S=DT(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=m,A=N9([n,e]),O=Vn(Vn({},S),r);return T.createElement(T.Fragment,null,f&&T.createElement(k,{sideCar:FT,removeScrollBar:d,shards:p,noIsolation:v,inert:C,setCallbacks:o,allowPinchZoom:!!_,lockRef:n,gapMode:x}),a?T.cloneElement(T.Children.only(c),Vn(Vn({},O),{ref:A})):T.createElement(w,Vn({},O,{className:u,ref:A}),c))});Uh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uh.classNames={fullWidth:Ju,zeroRight:Xu};var O9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function D9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=O9();return e&&t.setAttribute("nonce",e),t}function j9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function F9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var B9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=D9())&&(j9(e,n),F9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},z9=function(){var t=B9();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},BT=function(){var t=z9(),e=function(n){var i=n.styles,r=n.dynamic;return t(i,r),null};return e},V9={left:0,top:0,right:0,gap:0},Rp=function(t){return parseInt(t||"",10)||0},U9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[Rp(n),Rp(i),Rp(r)]},W9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return V9;var e=U9(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},$9=BT(),Eo="data-scroll-locked",H9=function(t,e,n,i){var r=t.left,o=t.top,a=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(P9,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(c,"px ").concat(i,`;
  }
  body[`).concat(Eo,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xu,` {
    right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(Ju,` {
    margin-right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(Xu," .").concat(Xu,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Ju," .").concat(Ju,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Eo,`] {
    `).concat(T9,": ").concat(c,`px;
  }
`)},ub=function(){var t=parseInt(document.body.getAttribute(Eo)||"0",10);return isFinite(t)?t:0},K9=function(){T.useEffect(function(){return document.body.setAttribute(Eo,(ub()+1).toString()),function(){var t=ub()-1;t<=0?document.body.removeAttribute(Eo):document.body.setAttribute(Eo,t.toString())}},[])},Z9=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,r=i===void 0?"margin":i;K9();var o=T.useMemo(function(){return W9(r)},[r]);return T.createElement($9,{styles:H9(o,!e,r,n?"":"!important")})},Mg=!1;if(typeof window<"u")try{var Su=Object.defineProperty({},"passive",{get:function(){return Mg=!0,!0}});window.addEventListener("test",Su,Su),window.removeEventListener("test",Su,Su)}catch{Mg=!1}var $s=Mg?{passive:!1}:!1,q9=function(t){return t.tagName==="TEXTAREA"},zT=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!q9(t)&&n[e]==="visible")},G9=function(t){return zT(t,"overflowY")},Y9=function(t){return zT(t,"overflowX")},db=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=VT(t,i);if(r){var o=UT(t,i),a=o[1],c=o[2];if(a>c)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},Q9=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},X9=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},VT=function(t,e){return t==="v"?G9(e):Y9(e)},UT=function(t,e){return t==="v"?Q9(e):X9(e)},J9=function(t,e){return t==="h"&&e==="rtl"?-1:1},eF=function(t,e,n,i,r){var o=J9(t,window.getComputedStyle(e).direction),a=o*i,c=n.target,u=e.contains(c),d=!1,f=a>0,p=0,m=0;do{var v=UT(t,c),C=v[0],_=v[1],E=v[2],w=_-E-o*C;(C||w)&&VT(t,c)&&(p+=w,m+=C),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(f&&(Math.abs(p)<1||!r)||!f&&(Math.abs(m)<1||!r))&&(d=!0),d},Eu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},hb=function(t){return[t.deltaX,t.deltaY]},fb=function(t){return t&&"current"in t?t.current:t},tF=function(t,e){return t[0]===e[0]&&t[1]===e[1]},nF=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},iF=0,Hs=[];function rF(t){var e=T.useRef([]),n=T.useRef([0,0]),i=T.useRef(),r=T.useState(iF++)[0],o=T.useState(BT)[0],a=T.useRef(t);T.useEffect(function(){a.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var _=E9([t.lockRef.current],(t.shards||[]).map(fb),!0).filter(Boolean);return _.forEach(function(E){return E.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),_.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var c=T.useCallback(function(_,E){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!a.current.allowPinchZoom;var w=Eu(_),x=n.current,S="deltaX"in _?_.deltaX:x[0]-w[0],k="deltaY"in _?_.deltaY:x[1]-w[1],A,O=_.target,R=Math.abs(S)>Math.abs(k)?"h":"v";if("touches"in _&&R==="h"&&O.type==="range")return!1;var U=db(R,O);if(!U)return!0;if(U?A=R:(A=R==="v"?"h":"v",U=db(R,O)),!U)return!1;if(!i.current&&"changedTouches"in _&&(S||k)&&(i.current=A),!A)return!0;var H=i.current||A;return eF(H,E,_,H==="h"?S:k,!0)},[]),u=T.useCallback(function(_){var E=_;if(!(!Hs.length||Hs[Hs.length-1]!==o)){var w="deltaY"in E?hb(E):Eu(E),x=e.current.filter(function(A){return A.name===E.type&&(A.target===E.target||E.target===A.shadowParent)&&tF(A.delta,w)})[0];if(x&&x.should){E.cancelable&&E.preventDefault();return}if(!x){var S=(a.current.shards||[]).map(fb).filter(Boolean).filter(function(A){return A.contains(E.target)}),k=S.length>0?c(E,S[0]):!a.current.noIsolation;k&&E.cancelable&&E.preventDefault()}}},[]),d=T.useCallback(function(_,E,w,x){var S={name:_,delta:E,target:w,should:x,shadowParent:sF(w)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(k){return k!==S})},1)},[]),f=T.useCallback(function(_){n.current=Eu(_),i.current=void 0},[]),p=T.useCallback(function(_){d(_.type,hb(_),_.target,c(_,t.lockRef.current))},[]),m=T.useCallback(function(_){d(_.type,Eu(_),_.target,c(_,t.lockRef.current))},[]);T.useEffect(function(){return Hs.push(o),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",u,$s),document.addEventListener("touchmove",u,$s),document.addEventListener("touchstart",f,$s),function(){Hs=Hs.filter(function(_){return _!==o}),document.removeEventListener("wheel",u,$s),document.removeEventListener("touchmove",u,$s),document.removeEventListener("touchstart",f,$s)}},[]);var v=t.removeScrollBar,C=t.inert;return T.createElement(T.Fragment,null,C?T.createElement(o,{styles:nF(r)}):null,v?T.createElement(Z9,{gapMode:t.gapMode}):null)}function sF(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const oF=M9(FT,rF);var WT=T.forwardRef(function(t,e){return T.createElement(Uh,Vn({},t,{ref:e,sideCar:oF}))});WT.classNames=Uh.classNames;var uy="Popover",[$T,UU]=aT(uy,[ST]),gc=ST(),[aF,Ir]=$T(uy),HT=t=>{const{__scopePopover:e,children:n,open:i,defaultOpen:r,onOpenChange:o,modal:a=!1}=t,c=gc(e),u=T.useRef(null),[d,f]=T.useState(!1),[p=!1,m]=_9({prop:i,defaultProp:r,onChange:o});return b.jsx(h9,{...c,children:b.jsx(aF,{scope:e,contentId:sj(),triggerRef:u,open:p,onOpenChange:m,onOpenToggle:T.useCallback(()=>m(v=>!v),[m]),hasCustomAnchor:d,onCustomAnchorAdd:T.useCallback(()=>f(!0),[]),onCustomAnchorRemove:T.useCallback(()=>f(!1),[]),modal:a,children:n})})};HT.displayName=uy;var KT="PopoverAnchor",lF=T.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,r=Ir(KT,n),o=gc(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:c}=r;return T.useEffect(()=>(a(),()=>c()),[a,c]),b.jsx(LT,{...o,...i,ref:e})});lF.displayName=KT;var ZT="PopoverTrigger",qT=T.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,r=Ir(ZT,n),o=gc(n),a=Nr(e,r.triggerRef),c=b.jsx(Ri.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":JT(r.open),...i,ref:a,onClick:ar(t.onClick,r.onOpenToggle)});return r.hasCustomAnchor?c:b.jsx(LT,{asChild:!0,...o,children:c})});qT.displayName=ZT;var dy="PopoverPortal",[cF,uF]=$T(dy,{forceMount:void 0}),GT=t=>{const{__scopePopover:e,forceMount:n,children:i,container:r}=t,o=Ir(dy,e);return b.jsx(cF,{scope:e,forceMount:n,children:b.jsx(cy,{present:n||o.open,children:b.jsx(MT,{asChild:!0,container:r,children:i})})})};GT.displayName=dy;var Uo="PopoverContent",YT=T.forwardRef((t,e)=>{const n=uF(Uo,t.__scopePopover),{forceMount:i=n.forceMount,...r}=t,o=Ir(Uo,t.__scopePopover);return b.jsx(cy,{present:i||o.open,children:o.modal?b.jsx(dF,{...r,ref:e}):b.jsx(hF,{...r,ref:e})})});YT.displayName=Uo;var dF=T.forwardRef((t,e)=>{const n=Ir(Uo,t.__scopePopover),i=T.useRef(null),r=Nr(e,i),o=T.useRef(!1);return T.useEffect(()=>{const a=i.current;if(a)return S9(a)},[]),b.jsx(WT,{as:Jv,allowPinchZoom:!0,children:b.jsx(QT,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ar(t.onCloseAutoFocus,a=>{var c;a.preventDefault(),o.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:ar(t.onPointerDownOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ar(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),hF=T.forwardRef((t,e)=>{const n=Ir(Uo,t.__scopePopover),i=T.useRef(!1),r=T.useRef(!1);return b.jsx(QT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,c;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(i.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:o=>{var u,d;(u=t.onInteractOutside)==null||u.call(t,o),o.defaultPrevented||(i.current=!0,o.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const a=o.target;((d=n.triggerRef.current)==null?void 0:d.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&r.current&&o.preventDefault()}})}),QT=T.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,...p}=t,m=Ir(Uo,n),v=gc(n);return G8(),b.jsx(dT,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:o,children:b.jsx(cT,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:f,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:b.jsx(f9,{"data-state":JT(m.open),role:"dialog",id:m.contentId,...v,...p,ref:e,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),XT="PopoverClose",fF=T.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,r=Ir(XT,n);return b.jsx(Ri.button,{type:"button",...i,ref:e,onClick:ar(t.onClick,()=>r.onOpenChange(!1))})});fF.displayName=XT;var pF="PopoverArrow",mF=T.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,r=gc(n);return b.jsx(p9,{...r,...i,ref:e})});mF.displayName=pF;function JT(t){return t?"open":"closed"}var gF=HT,vF=qT,yF=GT,ek=YT;const _F=gF,xF=vF,tk=T.forwardRef(({className:t,align:e="center",sideOffset:n=4,...i},r)=>b.jsx(yF,{children:b.jsx(ek,{ref:r,align:e,sideOffset:n,className:Ar("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})}));tk.displayName=ek.displayName;const wF=[{key:"nightSkiing",icon:V2,label:"Night Skiing"},{key:"backcountry",icon:Hv,label:"Backcountry"},{key:"iceSkating",icon:Eg,label:"Ice Skating"},{key:"snowmobile",icon:Eg,label:"Snowmobile"},{key:"snowTubing",icon:Kv,label:"Snow Tubing"}],pb=({icon:t,label:e,isAvailable:n})=>b.jsxs("div",{className:"flex items-center gap-2 p-1 rounded-full",title:`${e} ${n?"Available":"Not Available"}`,children:[b.jsx("div",{className:`p-1 rounded-full ${n?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:b.jsx(t,{className:"h-4 w-4"})}),b.jsx("span",{className:"text-xs text-gray-600",children:e})]});function bF({resort:t}){const[e,n]=T.useState(!1),i=wF.map(({key:c,icon:u,label:d})=>({key:c,icon:u,label:d,isAvailable:!!t[c]})),r=i.slice(0,3),o=i.slice(3),a=o.length>0;return b.jsxs(nT,{className:"group overflow-hidden transition-all hover:shadow-lg bg-gray-50 border-blue-200",onMouseLeave:()=>n(!1),children:[b.jsxs(iT,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:[b.jsxs(rT,{className:"flex items-center justify-between",children:[b.jsx("span",{children:t.name}),t.terrainPark!=="-"&&b.jsx(Us,{variant:"secondary",className:"bg-white/20",children:"Terrain Park"})]}),b.jsxs("div",{className:"flex items-center text-sm",children:[b.jsx(pc,{className:"mr-1 h-4 w-4"}),t.region,", ",t.state]})]}),b.jsx(sT,{className:"pt-4",children:b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"transition-opacity duration-300 group-hover:opacity-0",children:b.jsxs("div",{className:"flex flex-col gap-1",children:[t.green!=="-"&&b.jsxs(Us,{variant:"secondary",className:"bg-green-500 text-white w-fit",children:[t.green," Green"]}),t.blue!=="-"&&b.jsxs(Us,{variant:"secondary",className:"bg-blue-500 text-white w-fit",children:[t.blue," Blue"]}),t.doubleBlue!=="-"&&b.jsxs(Us,{variant:"secondary",className:"bg-blue-700 text-white w-fit",children:[t.doubleBlue," Double Blue"]}),t.black!=="-"&&b.jsxs(Us,{variant:"secondary",className:"bg-gray-800 text-white w-fit",children:[t.black," Black"]}),t.doubleBlack!=="-"&&b.jsxs(Us,{variant:"secondary",className:"bg-black text-white w-fit",children:[t.doubleBlack," Double Black"]})]})}),b.jsx("div",{className:"absolute inset-0 opacity-0 transition-opacity duration-300 group-hover:opacity-100",children:b.jsx("p",{className:"text-sm text-gray-600",children:t.description||"No description available"})})]}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"transition-opacity duration-300 group-hover:opacity-0",children:b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsxs("div",{className:"text-sm",children:[b.jsx("span",{className:"font-semibold",children:"Full Day:"})," ",t.fullDayTicket]}),t.halfDayTicket!=="-"&&b.jsxs("div",{className:"text-sm",children:[b.jsx("span",{className:"font-semibold",children:"Half Day:"})," ",t.halfDayTicket]})]})}),b.jsx("div",{className:"absolute inset-0 opacity-0 transition-opacity duration-300 group-hover:opacity-100",children:b.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.map(({key:c,icon:u,label:d,isAvailable:f})=>b.jsx(pb,{icon:u,label:d,isAvailable:f},c)),a&&b.jsxs(_F,{open:e,onOpenChange:n,children:[b.jsx(xF,{asChild:!0,children:b.jsxs("button",{className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100",children:[b.jsx("div",{className:"p-1 rounded-full bg-blue-100 text-blue-600",children:b.jsx(s6,{className:"h-4 w-4"})}),b.jsx("span",{className:"text-xs text-gray-600",children:"More"})]})}),b.jsx(tk,{className:"w-48 p-2 bg-white",children:b.jsx("div",{className:"space-y-2",children:o.map(({key:c,icon:u,label:d,isAvailable:f})=>b.jsx(pb,{icon:u,label:d,isAvailable:f},c))})})]})]})})]})]})})]})}var mb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X=function(t,e){if(!t)throw ra(e)},ra=function(t){return new Error("Firebase Database ("+nk.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},CF=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],a=t[n++],c=t[n++],u=((r&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63)}}return e.join("")},hy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],a=r+1<t.length,c=a?t[r+1]:0,u=r+2<t.length,d=u?t[r+2]:0,f=o>>2,p=(o&3)<<4|c>>4;let m=(c&15)<<2|d>>6,v=d&63;u||(v=64,a||(m=64)),i.push(n[f],n[p],n[m],n[v])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ik(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;const d=r<t.length?n[t.charAt(r)]:64;++r;const p=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||c==null||d==null||p==null)throw new SF;const m=o<<2|c>>4;if(i.push(m),d!==64){const v=c<<4&240|d>>2;if(i.push(v),p!==64){const C=d<<6&192|p;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rk=function(t){const e=ik(t);return hy.encodeByteArray(e,!0)},Zd=function(t){return rk(t).replace(/\./g,"")},Og=function(t){try{return hy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t){return sk(void 0,t)}function sk(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!PF(n)||(t[n]=sk(t[n],e[n]));return t}function PF(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=()=>TF().__FIREBASE_DEFAULTS__,AF=()=>{if(typeof process>"u"||typeof mb>"u")return;const t=mb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Og(t[1]);return e&&JSON.parse(e)},ok=()=>{try{return kF()||AF()||NF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IF=t=>{var e,n;return(n=(e=ok())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},RF=t=>{const e=IF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},ak=()=>{var t;return(t=ok())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zd(JSON.stringify(n)),Zd(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(MF())}function OF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ck(){return nk.NODE_ADMIN===!0}function DF(){try{return typeof indexedDB=="object"}catch{return!1}}function jF(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="FirebaseError";class vc extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=FF,Object.setPrototypeOf(this,vc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uk.prototype.create)}}class uk{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?BF(o,i):"Error",c=`${this.serviceName}: ${a} (${r}).`;return new vc(r,c,i)}}function BF(t,e){return t.replace(zF,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const zF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t){return JSON.parse(t)}function ut(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=function(t){let e={},n={},i={},r="";try{const o=t.split(".");e=Kl(Og(o[0])||""),n=Kl(Og(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},VF=function(t){const e=dk(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},UF=function(t){const e=dk(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Wo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function gb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qd(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function Dg(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],a=e[r];if(vb(o)&&vb(a)){if(!Dg(o,a))return!1}else if(o!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function vb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)i[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)i[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const m=i[p-3]^i[p-8]^i[p-14]^i[p-16];i[p]=(m<<1|m>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],a=this.chain_[2],c=this.chain_[3],u=this.chain_[4],d,f;for(let p=0;p<80;p++){p<40?p<20?(d=c^o&(a^c),f=1518500249):(d=o^a^c,f=1859775393):p<60?(d=o&a|c&(o|a),f=2400959708):(d=o^a^c,f=3395469782);const m=(r<<5|r>>>27)+d+u+f+i[p]&4294967295;u=c,c=a,a=(o<<30|o>>>2)&4294967295,o=r,r=m}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const o=this.buf_;let a=this.inbuf_;for(;r<n;){if(a===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(o[a]=e.charCodeAt(r),++a,++r,a===this.blockSize){this.compress_(o),a=0;break}}else for(;r<n;)if(o[a]=e[r],++a,++r,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}function hk(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,X(i<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(i)-56320;r=65536+(o<<10)+a}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Wh=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){return t&&t._delegate?t._delegate:t}class Zl{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new fy;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qF(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&a.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ZF(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZF(t){return t===$r?void 0:t}function qF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const YF={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},QF=Ie.INFO,XF={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},JF=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=XF[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fk{constructor(e){this.name=e,this._logLevel=QF,this._logHandler=JF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const eB=(t,e)=>e.some(n=>t instanceof n);let yb,_b;function tB(){return yb||(yb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nB(){return _b||(_b=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pk=new WeakMap,jg=new WeakMap,mk=new WeakMap,Lp=new WeakMap,py=new WeakMap;function iB(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(lr(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&pk.set(n,t)}).catch(()=>{}),py.set(e,t),e}function rB(t){if(jg.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});jg.set(t,e)}let Fg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sB(t){Fg=t(Fg)}function oB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Mp(this),e,...n);return mk.set(i,e.sort?e.sort():[e]),lr(i)}:nB().includes(t)?function(...e){return t.apply(Mp(this),e),lr(pk.get(this))}:function(...e){return lr(t.apply(Mp(this),e))}}function aB(t){return typeof t=="function"?oB(t):(t instanceof IDBTransaction&&rB(t),eB(t,tB())?new Proxy(t,Fg):t)}function lr(t){if(t instanceof IDBRequest)return iB(t);if(Lp.has(t))return Lp.get(t);const e=aB(t);return e!==t&&(Lp.set(t,e),py.set(e,t)),e}const Mp=t=>py.get(t);function lB(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const a=indexedDB.open(t,e),c=lr(a);return i&&a.addEventListener("upgradeneeded",u=>{i(lr(a.result),u.oldVersion,u.newVersion,lr(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),r&&u.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const cB=["get","getKey","getAll","getAllKeys","count"],uB=["put","add","delete","clear"],Op=new Map;function xb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Op.get(e))return Op.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=uB.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||cB.includes(n)))return;const o=async function(a,...c){const u=this.transaction(a,r?"readwrite":"readonly");let d=u.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),r&&u.done]))[0]};return Op.set(e,o),o}sB(t=>({...t,get:(e,n,i)=>xb(e,n)||t.get(e,n,i),has:(e,n)=>!!xb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hB(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function hB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bg="@firebase/app",wb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new fk("@firebase/app"),fB="@firebase/app-compat",pB="@firebase/analytics-compat",mB="@firebase/analytics",gB="@firebase/app-check-compat",vB="@firebase/app-check",yB="@firebase/auth",_B="@firebase/auth-compat",xB="@firebase/database",wB="@firebase/data-connect",bB="@firebase/database-compat",CB="@firebase/functions",SB="@firebase/functions-compat",EB="@firebase/installations",PB="@firebase/installations-compat",TB="@firebase/messaging",kB="@firebase/messaging-compat",AB="@firebase/performance",NB="@firebase/performance-compat",IB="@firebase/remote-config",RB="@firebase/remote-config-compat",LB="@firebase/storage",MB="@firebase/storage-compat",OB="@firebase/firestore",DB="@firebase/vertexai-preview",jB="@firebase/firestore-compat",FB="firebase",BB="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="[DEFAULT]",zB={[Bg]:"fire-core",[fB]:"fire-core-compat",[mB]:"fire-analytics",[pB]:"fire-analytics-compat",[vB]:"fire-app-check",[gB]:"fire-app-check-compat",[yB]:"fire-auth",[_B]:"fire-auth-compat",[xB]:"fire-rtdb",[wB]:"fire-data-connect",[bB]:"fire-rtdb-compat",[CB]:"fire-fn",[SB]:"fire-fn-compat",[EB]:"fire-iid",[PB]:"fire-iid-compat",[TB]:"fire-fcm",[kB]:"fire-fcm-compat",[AB]:"fire-perf",[NB]:"fire-perf-compat",[IB]:"fire-rc",[RB]:"fire-rc-compat",[LB]:"fire-gcs",[MB]:"fire-gcs-compat",[OB]:"fire-fst",[jB]:"fire-fst-compat",[DB]:"fire-vertex","fire-js":"fire-js",[FB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new Map,VB=new Map,Vg=new Map;function bb(t,e){try{t.container.addComponent(e)}catch(n){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yd(t){const e=t.name;if(Vg.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;Vg.set(e,t);for(const n of Gd.values())bb(n,t);for(const n of VB.values())bb(n,t);return!0}function UB(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new uk("app","Firebase",WB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=BB;function gk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:zg,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw cr.create("bad-app-name",{appName:String(r)});if(n||(n=ak()),!n)throw cr.create("no-options");const o=Gd.get(r);if(o){if(Dg(n,o.options)&&Dg(i,o.config))return o;throw cr.create("duplicate-app",{appName:r})}const a=new GF(r);for(const u of Vg.values())a.addComponent(u);const c=new $B(n,i,a);return Gd.set(r,c),c}function KB(t=zg){const e=Gd.get(t);if(!e&&t===zg&&ak())return gk();if(!e)throw cr.create("no-app",{appName:t});return e}function Po(t,e,n){var i;let r=(i=zB[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(c.join(" "));return}Yd(new Zl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB="firebase-heartbeat-database",qB=1,ql="firebase-heartbeat-store";let Dp=null;function vk(){return Dp||(Dp=lB(ZB,qB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(t=>{throw cr.create("idb-open",{originalErrorMessage:t.message})})),Dp}async function GB(t){try{const n=(await vk()).transaction(ql),i=await n.objectStore(ql).get(yk(t));return await n.done,i}catch(e){if(e instanceof vc)Ai.warn(e.message);else{const n=cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(n.message)}}}async function Cb(t,e){try{const i=(await vk()).transaction(ql,"readwrite");await i.objectStore(ql).put(e,yk(t)),await i.done}catch(n){if(n instanceof vc)Ai.warn(n.message);else{const i=cr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ai.warn(i.message)}}}function yk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=1024,QB=30*24*60*60*1e3;class XB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new e7(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Sb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=QB}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ai.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sb(),{heartbeatsToSend:i,unsentEntries:r}=JB(this._heartbeatsCache.heartbeats),o=Zd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ai.warn(n),""}}}function Sb(){return new Date().toISOString().substring(0,10)}function JB(t,e=YB){const n=[];let i=t.slice();for(const r of t){const o=n.find(a=>a.agent===r.agent);if(o){if(o.dates.push(r.date),Eb(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Eb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class e7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DF()?jF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Cb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Cb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Eb(t){return Zd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(t){Yd(new Zl("platform-logger",e=>new dB(e),"PRIVATE")),Yd(new Zl("heartbeat",e=>new XB(e),"PRIVATE")),Po(Bg,wb,t),Po(Bg,wb,"esm2017"),Po("fire-js","")}t7("");var Pb={};const Tb="@firebase/database",kb="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _k="";function n7(t){_k=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ut(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Kl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Li(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new i7(e)}}catch{}return new r7},Qr=xk("localStorage"),s7=xk("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new fk("@firebase/database"),o7=function(){let t=1;return function(){return t++}}(),wk=function(t){const e=HF(t),n=new $F;n.update(e);const i=n.digest();return hy.encodeByteArray(i)},yc=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=yc.apply(null,i):typeof i=="object"?e+=ut(i):e+=i,e+=" "}return e};let cl=null,Ab=!0;const a7=function(t,e){X(!e,"Can't turn on custom loggers persistently."),To.logLevel=Ie.VERBOSE,cl=To.log.bind(To)},bt=function(...t){if(Ab===!0&&(Ab=!1,cl===null&&s7.get("logging_enabled")===!0&&a7()),cl){const e=yc.apply(null,t);cl(e)}},_c=function(t){return function(...e){bt(t,...e)}},Ug=function(...t){const e="FIREBASE INTERNAL ERROR: "+yc(...t);To.error(e)},Ni=function(...t){const e=`FIREBASE FATAL ERROR: ${yc(...t)}`;throw To.error(e),new Error(e)},Qt=function(...t){const e="FIREBASE WARNING: "+yc(...t);To.warn(e)},l7=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Qt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},bk=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},c7=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},$o="[MIN_NAME]",ps="[MAX_NAME]",sa=function(t,e){if(t===e)return 0;if(t===$o||e===ps)return-1;if(e===$o||t===ps)return 1;{const n=Nb(t),i=Nb(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},u7=function(t,e){return t===e?0:t<e?-1:1},Ma=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ut(e))},my=function(t){if(typeof t!="object"||t===null)return ut(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=ut(e[i]),n+=":",n+=my(t[e[i]]);return n+="}",n},Ck=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function $t(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Sk=function(t){X(!bk(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,o,a,c,u;t===0?(o=0,a=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=c+i,a=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-i-n))));const d=[];for(u=n;u;u-=1)d.push(a%2?1:0),a=Math.floor(a/2);for(u=e;u;u-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(r?1:0),d.reverse();const f=d.join("");let p="";for(u=0;u<64;u+=8){let m=parseInt(f.substr(u,8),2).toString(16);m.length===1&&(m="0"+m),p=p+m}return p.toLowerCase()},d7=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},h7=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function f7(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const p7=new RegExp("^-?(0*)\\d{1,10}$"),m7=-2147483648,g7=2147483647,Nb=function(t){if(p7.test(t)){const e=Number(t);if(e>=m7&&e<=g7)return e}return null},xc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Qt("Exception was thrown by user callback.",n),e},Math.floor(0))}},v7=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ul=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Qt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(bt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qt(e)}}class ed{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ed.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="5",Ek="v",Pk="s",Tk="r",kk="f",Ak=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Nk="ls",Ik="p",Wg="ac",Rk="websocket",Lk="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n,i,r,o=!1,a="",c=!1,u=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function x7(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Ok(t,e,n){X(typeof e=="string","typeof type must == string"),X(typeof n=="object","typeof params must == object");let i;if(e===Rk)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Lk)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);x7(t)&&(n.ns=t.namespace);const r=[];return $t(n,(o,a)=>{r.push(o+"="+a)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(){this.counters_={}}incrementCounter(e,n=1){Li(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return EF(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp={},Fp={};function vy(t){const e=t.toString();return jp[e]||(jp[e]=new w7),jp[e]}function b7(t,e){const n=t.toString();return Fp[n]||(Fp[n]=e()),Fp[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&xc(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="start",S7="close",E7="pLPCommand",P7="pRTLPCB",Dk="id",jk="pw",Fk="ser",T7="cb",k7="seg",A7="ts",N7="d",I7="dframe",Bk=1870,zk=30,R7=Bk-zk,L7=25e3,M7=3e4;class ho{constructor(e,n,i,r,o,a,c){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_c(e),this.stats_=vy(n),this.urlFn=u=>(this.appCheckToken&&(u[Wg]=this.appCheckToken),Ok(n,Lk,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new C7(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(M7)),c7(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yy((...o)=>{const[a,c,u,d,f]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===Ib)this.id=c,this.password=u;else if(a===S7)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...o)=>{const[a,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,c)},()=>{this.onClosed_()},this.urlFn);const i={};i[Ib]="t",i[Fk]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[T7]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Ek]=gy,this.transportSessionId&&(i[Pk]=this.transportSessionId),this.lastSessionId&&(i[Nk]=this.lastSessionId),this.applicationId&&(i[Ik]=this.applicationId),this.appCheckToken&&(i[Wg]=this.appCheckToken),typeof location<"u"&&location.hostname&&Ak.test(location.hostname)&&(i[Tk]=kk);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ho.forceAllow_=!0}static forceDisallow(){ho.forceDisallow_=!0}static isAvailable(){return ho.forceAllow_?!0:!ho.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!d7()&&!h7()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ut(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=rk(n),r=Ck(i,R7);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[I7]="t",i[Dk]=e,i[jk]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ut(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class yy{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=o7(),window[E7+this.uniqueCallbackIdentifier]=e,window[P7+this.uniqueCallbackIdentifier]=n,this.myIFrame=yy.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){bt("frame writing exception"),c.stack&&bt(c.stack),bt(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||bt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Dk]=this.myID,e[jk]=this.myPW,e[Fk]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zk+i.length<=Bk;){const a=this.pendingSegs.shift();i=i+"&"+k7+r+"="+a.seg+"&"+A7+r+"="+a.ts+"&"+N7+r+"="+a.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(L7)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{bt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7=16384,D7=45e3;let Qd=null;typeof MozWebSocket<"u"?Qd=MozWebSocket:typeof WebSocket<"u"&&(Qd=WebSocket);class Cn{constructor(e,n,i,r,o,a,c){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_c(this.connId),this.stats_=vy(n),this.connURL=Cn.connectionURL_(n,a,c,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,o){const a={};return a[Ek]=gy,typeof location<"u"&&location.hostname&&Ak.test(location.hostname)&&(a[Tk]=kk),n&&(a[Pk]=n),i&&(a[Nk]=i),r&&(a[Wg]=r),o&&(a[Ik]=o),Ok(e,Rk,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qr.set("previous_websocket_failure",!0);try{let i;ck(),this.mySock=new Qd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Cn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Qd!==null&&!Cn.forceDisallow_}static previouslyFailed(){return Qr.isInMemoryStorage||Qr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Kl(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(X(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=ut(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Ck(n,O7);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(D7))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Cn.responsesRequiredToBeHealthy=2;Cn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ho,Cn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Cn&&Cn.isAvailable();let i=n&&!Cn.previouslyFailed();if(e.webSocketOnly&&(n||Qt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Cn];else{const r=this.transports_=[];for(const o of Gl.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);Gl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Gl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=6e4,F7=5e3,B7=10*1024,z7=100*1024,Bp="t",Rb="d",V7="s",Lb="r",U7="e",Mb="o",Ob="a",Db="n",jb="p",W7="h";class $7{constructor(e,n,i,r,o,a,c,u,d,f){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=u,this.onKill_=d,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_c("c:"+this.id+":"),this.transportManager_=new Gl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=ul(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>z7?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>B7?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Bp in e){const n=e[Bp];n===Ob?this.upgradeIfSecondaryHealthy_():n===Lb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Mb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ma("t",e),i=Ma("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:jb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ob,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Db,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ma("t",e),i=Ma("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ma(Bp,e);if(Rb in e){const i=e[Rb];if(n===W7){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===Db){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===V7?this.onConnectionShutdown_(i):n===Lb?this.onReset_(i):n===U7?Ug("Server Error: "+i):n===Mb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ug("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),gy!==i&&Qt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),ul(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(j7))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ul(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(F7))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:jb,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.allowedEvents_=e,this.listeners_={},X(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){X(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends Uk{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!lk()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Xd}getInitialEvent(e){return X(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=32,Bb=768;class Ae{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ee(){return new Ae("")}function ge(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Cr(t){return t.pieces_.length-t.pieceNum_}function Re(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ae(t.pieces_,e)}function Wk(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function H7(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function $k(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Hk(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ae(e,0)}function nt(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Ae)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Ae(n,0)}function ve(t){return t.pieceNum_>=t.pieces_.length}function Bt(t,e){const n=ge(t),i=ge(e);if(n===null)return e;if(n===i)return Bt(Re(t),Re(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function _y(t,e){if(Cr(t)!==Cr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Sn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Cr(t)>Cr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class K7{constructor(e,n){this.errorPrefix_=n,this.parts_=$k(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Wh(this.parts_[i]);Kk(this)}}function Z7(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Wh(e),Kk(t)}function q7(t){const e=t.parts_.pop();t.byteLength_-=Wh(e),t.parts_.length>0&&(t.byteLength_-=1)}function Kk(t){if(t.byteLength_>Bb)throw new Error(t.errorPrefix_+"has a key path longer than "+Bb+" bytes ("+t.byteLength_+").");if(t.parts_.length>Fb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Fb+") or object contains a cycle "+Hr(t))}function Hr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy extends Uk{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new xy}getInitialEvent(e){return X(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=1e3,G7=60*5*1e3,zb=30*1e3,Y7=1.3,Q7=3e4,X7="server_kill",Vb=3;class wi extends Vk{constructor(e,n,i,r,o,a,c,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=wi.nextPersistentConnectionId_++,this.log_=_c("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Oa,this.maxReconnectDelay_=G7,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!ck())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xy.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Xd.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,o={r,a:e,b:n};this.log_(ut(o)),X(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new fy,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const c=a.d;a.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,i,r){this.initConnection_();const o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),X(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),X(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const c={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},a="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(a,o,c=>{const u=c.d,d=c.s;wi.warnOnListenWarnings_(u,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",c),d!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(d,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Li(e,"w")){const i=Wo(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Qt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||UF(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zb)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=VF(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const o=r.s,a=r.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),X(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const o={p:e},a="n";r&&(o.q=i,o.t=r),this.sendRequest(a,o)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const o={p:n,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,a=>{r&&setTimeout(()=>{r(a.s,a.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,o){this.initConnection_();const a={p:n,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ut(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ug("Unrecognized action received from server: "+ut(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){X(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Oa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Oa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Q7&&(this.reconnectDelay_=Oa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Y7)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+wi.nextConnectionId_++,o=this.lastSessionId;let a=!1,c=null;const u=function(){c?c.close():(a=!0,i())},d=function(p){X(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(p)};this.realtime_={close:u,sendRequest:d};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,m]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);a?bt("getToken() completed but was canceled"):(bt("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=m&&m.token,c=new $7(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,v=>{Qt(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(X7)},o))}catch(p){this.log_("Failed to get token: "+p),a||(this.repoInfo_.nodeAdmin&&Qt(p),u())}}}interrupt(e){bt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){bt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],gb(this.interruptReasons_)&&(this.reconnectDelay_=Oa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(o=>my(o)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new Ae(e).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(n),o.delete(n),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){bt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Vb&&(this.reconnectDelay_=zb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){bt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Vb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+_k.replace(/\./g,"-")]=1,lk()?e["framework.cordova"]=1:OF()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Xd.getInstance().currentlyOnline();return gb(this.interruptReasons_)&&e}}wi.nextPersistentConnectionId_=0;wi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new me(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new me($o,e),r=new me($o,n);return this.compare(i,r)!==0}minPost(){return me.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu;class Zk extends Hh{static get __EMPTY_NODE(){return Pu}static set __EMPTY_NODE(e){Pu=e}compare(e,n){return sa(e.name,n.name)}isDefinedOn(e){throw ra("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return me.MIN}maxPost(){return new me(ps,Pu)}makePost(e,n){return X(typeof e=="string","KeyIndex indexValue must always be a string."),new me(e,Pu)}toString(){return".key"}}const ko=new Zk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?i(e.key,n):1,r&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ct{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??ct.RED,this.left=r??zt.EMPTY_NODE,this.right=o??zt.EMPTY_NODE}copy(e,n,i,r,o){return new ct(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return zt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return zt.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ct.RED=!0;ct.BLACK=!1;class J7{copy(e,n,i,r,o){return this}insert(e,n,i){return new ct(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class zt{constructor(e,n=zt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new zt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ct.BLACK,null,null))}remove(e){return new zt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ct.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Tu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Tu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Tu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Tu(this.root_,null,this.comparator_,!0,e)}}zt.EMPTY_NODE=new J7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(t,e){return sa(t.name,e.name)}function wy(t,e){return sa(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $g;function tz(t){$g=t}const qk=function(t){return typeof t=="number"?"number:"+Sk(t):"string:"+t},Gk=function(t){if(t.isLeafNode()){const e=t.val();X(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Li(e,".sv"),"Priority must be a string or number.")}else X(t===$g||t.isEmpty(),"priority of unexpected type.");X(t===$g||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ub;class at{constructor(e,n=at.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,X(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Gk(this.priorityNode_)}static set __childrenNodeConstructor(e){Ub=e}static get __childrenNodeConstructor(){return Ub}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new at(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ve(e)?this:ge(e)===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:at.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=ge(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(X(i!==".priority"||Cr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,at.__childrenNodeConstructor.EMPTY_NODE.updateChild(Re(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+qk(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Sk(this.value_):e+=this.value_,this.lazyHash_=wk(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===at.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof at.__childrenNodeConstructor?-1:(X(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=at.VALUE_TYPE_ORDER.indexOf(n),o=at.VALUE_TYPE_ORDER.indexOf(i);return X(r>=0,"Unknown leaf type: "+n),X(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}at.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yk,Qk;function nz(t){Yk=t}function iz(t){Qk=t}class rz extends Hh{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?sa(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return me.MIN}maxPost(){return new me(ps,new at("[PRIORITY-POST]",Qk))}makePost(e,n){const i=Yk(e);return new me(n,new at("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ze=new rz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=Math.log(2);class oz{constructor(e){const n=o=>parseInt(Math.log(o)/sz,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Jd=function(t,e,n,i){t.sort(e);const r=function(u,d){const f=d-u;let p,m;if(f===0)return null;if(f===1)return p=t[u],m=n?n(p):p,new ct(m,p.node,ct.BLACK,null,null);{const v=parseInt(f/2,10)+u,C=r(u,v),_=r(v+1,d);return p=t[v],m=n?n(p):p,new ct(m,p.node,ct.BLACK,C,_)}},o=function(u){let d=null,f=null,p=t.length;const m=function(C,_){const E=p-C,w=p;p-=C;const x=r(E+1,w),S=t[E],k=n?n(S):S;v(new ct(k,S.node,_,null,x))},v=function(C){d?(d.left=C,d=C):(f=C,d=C)};for(let C=0;C<u.count;++C){const _=u.nextBitIsOne(),E=Math.pow(2,u.count-(C+1));_?m(E,ct.BLACK):(m(E,ct.BLACK),m(E,ct.RED))}return f},a=new oz(t.length),c=o(a);return new zt(i||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp;const Ks={};class hi{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return X(Ks&&Ze,"ChildrenNode.ts has not been loaded"),zp=zp||new hi({".priority":Ks},{".priority":Ze}),zp}get(e){const n=Wo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof zt?n:null}hasIndex(e){return Li(this.indexSet_,e.toString())}addIndex(e,n){X(e!==ko,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=n.getIterator(me.Wrap);let a=o.getNext();for(;a;)r=r||e.isDefinedOn(a.node),i.push(a),a=o.getNext();let c;r?c=Jd(i,e.getCompare()):c=Ks;const u=e.toString(),d=Object.assign({},this.indexSet_);d[u]=e;const f=Object.assign({},this.indexes_);return f[u]=c,new hi(f,d)}addToIndexes(e,n){const i=qd(this.indexes_,(r,o)=>{const a=Wo(this.indexSet_,o);if(X(a,"Missing index implementation for "+o),r===Ks)if(a.isDefinedOn(e.node)){const c=[],u=n.getIterator(me.Wrap);let d=u.getNext();for(;d;)d.name!==e.name&&c.push(d),d=u.getNext();return c.push(e),Jd(c,a.getCompare())}else return Ks;else{const c=n.get(e.name);let u=r;return c&&(u=u.remove(new me(e.name,c))),u.insert(e,e.node)}});return new hi(i,this.indexSet_)}removeFromIndexes(e,n){const i=qd(this.indexes_,r=>{if(r===Ks)return r;{const o=n.get(e.name);return o?r.remove(new me(e.name,o)):r}});return new hi(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da;class ce{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Gk(this.priorityNode_),this.children_.isEmpty()&&X(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Da||(Da=new ce(new zt(wy),null,hi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Da}updatePriority(e){return this.children_.isEmpty()?this:new ce(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Da:n}}getChild(e){const n=ge(e);return n===null?this:this.getImmediateChild(n).getChild(Re(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(X(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new me(e,n);let r,o;n.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_));const a=r.isEmpty()?Da:this.priorityNode_;return new ce(r,a,o)}}updateChild(e,n){const i=ge(e);if(i===null)return n;{X(ge(e)!==".priority"||Cr(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Re(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,o=!0;if(this.forEachChild(Ze,(a,c)=>{n[a]=c.val(e),i++,o&&ce.INTEGER_REGEXP_.test(a)?r=Math.max(r,Number(a)):o=!1}),!e&&o&&r<2*i){const a=[];for(const c in n)a[c]=n[c];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+qk(this.getPriority().val())+":"),this.forEachChild(Ze,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":wk(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new me(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new me(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new me(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,me.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,me.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)>0;)r.getNext(),o=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===wc?-1:0}withIndex(e){if(e===ko||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ce(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ko||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Ze),r=n.getIterator(Ze);let o=i.getNext(),a=r.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=r.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===ko?null:this.indexMap_.get(e.toString())}}ce.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class az extends ce{constructor(){super(new zt(wy),ce.EMPTY_NODE,hi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ce.EMPTY_NODE}isEmpty(){return!1}}const wc=new az;Object.defineProperties(me,{MIN:{value:new me($o,ce.EMPTY_NODE)},MAX:{value:new me(ps,wc)}});Zk.__EMPTY_NODE=ce.EMPTY_NODE;at.__childrenNodeConstructor=ce;tz(wc);iz(wc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=!0;function Ct(t,e=null){if(t===null)return ce.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),X(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new at(n,Ct(e))}if(!(t instanceof Array)&&lz){const n=[];let i=!1;if($t(t,(a,c)=>{if(a.substring(0,1)!=="."){const u=Ct(c);u.isEmpty()||(i=i||!u.getPriority().isEmpty(),n.push(new me(a,u)))}}),n.length===0)return ce.EMPTY_NODE;const o=Jd(n,ez,a=>a.name,wy);if(i){const a=Jd(n,Ze.getCompare());return new ce(o,Ct(e),new hi({".priority":a},{".priority":Ze}))}else return new ce(o,Ct(e),hi.Default)}else{let n=ce.EMPTY_NODE;return $t(t,(i,r)=>{if(Li(t,i)&&i.substring(0,1)!=="."){const o=Ct(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(Ct(e))}}nz(Ct);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz extends Hh{constructor(e){super(),this.indexPath_=e,X(!ve(e)&&ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?sa(e.name,n.name):o}makePost(e,n){const i=Ct(e),r=ce.EMPTY_NODE.updateChild(this.indexPath_,i);return new me(n,r)}maxPost(){const e=ce.EMPTY_NODE.updateChild(this.indexPath_,wc);return new me(ps,e)}toString(){return $k(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz extends Hh{compare(e,n){const i=e.node.compareTo(n.node);return i===0?sa(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return me.MIN}maxPost(){return me.MAX}makePost(e,n){const i=Ct(e);return new me(n,i)}toString(){return".value"}}const dz=new uz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t){return{type:"value",snapshotNode:t}}function Ho(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Yl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ql(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function hz(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e){this.index_=e}updateChild(e,n,i,r,o,a){X(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(r).equals(i.getChild(r))&&c.isEmpty()===i.isEmpty()||(a!=null&&(i.isEmpty()?e.hasChild(n)?a.trackChildChange(Yl(n,c)):X(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(Ho(n,i)):a.trackChildChange(Ql(n,i,c))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ze,(r,o)=>{n.hasChild(r)||i.trackChildChange(Yl(r,o))}),n.isLeafNode()||n.forEachChild(Ze,(r,o)=>{if(e.hasChild(r)){const a=e.getImmediateChild(r);a.equals(o)||i.trackChildChange(Ql(r,o,a))}else i.trackChildChange(Ho(r,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ce.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this.indexedFilter_=new by(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Xl.getStartPost_(e),this.endPost_=Xl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,o,a){return this.matches(new me(n,i))||(i=ce.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,o,a)}updateFullNode(e,n,i){n.isLeafNode()&&(n=ce.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(ce.EMPTY_NODE);const o=this;return n.forEachChild(Ze,(a,c)=>{o.matches(new me(a,c))||(r=r.updateImmediateChild(a,ce.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Xl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,o,a){return this.rangedFilter_.matches(new me(n,i))||(i=ce.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,o,a):this.fullLimitUpdateChild_(e,n,i,o,a)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=ce.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=ce.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;o.hasNext()&&a<this.limit_;){const c=o.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))r=r.updateImmediateChild(c.name,c.node),a++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(ce.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let a=0;for(;o.hasNext();){const c=o.getNext();a<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?a++:r=r.updateImmediateChild(c.name,ce.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,o){let a;if(this.reverse_){const p=this.index_.getCompare();a=(m,v)=>p(v,m)}else a=this.index_.getCompare();const c=e;X(c.numChildren()===this.limit_,"");const u=new me(n,i),d=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),f=this.rangedFilter_.matches(u);if(c.hasChild(n)){const p=c.getImmediateChild(n);let m=r.getChildAfterChild(this.index_,d,this.reverse_);for(;m!=null&&(m.name===n||c.hasChild(m.name));)m=r.getChildAfterChild(this.index_,m,this.reverse_);const v=m==null?1:a(m,u);if(f&&!i.isEmpty()&&v>=0)return o!=null&&o.trackChildChange(Ql(n,i,p)),c.updateImmediateChild(n,i);{o!=null&&o.trackChildChange(Yl(n,p));const _=c.updateImmediateChild(n,ce.EMPTY_NODE);return m!=null&&this.rangedFilter_.matches(m)?(o!=null&&o.trackChildChange(Ho(m.name,m.node)),_.updateImmediateChild(m.name,m.node)):_}}else return i.isEmpty()?e:f&&a(d,u)>=0?(o!=null&&(o.trackChildChange(Yl(d.name,d.node)),o.trackChildChange(Ho(n,i))),c.updateImmediateChild(n,i).updateImmediateChild(d.name,ce.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ze}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return X(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return X(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$o}hasEnd(){return this.endSet_}getIndexEndValue(){return X(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return X(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ps}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return X(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ze}copy(){const e=new Cy;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function pz(t){return t.loadsAllData()?new by(t.getIndex()):t.hasLimit()?new fz(t):new Xl(t)}function Wb(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ze?n="$priority":t.index_===dz?n="$value":t.index_===ko?n="$key":(X(t.index_ instanceof cz,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ut(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=ut(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+ut(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=ut(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+ut(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function $b(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ze&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends Vk{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=_c("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(X(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const a=eh.getListenId_(e,i),c={};this.listens_[a]=c;const u=Wb(e._queryParams);this.restRequest_(o+".json",u,(d,f)=>{let p=f;if(d===404&&(p=null,d=null),d===null&&this.onDataUpdate_(o,p,!1,i),Wo(this.listens_,a)===c){let m;d?d===401?m="permission_denied":m="rest_error:"+d:m="ok",r(m,null)}})}unlisten(e,n){const i=eh.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Wb(e._queryParams),i=e._path.toString(),r=new fy;return this.restRequest_(i+".json",n,(o,a)=>{let c=a;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(i,c,!1,null),r.resolve(c)):r.reject(new Error(c))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+WF(n);this.log_("Sending REST request for "+a);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&c.readyState===4){this.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=Kl(c.responseText)}catch{Qt("Failed to parse JSON response for "+a+": "+c.responseText)}i(null,u)}else c.status!==401&&c.status!==404&&Qt("Got unsuccessful REST response for "+a+" Status: "+c.status),i(c.status);i=null}},c.open("GET",a,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(){this.rootNode_=ce.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(){return{value:null,children:new Map}}function Jk(t,e,n){if(ve(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=ge(e);t.children.has(i)||t.children.set(i,th());const r=t.children.get(i);e=Re(e),Jk(r,e,n)}}function Hg(t,e,n){t.value!==null?n(e,t.value):gz(t,(i,r)=>{const o=new Ae(e.toString()+"/"+i);Hg(r,o,n)})}function gz(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&$t(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=10*1e3,yz=30*1e3,_z=5*60*1e3;class xz{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new vz(e);const i=Hb+(yz-Hb)*Math.random();ul(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;$t(e,(r,o)=>{o>0&&Li(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),ul(this.reportStats_.bind(this),Math.floor(Math.random()*2*_z))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(En||(En={}));function eA(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Sy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ey(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=En.ACK_USER_WRITE,this.source=eA()}operationForChild(e){if(ve(this.path)){if(this.affectedTree.value!=null)return X(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ae(e));return new nh(Ee(),n,this.revert)}}else return X(ge(this.path)===e,"operationForChild called for unrelated child."),new nh(Re(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n){this.source=e,this.path=n,this.type=En.LISTEN_COMPLETE}operationForChild(e){return ve(this.path)?new Jl(this.source,Ee()):new Jl(this.source,Re(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=En.OVERWRITE}operationForChild(e){return ve(this.path)?new ms(this.source,Ee(),this.snap.getImmediateChild(e)):new ms(this.source,Re(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=En.MERGE}operationForChild(e){if(ve(this.path)){const n=this.children.subtree(new Ae(e));return n.isEmpty()?null:n.value?new ms(this.source,Ee(),n.value):new ec(this.source,Ee(),n)}else return X(ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ec(this.source,Re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ve(e))return this.isFullyInitialized()&&!this.filtered_;const n=ge(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function bz(t,e,n,i){const r=[],o=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(hz(a.childName,a.snapshotNode))}),ja(t,r,"child_removed",e,i,n),ja(t,r,"child_added",e,i,n),ja(t,r,"child_moved",o,i,n),ja(t,r,"child_changed",e,i,n),ja(t,r,"value",e,i,n),r}function ja(t,e,n,i,r,o){const a=i.filter(c=>c.type===n);a.sort((c,u)=>Sz(t,c,u)),a.forEach(c=>{const u=Cz(t,c,o);r.forEach(d=>{d.respondsTo(c.type)&&e.push(d.createEvent(u,t.query_))})})}function Cz(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Sz(t,e,n){if(e.childName==null||n.childName==null)throw ra("Should only compare child_ events.");const i=new me(e.childName,e.snapshotNode),r=new me(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t,e){return{eventCache:t,serverCache:e}}function dl(t,e,n,i){return Kh(new gs(e,n,i),t.serverCache)}function tA(t,e,n,i){return Kh(t.eventCache,new gs(e,n,i))}function Kg(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function vs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp;const Ez=()=>(Vp||(Vp=new zt(u7)),Vp);class De{constructor(e,n=Ez()){this.value=e,this.children=n}static fromObject(e){let n=new De(null);return $t(e,(i,r)=>{n=n.set(new Ae(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ee(),value:this.value};if(ve(e))return null;{const i=ge(e),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue(Re(e),n);return o!=null?{path:nt(new Ae(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ve(e))return this;{const n=ge(e),i=this.children.get(n);return i!==null?i.subtree(Re(e)):new De(null)}}set(e,n){if(ve(e))return new De(n,this.children);{const i=ge(e),o=(this.children.get(i)||new De(null)).set(Re(e),n),a=this.children.insert(i,o);return new De(this.value,a)}}remove(e){if(ve(e))return this.children.isEmpty()?new De(null):new De(null,this.children);{const n=ge(e),i=this.children.get(n);if(i){const r=i.remove(Re(e));let o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new De(null):new De(this.value,o)}else return this}}get(e){if(ve(e))return this.value;{const n=ge(e),i=this.children.get(n);return i?i.get(Re(e)):null}}setTree(e,n){if(ve(e))return n;{const i=ge(e),o=(this.children.get(i)||new De(null)).setTree(Re(e),n);let a;return o.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,o),new De(this.value,a)}}fold(e){return this.fold_(Ee(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(nt(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Ee(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(ve(e))return null;{const o=ge(e),a=this.children.get(o);return a?a.findOnPath_(Re(e),nt(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ee(),n)}foreachOnPath_(e,n,i){if(ve(e))return this;{this.value&&i(n,this.value);const r=ge(e),o=this.children.get(r);return o?o.foreachOnPath_(Re(e),nt(n,r),i):new De(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(nt(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.writeTree_=e}static empty(){return new An(new De(null))}}function hl(t,e,n){if(ve(e))return new An(new De(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let o=i.value;const a=Bt(r,e);return o=o.updateChild(a,n),new An(t.writeTree_.set(r,o))}else{const r=new De(n),o=t.writeTree_.setTree(e,r);return new An(o)}}}function Kb(t,e,n){let i=t;return $t(n,(r,o)=>{i=hl(i,nt(e,r),o)}),i}function Zb(t,e){if(ve(e))return An.empty();{const n=t.writeTree_.setTree(e,new De(null));return new An(n)}}function Zg(t,e){return Ss(t,e)!=null}function Ss(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Bt(n.path,e)):null}function qb(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ze,(i,r)=>{e.push(new me(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new me(i,r.value))}),e}function ur(t,e){if(ve(e))return t;{const n=Ss(t,e);return n!=null?new An(new De(n)):new An(t.writeTree_.subtree(e))}}function qg(t){return t.writeTree_.isEmpty()}function Ko(t,e){return nA(Ee(),t.writeTree_,e)}function nA(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(X(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=nA(nt(t,r),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(nt(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t,e){return oA(e,t)}function Pz(t,e,n,i,r){X(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=hl(t.visibleWrites,e,n)),t.lastWriteId=i}function Tz(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function kz(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);X(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,o=!1,a=t.allWrites.length-1;for(;r&&a>=0;){const c=t.allWrites[a];c.visible&&(a>=n&&Az(c,i.path)?r=!1:Sn(i.path,c.path)&&(o=!0)),a--}if(r){if(o)return Nz(t),!0;if(i.snap)t.visibleWrites=Zb(t.visibleWrites,i.path);else{const c=i.children;$t(c,u=>{t.visibleWrites=Zb(t.visibleWrites,nt(i.path,u))})}return!0}else return!1}function Az(t,e){if(t.snap)return Sn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Sn(nt(t.path,n),e))return!0;return!1}function Nz(t){t.visibleWrites=iA(t.allWrites,Iz,Ee()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Iz(t){return t.visible}function iA(t,e,n){let i=An.empty();for(let r=0;r<t.length;++r){const o=t[r];if(e(o)){const a=o.path;let c;if(o.snap)Sn(n,a)?(c=Bt(n,a),i=hl(i,c,o.snap)):Sn(a,n)&&(c=Bt(a,n),i=hl(i,Ee(),o.snap.getChild(c)));else if(o.children){if(Sn(n,a))c=Bt(n,a),i=Kb(i,c,o.children);else if(Sn(a,n))if(c=Bt(a,n),ve(c))i=Kb(i,Ee(),o.children);else{const u=Wo(o.children,ge(c));if(u){const d=u.getChild(Re(c));i=hl(i,Ee(),d)}}}else throw ra("WriteRecord should have .snap or .children")}}return i}function rA(t,e,n,i,r){if(!i&&!r){const o=Ss(t.visibleWrites,e);if(o!=null)return o;{const a=ur(t.visibleWrites,e);if(qg(a))return n;if(n==null&&!Zg(a,Ee()))return null;{const c=n||ce.EMPTY_NODE;return Ko(a,c)}}}else{const o=ur(t.visibleWrites,e);if(!r&&qg(o))return n;if(!r&&n==null&&!Zg(o,Ee()))return null;{const a=function(d){return(d.visible||r)&&(!i||!~i.indexOf(d.writeId))&&(Sn(d.path,e)||Sn(e,d.path))},c=iA(t.allWrites,a,e),u=n||ce.EMPTY_NODE;return Ko(c,u)}}}function Rz(t,e,n){let i=ce.EMPTY_NODE;const r=Ss(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ze,(o,a)=>{i=i.updateImmediateChild(o,a)}),i;if(n){const o=ur(t.visibleWrites,e);return n.forEachChild(Ze,(a,c)=>{const u=Ko(ur(o,new Ae(a)),c);i=i.updateImmediateChild(a,u)}),qb(o).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const o=ur(t.visibleWrites,e);return qb(o).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function Lz(t,e,n,i,r){X(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=nt(e,n);if(Zg(t.visibleWrites,o))return null;{const a=ur(t.visibleWrites,o);return qg(a)?r.getChild(n):Ko(a,r.getChild(n))}}function Mz(t,e,n,i){const r=nt(e,n),o=Ss(t.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){const a=ur(t.visibleWrites,r);return Ko(a,i.getNode().getImmediateChild(n))}else return null}function Oz(t,e){return Ss(t.visibleWrites,e)}function Dz(t,e,n,i,r,o,a){let c;const u=ur(t.visibleWrites,e),d=Ss(u,Ee());if(d!=null)c=d;else if(n!=null)c=Ko(u,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){const f=[],p=a.getCompare(),m=o?c.getReverseIteratorFrom(i,a):c.getIteratorFrom(i,a);let v=m.getNext();for(;v&&f.length<r;)p(v,i)!==0&&f.push(v),v=m.getNext();return f}else return[]}function jz(){return{visibleWrites:An.empty(),allWrites:[],lastWriteId:-1}}function ih(t,e,n,i){return rA(t.writeTree,t.treePath,e,n,i)}function Ty(t,e){return Rz(t.writeTree,t.treePath,e)}function Gb(t,e,n,i){return Lz(t.writeTree,t.treePath,e,n,i)}function rh(t,e){return Oz(t.writeTree,nt(t.treePath,e))}function Fz(t,e,n,i,r,o){return Dz(t.writeTree,t.treePath,e,n,i,r,o)}function ky(t,e,n){return Mz(t.writeTree,t.treePath,e,n)}function sA(t,e){return oA(nt(t.treePath,e),t.writeTree)}function oA(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;X(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),X(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,Ql(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,Yl(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,Ho(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,Ql(i,e.snapshotNode,r.oldSnap));else throw ra("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const aA=new zz;class Ay{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new gs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ky(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:vs(this.viewCache_),o=Fz(this.writes_,r,n,1,i,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(t){return{filter:t}}function Uz(t,e){X(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),X(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Wz(t,e,n,i,r){const o=new Bz;let a,c;if(n.type===En.OVERWRITE){const d=n;d.source.fromUser?a=Gg(t,e,d.path,d.snap,i,r,o):(X(d.source.fromServer,"Unknown source."),c=d.source.tagged||e.serverCache.isFiltered()&&!ve(d.path),a=sh(t,e,d.path,d.snap,i,r,c,o))}else if(n.type===En.MERGE){const d=n;d.source.fromUser?a=Hz(t,e,d.path,d.children,i,r,o):(X(d.source.fromServer,"Unknown source."),c=d.source.tagged||e.serverCache.isFiltered(),a=Yg(t,e,d.path,d.children,i,r,c,o))}else if(n.type===En.ACK_USER_WRITE){const d=n;d.revert?a=qz(t,e,d.path,i,r,o):a=Kz(t,e,d.path,d.affectedTree,i,r,o)}else if(n.type===En.LISTEN_COMPLETE)a=Zz(t,e,n.path,i,o);else throw ra("Unknown operation type: "+n.type);const u=o.getChanges();return $z(e,a,u),{viewCache:a,changes:u}}function $z(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Kg(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(Xk(Kg(e)))}}function lA(t,e,n,i,r,o){const a=e.eventCache;if(rh(i,n)!=null)return e;{let c,u;if(ve(n))if(X(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=vs(e),f=d instanceof ce?d:ce.EMPTY_NODE,p=Ty(i,f);c=t.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{const d=ih(i,vs(e));c=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const d=ge(n);if(d===".priority"){X(Cr(n)===1,"Can't have a priority with additional path components");const f=a.getNode();u=e.serverCache.getNode();const p=Gb(i,n,f,u);p!=null?c=t.filter.updatePriority(f,p):c=a.getNode()}else{const f=Re(n);let p;if(a.isCompleteForChild(d)){u=e.serverCache.getNode();const m=Gb(i,n,a.getNode(),u);m!=null?p=a.getNode().getImmediateChild(d).updateChild(f,m):p=a.getNode().getImmediateChild(d)}else p=ky(i,d,e.serverCache);p!=null?c=t.filter.updateChild(a.getNode(),d,p,f,r,o):c=a.getNode()}}return dl(e,c,a.isFullyInitialized()||ve(n),t.filter.filtersNodes())}}function sh(t,e,n,i,r,o,a,c){const u=e.serverCache;let d;const f=a?t.filter:t.filter.getIndexedFilter();if(ve(n))d=f.updateFullNode(u.getNode(),i,null);else if(f.filtersNodes()&&!u.isFiltered()){const v=u.getNode().updateChild(n,i);d=f.updateFullNode(u.getNode(),v,null)}else{const v=ge(n);if(!u.isCompleteForPath(n)&&Cr(n)>1)return e;const C=Re(n),E=u.getNode().getImmediateChild(v).updateChild(C,i);v===".priority"?d=f.updatePriority(u.getNode(),E):d=f.updateChild(u.getNode(),v,E,C,aA,null)}const p=tA(e,d,u.isFullyInitialized()||ve(n),f.filtersNodes()),m=new Ay(r,p,o);return lA(t,p,n,r,m,c)}function Gg(t,e,n,i,r,o,a){const c=e.eventCache;let u,d;const f=new Ay(r,e,o);if(ve(n))d=t.filter.updateFullNode(e.eventCache.getNode(),i,a),u=dl(e,d,!0,t.filter.filtersNodes());else{const p=ge(n);if(p===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),i),u=dl(e,d,c.isFullyInitialized(),c.isFiltered());else{const m=Re(n),v=c.getNode().getImmediateChild(p);let C;if(ve(m))C=i;else{const _=f.getCompleteChild(p);_!=null?Wk(m)===".priority"&&_.getChild(Hk(m)).isEmpty()?C=_:C=_.updateChild(m,i):C=ce.EMPTY_NODE}if(v.equals(C))u=e;else{const _=t.filter.updateChild(c.getNode(),p,C,m,f,a);u=dl(e,_,c.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function Yb(t,e){return t.eventCache.isCompleteForChild(e)}function Hz(t,e,n,i,r,o,a){let c=e;return i.foreach((u,d)=>{const f=nt(n,u);Yb(e,ge(f))&&(c=Gg(t,c,f,d,r,o,a))}),i.foreach((u,d)=>{const f=nt(n,u);Yb(e,ge(f))||(c=Gg(t,c,f,d,r,o,a))}),c}function Qb(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Yg(t,e,n,i,r,o,a,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,d;ve(n)?d=i:d=new De(null).setTree(n,i);const f=e.serverCache.getNode();return d.children.inorderTraversal((p,m)=>{if(f.hasChild(p)){const v=e.serverCache.getNode().getImmediateChild(p),C=Qb(t,v,m);u=sh(t,u,new Ae(p),C,r,o,a,c)}}),d.children.inorderTraversal((p,m)=>{const v=!e.serverCache.isCompleteForChild(p)&&m.value===null;if(!f.hasChild(p)&&!v){const C=e.serverCache.getNode().getImmediateChild(p),_=Qb(t,C,m);u=sh(t,u,new Ae(p),_,r,o,a,c)}}),u}function Kz(t,e,n,i,r,o,a){if(rh(r,n)!=null)return e;const c=e.serverCache.isFiltered(),u=e.serverCache;if(i.value!=null){if(ve(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return sh(t,e,n,u.getNode().getChild(n),r,o,c,a);if(ve(n)){let d=new De(null);return u.getNode().forEachChild(ko,(f,p)=>{d=d.set(new Ae(f),p)}),Yg(t,e,n,d,r,o,c,a)}else return e}else{let d=new De(null);return i.foreach((f,p)=>{const m=nt(n,f);u.isCompleteForPath(m)&&(d=d.set(f,u.getNode().getChild(m)))}),Yg(t,e,n,d,r,o,c,a)}}function Zz(t,e,n,i,r){const o=e.serverCache,a=tA(e,o.getNode(),o.isFullyInitialized()||ve(n),o.isFiltered());return lA(t,a,n,i,aA,r)}function qz(t,e,n,i,r,o){let a;if(rh(i,n)!=null)return e;{const c=new Ay(i,e,r),u=e.eventCache.getNode();let d;if(ve(n)||ge(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=ih(i,vs(e));else{const p=e.serverCache.getNode();X(p instanceof ce,"serverChildren would be complete if leaf node"),f=Ty(i,p)}f=f,d=t.filter.updateFullNode(u,f,o)}else{const f=ge(n);let p=ky(i,f,e.serverCache);p==null&&e.serverCache.isCompleteForChild(f)&&(p=u.getImmediateChild(f)),p!=null?d=t.filter.updateChild(u,f,p,Re(n),c,o):e.eventCache.getNode().hasChild(f)?d=t.filter.updateChild(u,f,ce.EMPTY_NODE,Re(n),c,o):d=u,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=ih(i,vs(e)),a.isLeafNode()&&(d=t.filter.updateFullNode(d,a,o)))}return a=e.serverCache.isFullyInitialized()||rh(i,Ee())!=null,dl(e,d,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new by(i.getIndex()),o=pz(i);this.processor_=Vz(o);const a=n.serverCache,c=n.eventCache,u=r.updateFullNode(ce.EMPTY_NODE,a.getNode(),null),d=o.updateFullNode(ce.EMPTY_NODE,c.getNode(),null),f=new gs(u,a.isFullyInitialized(),r.filtersNodes()),p=new gs(d,c.isFullyInitialized(),o.filtersNodes());this.viewCache_=Kh(p,f),this.eventGenerator_=new wz(this.query_)}get query(){return this.query_}}function Yz(t){return t.viewCache_.serverCache.getNode()}function Qz(t,e){const n=vs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ve(e)&&!n.getImmediateChild(ge(e)).isEmpty())?n.getChild(e):null}function Xb(t){return t.eventRegistrations_.length===0}function Xz(t,e){t.eventRegistrations_.push(e)}function Jb(t,e,n){const i=[];if(n){X(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(o=>{const a=o.createCancelEvent(n,r);a&&i.push(a)})}if(e){let r=[];for(let o=0;o<t.eventRegistrations_.length;++o){const a=t.eventRegistrations_[o];if(!a.matches(e))r.push(a);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function eC(t,e,n,i){e.type===En.MERGE&&e.source.queryId!==null&&(X(vs(t.viewCache_),"We should always have a full cache before handling merges"),X(Kg(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,o=Wz(t.processor_,r,e,n,i);return Uz(t.processor_,o.viewCache),X(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,cA(t,o.changes,o.viewCache.eventCache.getNode(),null)}function Jz(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ze,(o,a)=>{i.push(Ho(o,a))}),n.isFullyInitialized()&&i.push(Xk(n.getNode())),cA(t,i,n.getNode(),e)}function cA(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return bz(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh;class eV{constructor(){this.views=new Map}}function tV(t){X(!oh,"__referenceConstructor has already been defined"),oh=t}function nV(){return X(oh,"Reference.ts has not been loaded"),oh}function iV(t){return t.views.size===0}function Ny(t,e,n,i){const r=e.source.queryId;if(r!==null){const o=t.views.get(r);return X(o!=null,"SyncTree gave us an op for an invalid query."),eC(o,e,n,i)}else{let o=[];for(const a of t.views.values())o=o.concat(eC(a,e,n,i));return o}}function rV(t,e,n,i,r){const o=e._queryIdentifier,a=t.views.get(o);if(!a){let c=ih(n,r?i:null),u=!1;c?u=!0:i instanceof ce?(c=Ty(n,i),u=!1):(c=ce.EMPTY_NODE,u=!1);const d=Kh(new gs(c,u,!1),new gs(i,r,!1));return new Gz(e,d)}return a}function sV(t,e,n,i,r,o){const a=rV(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),Xz(a,n),Jz(a,n)}function oV(t,e,n,i){const r=e._queryIdentifier,o=[];let a=[];const c=Sr(t);if(r==="default")for(const[u,d]of t.views.entries())a=a.concat(Jb(d,n,i)),Xb(d)&&(t.views.delete(u),d.query._queryParams.loadsAllData()||o.push(d.query));else{const u=t.views.get(r);u&&(a=a.concat(Jb(u,n,i)),Xb(u)&&(t.views.delete(r),u.query._queryParams.loadsAllData()||o.push(u.query)))}return c&&!Sr(t)&&o.push(new(nV())(e._repo,e._path)),{removed:o,events:a}}function uA(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ao(t,e){let n=null;for(const i of t.views.values())n=n||Qz(i,e);return n}function dA(t,e){if(e._queryParams.loadsAllData())return Zh(t);{const i=e._queryIdentifier;return t.views.get(i)}}function hA(t,e){return dA(t,e)!=null}function Sr(t){return Zh(t)!=null}function Zh(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah;function aV(t){X(!ah,"__referenceConstructor has already been defined"),ah=t}function lV(){return X(ah,"Reference.ts has not been loaded"),ah}let cV=1;class tC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new De(null),this.pendingWriteTree_=jz(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uV(t,e,n,i,r){return Pz(t.pendingWriteTree_,e,n,i,r),r?bc(t,new ms(eA(),e,n)):[]}function fo(t,e,n=!1){const i=Tz(t.pendingWriteTree_,e);if(kz(t.pendingWriteTree_,e)){let o=new De(null);return i.snap!=null?o=o.set(Ee(),!0):$t(i.children,a=>{o=o.set(new Ae(a),!0)}),bc(t,new nh(i.path,o,n))}else return[]}function qh(t,e,n){return bc(t,new ms(Sy(),e,n))}function dV(t,e,n){const i=De.fromObject(n);return bc(t,new ec(Sy(),e,i))}function hV(t,e){return bc(t,new Jl(Sy(),e))}function fV(t,e,n){const i=Iy(t,n);if(i){const r=Ry(i),o=r.path,a=r.queryId,c=Bt(o,e),u=new Jl(Ey(a),c);return Ly(t,o,u)}else return[]}function Qg(t,e,n,i,r=!1){const o=e._path,a=t.syncPointTree_.get(o);let c=[];if(a&&(e._queryIdentifier==="default"||hA(a,e))){const u=oV(a,e,n,i);iV(a)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const d=u.removed;if(c=u.events,!r){const f=d.findIndex(m=>m._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(o,(m,v)=>Sr(v));if(f&&!p){const m=t.syncPointTree_.subtree(o);if(!m.isEmpty()){const v=gV(m);for(let C=0;C<v.length;++C){const _=v[C],E=_.query,w=gA(t,_);t.listenProvider_.startListening(fl(E),lh(t,E),w.hashFn,w.onComplete)}}}!p&&d.length>0&&!i&&(f?t.listenProvider_.stopListening(fl(e),null):d.forEach(m=>{const v=t.queryToTagMap.get(Gh(m));t.listenProvider_.stopListening(fl(m),v)}))}vV(t,d)}return c}function pV(t,e,n,i){const r=Iy(t,i);if(r!=null){const o=Ry(r),a=o.path,c=o.queryId,u=Bt(a,e),d=new ms(Ey(c),u,n);return Ly(t,a,d)}else return[]}function mV(t,e,n,i){const r=Iy(t,i);if(r){const o=Ry(r),a=o.path,c=o.queryId,u=Bt(a,e),d=De.fromObject(n),f=new ec(Ey(c),u,d);return Ly(t,a,f)}else return[]}function nC(t,e,n,i=!1){const r=e._path;let o=null,a=!1;t.syncPointTree_.foreachOnPath(r,(m,v)=>{const C=Bt(m,r);o=o||Ao(v,C),a=a||Sr(v)});let c=t.syncPointTree_.get(r);c?(a=a||Sr(c),o=o||Ao(c,Ee())):(c=new eV,t.syncPointTree_=t.syncPointTree_.set(r,c));let u;o!=null?u=!0:(u=!1,o=ce.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((v,C)=>{const _=Ao(C,Ee());_&&(o=o.updateImmediateChild(v,_))}));const d=hA(c,e);if(!d&&!e._queryParams.loadsAllData()){const m=Gh(e);X(!t.queryToTagMap.has(m),"View does not exist, but we have a tag");const v=yV();t.queryToTagMap.set(m,v),t.tagToQueryMap.set(v,m)}const f=Py(t.pendingWriteTree_,r);let p=sV(c,e,n,f,o,u);if(!d&&!a&&!i){const m=dA(c,e);p=p.concat(_V(t,e,m))}return p}function fA(t,e,n){const r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(a,c)=>{const u=Bt(a,e),d=Ao(c,u);if(d)return d});return rA(r,e,o,n,!0)}function bc(t,e){return pA(e,t.syncPointTree_,null,Py(t.pendingWriteTree_,Ee()))}function pA(t,e,n,i){if(ve(t.path))return mA(t,e,n,i);{const r=e.get(Ee());n==null&&r!=null&&(n=Ao(r,Ee()));let o=[];const a=ge(t.path),c=t.operationForChild(a),u=e.children.get(a);if(u&&c){const d=n?n.getImmediateChild(a):null,f=sA(i,a);o=o.concat(pA(c,u,d,f))}return r&&(o=o.concat(Ny(r,t,i,n))),o}}function mA(t,e,n,i){const r=e.get(Ee());n==null&&r!=null&&(n=Ao(r,Ee()));let o=[];return e.children.inorderTraversal((a,c)=>{const u=n?n.getImmediateChild(a):null,d=sA(i,a),f=t.operationForChild(a);f&&(o=o.concat(mA(f,c,u,d)))}),r&&(o=o.concat(Ny(r,t,i,n))),o}function gA(t,e){const n=e.query,i=lh(t,n);return{hashFn:()=>(Yz(e)||ce.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?fV(t,n._path,i):hV(t,n._path);{const o=f7(r,n);return Qg(t,n,null,o)}}}}function lh(t,e){const n=Gh(e);return t.queryToTagMap.get(n)}function Gh(t){return t._path.toString()+"$"+t._queryIdentifier}function Iy(t,e){return t.tagToQueryMap.get(e)}function Ry(t){const e=t.indexOf("$");return X(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ae(t.substr(0,e))}}function Ly(t,e,n){const i=t.syncPointTree_.get(e);X(i,"Missing sync point for query tag that we're tracking");const r=Py(t.pendingWriteTree_,e);return Ny(i,n,r,null)}function gV(t){return t.fold((e,n,i)=>{if(n&&Sr(n))return[Zh(n)];{let r=[];return n&&(r=uA(n)),$t(i,(o,a)=>{r=r.concat(a)}),r}})}function fl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(lV())(t._repo,t._path):t}function vV(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=Gh(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}function yV(){return cV++}function _V(t,e,n){const i=e._path,r=lh(t,e),o=gA(t,n),a=t.listenProvider_.startListening(fl(e),r,o.hashFn,o.onComplete),c=t.syncPointTree_.subtree(i);if(r)X(!Sr(c.value),"If we're adding a query, it shouldn't be shadowed");else{const u=c.fold((d,f,p)=>{if(!ve(d)&&f&&Sr(f))return[Zh(f).query];{let m=[];return f&&(m=m.concat(uA(f).map(v=>v.query))),$t(p,(v,C)=>{m=m.concat(C)}),m}});for(let d=0;d<u.length;++d){const f=u[d];t.listenProvider_.stopListening(fl(f),lh(t,f))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new My(n)}node(){return this.node_}}class Oy{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=nt(this.path_,e);return new Oy(this.syncTree_,n)}node(){return fA(this.syncTree_,this.path_)}}const xV=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},iC=function(t,e,n){if(!t||typeof t!="object")return t;if(X(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return wV(t[".sv"],e,n);if(typeof t[".sv"]=="object")return bV(t[".sv"],e);X(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},wV=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:X(!1,"Unexpected server value: "+t)}},bV=function(t,e,n){t.hasOwnProperty("increment")||X(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&X(!1,"Unexpected increment value: "+i);const r=e.node();if(X(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return typeof a!="number"?i:a+i},CV=function(t,e,n,i){return Dy(e,new Oy(n,t),i)},SV=function(t,e,n){return Dy(t,new My(e),n)};function Dy(t,e,n){const i=t.getPriority().val(),r=iC(i,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const a=t,c=iC(a.getValue(),e,n);return c!==a.getValue()||r!==a.getPriority().val()?new at(c,Ct(r)):t}else{const a=t;return o=a,r!==a.getPriority().val()&&(o=o.updatePriority(new at(r))),a.forEachChild(Ze,(c,u)=>{const d=Dy(u,e.getImmediateChild(c),n);d!==u&&(o=o.updateImmediateChild(c,d))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Fy(t,e){let n=e instanceof Ae?e:new Ae(e),i=t,r=ge(n);for(;r!==null;){const o=Wo(i.node.children,r)||{children:{},childCount:0};i=new jy(r,i,o),n=Re(n),r=ge(n)}return i}function oa(t){return t.node.value}function vA(t,e){t.node.value=e,Xg(t)}function yA(t){return t.node.childCount>0}function EV(t){return oa(t)===void 0&&!yA(t)}function Yh(t,e){$t(t.node.children,(n,i)=>{e(new jy(n,t,i))})}function _A(t,e,n,i){n&&!i&&e(t),Yh(t,r=>{_A(r,e,!0,i)}),n&&i&&e(t)}function PV(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Cc(t){return new Ae(t.parent===null?t.name:Cc(t.parent)+"/"+t.name)}function Xg(t){t.parent!==null&&TV(t.parent,t.name,t)}function TV(t,e,n){const i=EV(n),r=Li(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Xg(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,Xg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=/[\[\].#$\/\u0000-\u001F\u007F]/,AV=/[\[\].#$\u0000-\u001F\u007F]/,Up=10*1024*1024,xA=function(t){return typeof t=="string"&&t.length!==0&&!kV.test(t)},wA=function(t){return typeof t=="string"&&t.length!==0&&!AV.test(t)},NV=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),wA(t)},bA=function(t,e,n){const i=n instanceof Ae?new K7(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Hr(i));if(typeof e=="function")throw new Error(t+"contains a function "+Hr(i)+" with contents = "+e.toString());if(bk(e))throw new Error(t+"contains "+e.toString()+" "+Hr(i));if(typeof e=="string"&&e.length>Up/3&&Wh(e)>Up)throw new Error(t+"contains a string greater than "+Up+" utf8 bytes "+Hr(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if($t(e,(a,c)=>{if(a===".value")r=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!xA(a)))throw new Error(t+" contains an invalid key ("+a+") "+Hr(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Z7(i,a),bA(t,c,i),q7(i)}),r&&o)throw new Error(t+' contains ".value" child '+Hr(i)+" in addition to actual children.")}},CA=function(t,e,n,i){if(!wA(n))throw new Error(hk(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IV=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),CA(t,e,n)},RV=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!xA(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!NV(n))throw new Error(hk(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function SA(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();n!==null&&!_y(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function EA(t,e,n){SA(t,n),PA(t,i=>_y(i,e))}function Es(t,e,n){SA(t,n),PA(t,i=>Sn(i,e)||Sn(e,i))}function PA(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const o=r.path;e(o)?(MV(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function MV(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();cl&&bt("event: "+n.toString()),xc(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV="repo_interrupt",DV=25;class jV{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new LV,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=th(),this.transactionQueueTree_=new jy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function FV(t,e,n){if(t.stats_=vy(t.repoInfo_),t.forceRestClient_||v7())t.server_=new eh(t.repoInfo_,(i,r,o,a)=>{rC(t,i,r,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>sC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ut(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new wi(t.repoInfo_,e,(i,r,o,a)=>{rC(t,i,r,o,a)},i=>{sC(t,i)},i=>{zV(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=b7(t.repoInfo_,()=>new xz(t.stats_,t.server_)),t.infoData_=new mz,t.infoSyncTree_=new tC({startListening:(i,r,o,a)=>{let c=[];const u=t.infoData_.getNode(i._path);return u.isEmpty()||(c=qh(t.infoSyncTree_,i._path,u),setTimeout(()=>{a("ok")},0)),c},stopListening:()=>{}}),By(t,"connected",!1),t.serverSyncTree_=new tC({startListening:(i,r,o,a)=>(t.server_.listen(i,o,r,(c,u)=>{const d=a(c,u);Es(t.eventQueue_,i._path,d)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function BV(t){const n=t.infoData_.getNode(new Ae(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function TA(t){return xV({timestamp:BV(t)})}function rC(t,e,n,i,r){t.dataUpdateCount++;const o=new Ae(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(r)if(i){const u=qd(n,d=>Ct(d));a=mV(t.serverSyncTree_,o,u,r)}else{const u=Ct(n);a=pV(t.serverSyncTree_,o,u,r)}else if(i){const u=qd(n,d=>Ct(d));a=dV(t.serverSyncTree_,o,u)}else{const u=Ct(n);a=qh(t.serverSyncTree_,o,u)}let c=o;a.length>0&&(c=Vy(t,o)),Es(t.eventQueue_,c,a)}function sC(t,e){By(t,"connected",e),e===!1&&UV(t)}function zV(t,e){$t(e,(n,i)=>{By(t,n,i)})}function By(t,e,n){const i=new Ae("/.info/"+e),r=Ct(n);t.infoData_.updateSnapshot(i,r);const o=qh(t.infoSyncTree_,i,r);Es(t.eventQueue_,i,o)}function VV(t){return t.nextWriteId_++}function UV(t){kA(t,"onDisconnectEvents");const e=TA(t),n=th();Hg(t.onDisconnect_,Ee(),(r,o)=>{const a=CV(r,o,t.serverSyncTree_,e);Jk(n,r,a)});let i=[];Hg(n,Ee(),(r,o)=>{i=i.concat(qh(t.serverSyncTree_,r,o));const a=qV(t,r);Vy(t,a)}),t.onDisconnect_=th(),Es(t.eventQueue_,Ee(),i)}function WV(t,e,n){let i;ge(e._path)===".info"?i=nC(t.infoSyncTree_,e,n):i=nC(t.serverSyncTree_,e,n),EA(t.eventQueue_,e._path,i)}function $V(t,e,n){let i;ge(e._path)===".info"?i=Qg(t.infoSyncTree_,e,n):i=Qg(t.serverSyncTree_,e,n),EA(t.eventQueue_,e._path,i)}function HV(t){t.persistentConnection_&&t.persistentConnection_.interrupt(OV)}function kA(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),bt(n,...e)}function AA(t,e,n){return fA(t.serverSyncTree_,e,n)||ce.EMPTY_NODE}function zy(t,e=t.transactionQueueTree_){if(e||Qh(t,e),oa(e)){const n=IA(t,e);X(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&KV(t,Cc(e),n)}else yA(e)&&Yh(e,n=>{zy(t,n)})}function KV(t,e,n){const i=n.map(d=>d.currentWriteId),r=AA(t,e,i);let o=r;const a=r.hash();for(let d=0;d<n.length;d++){const f=n[d];X(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const p=Bt(e,f.path);o=o.updateChild(p,f.currentOutputSnapshotRaw)}const c=o.val(!0),u=e;t.server_.put(u.toString(),c,d=>{kA(t,"transaction put response",{path:u.toString(),status:d});let f=[];if(d==="ok"){const p=[];for(let m=0;m<n.length;m++)n[m].status=2,f=f.concat(fo(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&p.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();Qh(t,Fy(t.transactionQueueTree_,e)),zy(t,t.transactionQueueTree_),Es(t.eventQueue_,e,f);for(let m=0;m<p.length;m++)xc(p[m])}else{if(d==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Qt("transaction at "+u.toString()+" failed: "+d);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=d}Vy(t,e)}},a)}function Vy(t,e){const n=NA(t,e),i=Cc(n),r=IA(t,n);return ZV(t,r,i),i}function ZV(t,e,n){if(e.length===0)return;const i=[];let r=[];const a=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const u=e[c],d=Bt(n,u.path);let f=!1,p;if(X(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)f=!0,p=u.abortReason,r=r.concat(fo(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=DV)f=!0,p="maxretry",r=r.concat(fo(t.serverSyncTree_,u.currentWriteId,!0));else{const m=AA(t,u.path,a);u.currentInputSnapshot=m;const v=e[c].update(m.val());if(v!==void 0){bA("transaction failed: Data returned ",v,u.path);let C=Ct(v);typeof v=="object"&&v!=null&&Li(v,".priority")||(C=C.updatePriority(m.getPriority()));const E=u.currentWriteId,w=TA(t),x=SV(C,m,w);u.currentOutputSnapshotRaw=C,u.currentOutputSnapshotResolved=x,u.currentWriteId=VV(t),a.splice(a.indexOf(E),1),r=r.concat(uV(t.serverSyncTree_,u.path,x,u.currentWriteId,u.applyLocally)),r=r.concat(fo(t.serverSyncTree_,E,!0))}else f=!0,p="nodata",r=r.concat(fo(t.serverSyncTree_,u.currentWriteId,!0))}Es(t.eventQueue_,n,r),r=[],f&&(e[c].status=2,function(m){setTimeout(m,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(p==="nodata"?i.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):i.push(()=>e[c].onComplete(new Error(p),!1,null))))}Qh(t,t.transactionQueueTree_);for(let c=0;c<i.length;c++)xc(i[c]);zy(t,t.transactionQueueTree_)}function NA(t,e){let n,i=t.transactionQueueTree_;for(n=ge(e);n!==null&&oa(i)===void 0;)i=Fy(i,n),e=Re(e),n=ge(e);return i}function IA(t,e){const n=[];return RA(t,e,n),n.sort((i,r)=>i.order-r.order),n}function RA(t,e,n){const i=oa(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Yh(e,r=>{RA(t,r,n)})}function Qh(t,e){const n=oa(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,vA(e,n.length>0?n:void 0)}Yh(e,i=>{Qh(t,i)})}function qV(t,e){const n=Cc(NA(t,e)),i=Fy(t.transactionQueueTree_,e);return PV(i,r=>{Wp(t,r)}),Wp(t,i),_A(i,r=>{Wp(t,r)}),n}function Wp(t,e){const n=oa(e);if(n){const i=[];let r=[],o=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(X(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(X(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),r=r.concat(fo(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?vA(e,void 0):n.length=o+1,Es(t.eventQueue_,Cc(e),r);for(let a=0;a<i.length;a++)xc(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function YV(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Qt(`Invalid query segment '${n}' in query '${t}'`)}return e}const oC=function(t,e){const n=QV(t),i=n.namespace;n.domain==="firebase.com"&&Ni(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Ni("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||l7();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Mk(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new Ae(n.pathString)}},QV=function(t){let e="",n="",i="",r="",o="",a=!0,c="https",u=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(c=t.substring(0,d-1),t=t.substring(d+2));let f=t.indexOf("/");f===-1&&(f=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(r=GV(t.substring(f,p)));const m=YV(t.substring(Math.min(t.length,p)));d=e.indexOf(":"),d>=0?(a=c==="https"||c==="wss",u=parseInt(e.substring(d+1),10)):d=e.length;const v=e.slice(0,d);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const C=e.indexOf(".");i=e.substring(0,C).toLowerCase(),n=e.substring(C+1),o=i}"ns"in m&&(o=m.ns)}return{host:e,port:u,domain:n,subdomain:i,secure:a,scheme:c,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ut(this.snapshot.exportVal())}}class JV{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return X(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return ve(this._path)?null:Wk(this._path)}get ref(){return new Rr(this._repo,this._path)}get _queryIdentifier(){const e=$b(this._queryParams),n=my(e);return n==="{}"?"default":n}get _queryObject(){return $b(this._queryParams)}isEqual(e){if(e=$h(e),!(e instanceof Uy))return!1;const n=this._repo===e._repo,i=_y(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+H7(this._path)}}class Rr extends Uy{constructor(e,n){super(e,n,new Cy,!1)}get parent(){const e=Hk(this._path);return e===null?null:new Rr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ch{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ae(e),i=Jg(this.ref,e);return new ch(this._node.getChild(n),i,Ze)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new ch(r,Jg(this.ref,i),Ze)))}hasChild(e){const n=new Ae(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function tU(t,e){return t=$h(t),t._checkNotDeleted("ref"),Jg(t._root,e)}function Jg(t,e){return t=$h(t),ge(t._path)===null?IV("child","path",e):CA("child","path",e),new Rr(t._repo,nt(t._path,e))}class Wy{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new XV("value",this,new ch(e.snapshotNode,new Rr(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new JV(this,e,n):null}matches(e){return e instanceof Wy?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function nU(t,e,n,i,r){const o=new eU(n,void 0),a=new Wy(o);return WV(t._repo,t,a),()=>$V(t._repo,t,a)}function iU(t,e,n,i){return nU(t,"value",e)}tV(Rr);aV(Rr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU="FIREBASE_DATABASE_EMULATOR_HOST",e0={};let sU=!1;function oU(t,e,n,i){t.repoInfo_=new Mk(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function aU(t,e,n,i,r){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||Ni("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bt("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=oC(o,r),c=a.repoInfo,u;typeof process<"u"&&Pb&&(u=Pb[rU]),u?(o=`http://${u}?ns=${c.namespace}`,a=oC(o,r),c=a.repoInfo):a.repoInfo.secure;const d=new _7(t.name,t.options,e);RV("Invalid Firebase Database URL",a),ve(a.path)||Ni("Database URL must point to the root of a Firebase Database (not including a child path).");const f=cU(c,t,d,new y7(t.name,n));return new uU(f,t)}function lU(t,e){const n=e0[e];(!n||n[t.key]!==t)&&Ni(`Database ${e}(${t.repoInfo_}) has already been deleted.`),HV(t),delete n[t.key]}function cU(t,e,n,i){let r=e0[e.name];r||(r={},e0[e.name]=r);let o=r[t.toURLString()];return o&&Ni("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new jV(t,sU,n,i),r[t.toURLString()]=o,o}class uU{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(FV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rr(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(lU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ni("Cannot call "+e+" on a deleted database.")}}function dU(t=KB(),e){const n=UB(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=RF("database");i&&hU(n,...i)}return n}function hU(t,e,n,i={}){t=$h(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ni("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Ni('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ed(ed.OWNER);else if(i.mockUserToken){const a=typeof i.mockUserToken=="string"?i.mockUserToken:LF(i.mockUserToken,t.app.options.projectId);o=new ed(a)}oU(r,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t){n7(HB),Yd(new Zl("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return aU(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),Po(Tb,kb,t),Po(Tb,kb,"esm2017")}wi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};wi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};fU();var pU="firebase",mU="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Po(pU,mU,"app");const gU={apiKey:"AIzaSyAdqTa5ScOEyMtiVtwNyDkiIQSop0e9ZlY",authDomain:"sb-alpine-tours.firebaseapp.com",projectId:"sb-alpine-tours",databaseURL:"https://sb-alpine-tours-default-rtdb.firebaseio.com",storageBucket:"sb-alpine-tours.firebasestorage.app",messagingSenderId:"820077641021",appId:"1:820077641021:web:9d7224ce64e6bdbccb1954"},vU=gk(gU),yU=dU(vU),_U=t=>{const e=tU(yU,"/");return iU(e,n=>{const i=n.val();if(i){const r=Object.entries(i).map(([o,a])=>({id:o,...a}));t(r)}else t([])})};function xU(){const[t,e]=T.useState([]),[n,i]=T.useState(!0),[r,o]=T.useState(null);return T.useEffect(()=>{try{const a=_U(c=>{e(c),i(!1)});return()=>a()}catch{o("Error loading resorts"),i(!1)}},[]),n?b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-pulse",children:[...Array(6)].map((a,c)=>b.jsx("div",{className:"h-64 bg-white/10 rounded-lg"},c))}):r?b.jsx("div",{className:"text-center p-8",children:b.jsx("p",{className:"text-red-200",children:r})}):t.length===0?b.jsx("div",{className:"text-center p-8",children:b.jsx("p",{className:"text-white/60",children:"No resorts found"})}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(a=>b.jsx(bF,{resort:a},a.id))})}function wU(){const t=xs();return b.jsxs("div",{className:"min-h-screen p-4 space-y-6",children:[b.jsxs("div",{className:"flex justify-between items-center mb-8",children:[b.jsx("h1",{className:"text-3xl font-bold text-white",children:"Ski Resorts"}),b.jsxs("button",{onClick:()=>t("/results"),className:"flex items-center space-x-2 px-4 py-2 bg-white text-blue-900 rounded-lg hover:bg-blue-50 transition-colors",children:[b.jsx(z2,{className:"w-5 h-5"}),b.jsx("span",{children:"Map View"})]})]}),b.jsx(xU,{})]})}function bU(){return b.jsxs("div",{className:"p-4 max-w-lg mx-auto",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsxs("div",{className:"relative inline-block",children:[b.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 flex items-center justify-center mb-4 mx-auto",children:b.jsx(z1,{className:"w-8 h-8 text-white/60"})}),b.jsx("button",{className:"absolute bottom-0 right-0 bg-white text-blue-900 rounded-full p-2",children:b.jsx(z1,{className:"w-4 h-4"})})]}),b.jsx("h1",{className:"text-2xl font-bold text-white",children:"John Doe"}),b.jsx("p",{className:"text-white/60",children:"Ski Enthusiast"})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[b.jsxs("div",{className:"flex items-center space-x-3 text-white mb-2",children:[b.jsx($v,{className:"w-5 h-5"}),b.jsx("span",{children:"Email"})]}),b.jsx("p",{className:"text-white/80 pl-8",children:"john.doe@example.com"})]}),b.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[b.jsxs("div",{className:"flex items-center space-x-3 text-white mb-2",children:[b.jsx(u6,{className:"w-5 h-5"}),b.jsx("span",{children:"Phone"})]}),b.jsx("p",{className:"text-white/80 pl-8",children:"+1 (555) 123-4567"})]}),b.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[b.jsxs("div",{className:"flex items-center space-x-3 text-white mb-2",children:[b.jsx(pc,{className:"w-5 h-5"}),b.jsx("span",{children:"Location"})]}),b.jsx("p",{className:"text-white/80 pl-8",children:"Denver, Colorado"})]})]}),b.jsx("button",{className:"w-full mt-8 bg-white text-blue-900 rounded-lg py-3 font-semibold hover:bg-blue-50 transition-colors",children:"Edit Profile"})]})}const CU=[{category:"Preferences",items:[{id:"notifications",label:"Notifications",icon:e6},{id:"darkMode",label:"Dark Mode",icon:V2},{id:"language",label:"Language",icon:o6}]},{category:"Privacy & Security",items:[{id:"privacy",label:"Privacy Settings",icon:V1},{id:"security",label:"Security",icon:V1}]}];function SU(){return b.jsxs("div",{className:"p-4 max-w-lg mx-auto",children:[b.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Settings"}),b.jsx("div",{className:"space-y-6",children:CU.map(t=>b.jsxs("div",{children:[b.jsx("h2",{className:"text-white/80 text-sm font-medium mb-2",children:t.category}),b.jsx("div",{className:"bg-white/10 rounded-xl overflow-hidden",children:t.items.map((e,n)=>{const i=e.icon;return b.jsxs("button",{className:"w-full flex items-center justify-between p-4 text-white hover:bg-white/5 transition-colors",style:{borderTop:n>0?"1px solid rgba(255,255,255,0.1)":"none"},children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(i,{className:"w-5 h-5"}),b.jsx("span",{children:e.label})]}),b.jsx(Uv,{className:"w-5 h-5 text-white/60"})]},e.id)})})]},t.category))})]})}const EU=[{name:"Vail",location:"Colorado",image:"https://images.unsplash.com/photo-1544985361-b420d7a77f51?auto=format&fit=crop&q=80&w=800",rating:4.8,priceRange:"$$$",description:"World-class skiing across 5,317 acres of terrain"},{name:"Park City",location:"Utah",image:"https://images.unsplash.com/photo-1548532369-c7e27c697f1b?auto=format&fit=crop&q=80&w=800",rating:4.7,priceRange:"$$$",description:"America's largest ski resort with 7,300 acres"},{name:"Aspen Snowmass",location:"Colorado",image:"https://images.unsplash.com/photo-1548533001-9dc7d1b04016?auto=format&fit=crop&q=80&w=800",rating:4.9,priceRange:"$$$$",description:"Four unique mountains with world-class amenities"}],PU=[{title:"Ultimate Colorado Adventure",duration:"7 days",price:2499,image:"https://images.unsplash.com/photo-1544988796-d0421a0350dc?auto=format&fit=crop&q=80&w=800",people:"2-4",includes:["3 Resort Access","Luxury Lodging","Equipment Rental","Guided Tours"]},{title:"Utah Powder Week",duration:"5 days",price:1999,image:"https://images.unsplash.com/photo-1565992441121-4367c2967103?auto=format&fit=crop&q=80&w=800",people:"2-6",includes:["2 Resort Access","Premium Lodging","Equipment Rental","Ski Lessons"]},{title:"Vermont Family Getaway",duration:"4 days",price:1599,image:"https://images.unsplash.com/photo-1586800779465-e89b31f6c8df?auto=format&fit=crop&q=80&w=800",people:"4-6",includes:["Family Resort Access","Cozy Cabin","Family Lessons","Kids Activities"]}];function TU(){const[t,e]=T.useState("resorts");return b.jsxs("div",{className:"p-4 max-w-6xl mx-auto",children:[b.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Explore"}),b.jsxs("div",{className:"flex space-x-4 mb-6",children:[b.jsx("button",{onClick:()=>e("resorts"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="resorts"?"bg-white text-blue-900":"text-white hover:bg-white/10"}`,children:"Top Rated Resorts"}),b.jsx("button",{onClick:()=>e("trips"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="trips"?"bg-white text-blue-900":"text-white hover:bg-white/10"}`,children:"Pre-Planned Trips"})]}),t==="resorts"?b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:EU.map(n=>b.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl overflow-hidden hover:bg-white/20 transition-colors",children:[b.jsxs("div",{className:"aspect-video relative",children:[b.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"}),b.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 backdrop-blur-sm rounded-full px-3 py-1 flex items-center space-x-1",children:[b.jsx(Zv,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),b.jsx("span",{className:"text-white",children:n.rating})]})]}),b.jsxs("div",{className:"p-4",children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsx("h3",{className:"text-xl font-bold text-white",children:n.name}),b.jsx("span",{className:"text-white/60",children:n.priceRange})]}),b.jsxs("div",{className:"flex items-center text-white/60 mb-2",children:[b.jsx(pc,{className:"w-4 h-4 mr-1"}),b.jsx("span",{children:n.location})]}),b.jsx("p",{className:"text-white/80 text-sm mb-4",children:n.description}),b.jsx("button",{className:"w-full bg-white text-blue-900 rounded-lg py-2 font-medium hover:bg-blue-50 transition-colors",children:"View Details"})]})]},n.name))}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:PU.map(n=>b.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl overflow-hidden hover:bg-white/20 transition-colors",children:[b.jsxs("div",{className:"aspect-video relative",children:[b.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover"}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:b.jsx("h3",{className:"text-xl font-bold text-white",children:n.title})})]}),b.jsxs("div",{className:"p-4 space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"flex items-center text-white/80",children:[b.jsx(Fh,{className:"w-4 h-4 mr-2"}),b.jsx("span",{children:n.duration})]}),b.jsxs("div",{className:"flex items-center text-white/80",children:[b.jsx(W2,{className:"w-4 h-4 mr-2"}),b.jsxs("span",{children:[n.people," people"]})]})]}),b.jsxs("div",{className:"flex items-center text-white",children:[b.jsx(Wv,{className:"w-5 h-5"}),b.jsx("span",{className:"text-xl font-bold",children:n.price}),b.jsx("span",{className:"text-white/60 ml-1",children:"/person"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h4",{className:"text-white/80 font-medium",children:"Includes:"}),b.jsx("ul",{className:"text-white/60 text-sm space-y-1",children:n.includes.map((i,r)=>b.jsxs("li",{className:"flex items-center",children:[b.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full mr-2"}),i]},r))})]}),b.jsx("button",{className:"w-full bg-white text-blue-900 rounded-lg py-2 font-medium hover:bg-blue-50 transition-colors",children:"Book Package"})]})]},n.title))})]})}function kU(){const[t,e]=T.useState(1),[n,i]=T.useState(500),r=new Date().toISOString().split("T")[0],o=new Date;o.setFullYear(o.getFullYear()+2);const a=o.toISOString().split("T")[0],[c,u]=T.useState(r),[d,f]=T.useState("");return b.jsxs("div",{className:"p-4 max-w-lg mx-auto",children:[b.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Plan Your Trip"}),b.jsxs("div",{className:"mb-8",children:[b.jsx("div",{className:"flex justify-between mb-2",children:[1,2,3,4].map(p=>b.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t>=p?"bg-white text-blue-900":"bg-white/20 text-white"}`,children:p},p))}),b.jsx("div",{className:"w-full bg-white/20 h-1 rounded-full",children:b.jsx("div",{className:"bg-white h-full rounded-full transition-all duration-300",style:{width:`${(t-1)/3*100}%`}})})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[b.jsxs("div",{className:"flex items-center space-x-3 text-white mb-4",children:[b.jsx(Fh,{className:"w-5 h-5"}),b.jsx("span",{className:"font-medium",children:"Trip Dates"})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-white/80 text-sm mb-2 ml-1",children:"Depart"}),b.jsx("input",{type:"date",min:r,max:a,value:c,onChange:p=>{u(p.target.value),d&&d<p.target.value&&f(p.target.value)},className:"w-full bg-white/5 border border-white/20 rounded-lg p-3 text-white focus:outline-none focus:border-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-white/80 text-sm mb-2 ml-1",children:"Return"}),b.jsx("input",{type:"date",min:c,max:a,value:d,onChange:p=>f(p.target.value),className:"w-full bg-white/5 border border-white/20 rounded-lg p-3 text-white focus:outline-none focus:border-white"})]})]})]}),b.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[b.jsxs("div",{className:"flex items-center space-x-3 text-white mb-4",children:[b.jsx(W2,{className:"w-5 h-5"}),b.jsx("span",{className:"font-medium",children:"How many people?"})]}),b.jsx("input",{type:"number",min:"1",placeholder:"Number of people",className:"w-full bg-white/5 border border-white/20 rounded-lg p-3 text-white focus:outline-none focus:border-white"})]}),b.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[b.jsxs("div",{className:"flex items-center space-x-3 text-white mb-4",children:[b.jsx(i6,{className:"w-5 h-5"}),b.jsx("span",{className:"font-medium",children:"Trip duration"})]}),b.jsxs("select",{className:"w-full bg-white/5 border border-white/20 rounded-lg p-3 text-white focus:outline-none focus:border-white [&>option]:text-gray-900",children:[b.jsx("option",{value:"weekend",children:"Weekend"}),b.jsx("option",{value:"week",children:"1 Week"}),b.jsx("option",{value:"twoWeeks",children:"2 Weeks"})]})]}),b.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[b.jsxs("div",{className:"flex items-center justify-between text-white mb-4",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(Wv,{className:"w-5 h-5"}),b.jsx("span",{className:"font-medium",children:"Budget per person"})]}),b.jsxs("span",{className:"font-medium",children:["$",n]})]}),b.jsx("input",{type:"range",min:"100",max:"1000",step:"50",value:n,onChange:p=>i(Number(p.target.value)),className:"w-full"}),b.jsxs("div",{className:"flex justify-between text-white/60 text-sm mt-2",children:[b.jsx("span",{children:"$100"}),b.jsx("span",{children:"$1000"})]})]})]}),b.jsxs("div",{className:"mt-8 flex space-x-3",children:[t>1&&b.jsx("button",{onClick:()=>e(t-1),className:"flex-1 bg-white/10 text-white rounded-lg py-3 font-medium hover:bg-white/20 transition-colors",children:"Previous"}),b.jsx("button",{onClick:()=>t<4?e(t+1):null,className:"flex-1 bg-white text-blue-900 rounded-lg py-3 font-medium hover:bg-blue-50 transition-colors",children:t===4?"Find Matches":"Next"})]})]})}const AU=[{name:"Vail",location:"Colorado",image:"https://images.unsplash.com/photo-1544985361-b420d7a77f51?auto=format&fit=crop&q=80&w=800",lastViewed:"2024-03-15",rating:4.8,priceRange:"$$$"},{name:"Aspen Snowmass",location:"Colorado",image:"https://images.unsplash.com/photo-1548533001-9dc7d1b04016?auto=format&fit=crop&q=80&w=800",lastViewed:"2024-03-14",rating:4.9,priceRange:"$$$$"},{name:"Park City",location:"Utah",image:"https://images.unsplash.com/photo-1548532369-c7e27c697f1b?auto=format&fit=crop&q=80&w=800",lastViewed:"2024-03-13",rating:4.7,priceRange:"$$$"}];function NU(){return b.jsxs("div",{className:"p-4 max-w-6xl mx-auto",children:[b.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Your Resorts"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:AU.map(t=>b.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl overflow-hidden hover:bg-white/20 transition-colors cursor-pointer group",children:[b.jsxs("div",{className:"aspect-video relative",children:[b.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),b.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 backdrop-blur-sm rounded-full px-3 py-1 flex items-center space-x-1",children:[b.jsx(Zv,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),b.jsx("span",{className:"text-white",children:t.rating})]})]}),b.jsxs("div",{className:"p-4",children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-bold text-white",children:t.name}),b.jsxs("div",{className:"flex items-center text-white/60",children:[b.jsx(pc,{className:"w-4 h-4 mr-1"}),b.jsx("span",{children:t.location})]})]}),b.jsx("span",{className:"text-white/60",children:t.priceRange})]}),b.jsxs("div",{className:"flex items-center text-white/60 text-sm mt-2",children:[b.jsx(Fh,{className:"w-4 h-4 mr-1"}),b.jsxs("span",{children:["Last viewed: ",t.lastViewed]})]}),b.jsxs("div",{className:"mt-4 flex space-x-2",children:[b.jsx("button",{className:"flex-1 bg-white text-blue-900 rounded-lg py-2 font-medium hover:bg-blue-50 transition-colors",children:"Book Now"}),b.jsx("button",{className:"flex items-center justify-center w-10 aspect-square bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors",children:b.jsx(Uv,{className:"w-5 h-5"})})]})]})]},t.name))})]})}const IU=[{id:"plan",label:"Plan A Trip",icon:z2},{id:"explore",label:"Explore",icon:r6},{id:"user",label:"User Info",icon:U2},{id:"settings",label:"Settings",icon:d6}];function RU(){const[t,e]=T.useState("saved"),n=()=>{switch(t){case"settings":return b.jsx(SU,{});case"user":return b.jsx(bU,{});case"explore":return b.jsx(TU,{});case"plan":return b.jsx(kU,{});case"saved":return b.jsx(NU,{});default:return null}};return b.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900",children:[b.jsx("div",{className:"pb-24",children:n()}),b.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/10 backdrop-blur-lg border-t border-white/20",children:b.jsxs("div",{className:"max-w-lg mx-auto px-4 relative",children:[b.jsx("button",{onClick:()=>e("saved"),className:"absolute left-1/2 -translate-x-1/2 -top-10 w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-lg hover:bg-blue-50 transition-colors",children:b.jsx(a6,{className:"w-8 h-8 text-blue-900"})}),b.jsx("div",{className:"flex justify-between py-2",children:IU.map((i,r)=>{const o=i.icon,a=t===i.id;return b.jsxs("button",{onClick:()=>e(i.id),className:`
                    flex flex-col items-center py-3 px-4 relative
                    ${a?"text-white":"text-white/60 hover:text-white/80"}
                    transition-colors duration-200
                    ${r===1?"mr-16":""}
                    ${r===2?"ml-16":""}
                  `,children:[b.jsx(o,{className:"w-6 h-6"}),b.jsx("span",{className:"text-xs mt-1",children:i.label}),a&&b.jsx("div",{className:"absolute -bottom-[1px] left-2 right-2 h-0.5 bg-white rounded-full"})]},i.id)})})]})})]})}function LA(t){return btoa(`user-${t}-${Date.now()}`)}async function LU(t,e,n,i){try{if(await gi.users.where("email").equals(e).first())throw new Error("Email already exists");const o=await Od.hash(n,10),a={name:t,email:e,password:o,age:i?Number(i):void 0,createdAt:new Date},c=await gi.users.add(a),u=LA(c),{password:d,...f}=a;return{user:{...f,id:c},token:u}}catch(r){throw console.error("User creation error:",r),r instanceof Error?r:new Error("Failed to create user")}}async function MU(t,e){try{const n=await gi.users.where("email").equals(t).first();if(!n)throw new Error("User not found");if(!await Od.compare(e,n.password))throw new Error("Invalid password");const r=LA(n.id),{password:o,...a}=n;return{user:a,token:r}}catch(n){throw console.error("Login error:",n),n}}const OU=T.createContext({user:null,token:null,setAuth:()=>{},logout:()=>{}});function MA(){return T.useContext(OU)}function DU(){const t=xs(),{setAuth:e}=MA(),[n,i]=T.useState(""),[r,o]=T.useState(""),[a,c]=T.useState(""),[u,d]=T.useState(!1),f=async p=>{p.preventDefault(),c(""),d(!0);try{const{user:m,token:v}=await MU(n,r);e(m,v),t("/dashboard")}catch(m){c(m instanceof Error?m.message:"An error occurred")}finally{d(!1)}};return b.jsxs("div",{className:"min-h-screen flex flex-col p-4",children:[b.jsxs("button",{onClick:()=>t("/"),className:"text-white hover:text-white/80 transition-colors self-start flex items-center space-x-2 mb-8",children:[b.jsx(j2,{className:"w-5 h-5"}),b.jsx("span",{children:"Back"})]}),b.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center max-w-md mx-auto w-full",children:[b.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Welcome Back"}),a&&b.jsxs("div",{className:"w-full bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-6 flex items-center space-x-2 text-red-200",children:[b.jsx(F2,{className:"w-5 h-5 flex-shrink-0"}),b.jsx("p",{children:a})]}),b.jsxs("form",{onSubmit:f,className:"w-full space-y-4",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"relative",children:[b.jsx($v,{className:"absolute top-1/2 left-3 transform -translate-y-1/2 text-white/60 w-5 h-5"}),b.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:p=>i(p.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg p-3 text-white placeholder-white/60 focus:outline-none focus:border-white pl-11",required:!0})]}),b.jsxs("div",{className:"relative",children:[b.jsx(B2,{className:"absolute top-1/2 left-3 transform -translate-y-1/2 text-white/60 w-5 h-5"}),b.jsx("input",{type:"password",placeholder:"Password",value:r,onChange:p=>o(p.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg p-3 text-white placeholder-white/60 focus:outline-none focus:border-white pl-11",required:!0})]})]}),b.jsx("button",{type:"submit",disabled:u,className:"w-full bg-white text-blue-900 rounded-lg py-3 font-semibold hover:bg-blue-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Logging in...":"Log In"}),b.jsxs("div",{className:"relative my-8",children:[b.jsx("div",{className:"absolute inset-0 flex items-center",children:b.jsx("div",{className:"w-full border-t border-white/20"})}),b.jsx("div",{className:"relative flex justify-center text-sm",children:b.jsx("span",{className:"px-2 bg-blue-900 text-white/60",children:"Or continue with"})})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("button",{type:"button",onClick:()=>{},className:"w-full bg-white text-gray-900 rounded-lg py-3 font-semibold hover:bg-gray-100 transition-colors flex items-center justify-center space-x-2",children:[b.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[b.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),b.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),b.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),b.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),b.jsx("span",{children:"Continue with Google"})]}),b.jsxs("button",{type:"button",onClick:()=>{},className:"w-full bg-black text-white rounded-lg py-3 font-semibold hover:bg-gray-900 transition-colors flex items-center justify-center space-x-2",children:[b.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:b.jsx("path",{fill:"currentColor",d:"M17.05 20.28c-.98.95-2.05.88-3.08.4-1.09-.5-2.08-.48-3.24 0-1.44.62-2.2.44-3.06-.4C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.78 1.18-.19 2.31-.89 3.51-.84 1.54.07 2.7.6 3.44 1.51-3.03 1.81-2.52 5.87.22 7.22-.65 1.29-1.51 2.58-2.25 3.3zm-3.08-15c.08 1.68-1.52 3.01-3.23 2.93-.23-1.78 1.41-2.95 3.23-2.93z"})}),b.jsx("span",{children:"Continue with Apple"})]})]})]}),b.jsxs("p",{className:"mt-8 text-white/60",children:["Don't have an account?"," ",b.jsx("button",{onClick:()=>t("/create-account"),className:"text-white hover:underline",children:"Sign up"})]})]})]})}function jU(){const t=xs(),{setAuth:e}=MA(),[n,i]=T.useState({name:"",email:"",password:"",age:""}),[r,o]=T.useState(""),[a,c]=T.useState(!1),u=sessionStorage.getItem("selectedResort")?JSON.parse(sessionStorage.getItem("selectedResort")):null,d=async p=>{p.preventDefault(),o(""),c(!0);try{const{user:m,token:v}=await LU(n.name.trim(),n.email.trim().toLowerCase(),n.password,n.age?parseInt(n.age,10):void 0);e(m,v),t("/dashboard")}catch(m){console.error("Account creation error:",m),o(m instanceof Error?m.message:"An error occurred during account creation")}finally{c(!1)}},f=p=>{const{name:m,value:v}=p.target;i(C=>({...C,[m]:v}))};return b.jsxs("div",{className:"min-h-screen flex flex-col p-4",children:[b.jsxs("button",{onClick:()=>t(-1),className:"text-white hover:text-white/80 transition-colors self-start flex items-center space-x-2 mb-8",children:[b.jsx(j2,{className:"w-5 h-5"}),b.jsx("span",{children:"Back"})]}),b.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center max-w-md mx-auto w-full",children:[b.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Create Account"}),u&&b.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-4 mb-8 w-full",children:b.jsxs("p",{className:"text-white text-center",children:["Create an account to book your stay at"," ",b.jsx("span",{className:"font-bold",children:u.name})]})}),r&&b.jsxs("div",{className:"w-full bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-6 flex items-center space-x-2 text-red-200",children:[b.jsx(F2,{className:"w-5 h-5 flex-shrink-0"}),b.jsx("p",{children:r})]}),b.jsxs("form",{onSubmit:d,className:"w-full space-y-4",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"relative",children:[b.jsx(U2,{className:"absolute top-1/2 left-3 transform -translate-y-1/2 text-white/60 w-5 h-5"}),b.jsx("input",{type:"text",name:"name",placeholder:"Full Name",value:n.name,onChange:f,className:"w-full bg-white/10 border border-white/20 rounded-lg p-3 text-white placeholder-white/60 focus:outline-none focus:border-white pl-11",required:!0,minLength:2,maxLength:50})]}),b.jsxs("div",{className:"relative",children:[b.jsx($v,{className:"absolute top-1/2 left-3 transform -translate-y-1/2 text-white/60 w-5 h-5"}),b.jsx("input",{type:"email",name:"email",placeholder:"Email",value:n.email,onChange:f,className:"w-full bg-white/10 border border-white/20 rounded-lg p-3 text-white placeholder-white/60 focus:outline-none focus:border-white pl-11",required:!0,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$"})]}),b.jsxs("div",{className:"relative",children:[b.jsx(B2,{className:"absolute top-1/2 left-3 transform -translate-y-1/2 text-white/60 w-5 h-5"}),b.jsx("input",{type:"password",name:"password",placeholder:"Password",value:n.password,onChange:f,className:"w-full bg-white/10 border border-white/20 rounded-lg p-3 text-white placeholder-white/60 focus:outline-none focus:border-white pl-11",required:!0,minLength:8})]}),b.jsxs("div",{className:"relative",children:[b.jsx(Fh,{className:"absolute top-1/2 left-3 transform -translate-y-1/2 text-white/60 w-5 h-5"}),b.jsx("input",{type:"number",name:"age",placeholder:"Age",min:"13",max:"120",value:n.age,onChange:f,className:"w-full bg-white/10 border border-white/20 rounded-lg p-3 text-white placeholder-white/60 focus:outline-none focus:border-white pl-11"})]})]}),b.jsx("button",{type:"submit",disabled:a,className:"w-full bg-white text-blue-900 rounded-lg py-3 font-semibold hover:bg-blue-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating Account...":"Create Account"})]}),b.jsxs("p",{className:"mt-8 text-white/60",children:["Already have an account?"," ",b.jsx("button",{onClick:()=>t("/login"),className:"text-white hover:underline",children:"Log in"})]})]})]})}function FU(){const t=ac();return b.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900",children:b.jsx(GD,{mode:"wait",children:b.jsxs(wM,{location:t,children:[b.jsx(ii,{path:"/",element:b.jsx(Fi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:b.jsx(m6,{})})}),b.jsx(ii,{path:"/quiz",element:b.jsx(Fi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:b.jsx(S6,{})})}),b.jsx(ii,{path:"/loading",element:b.jsx(Fi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:b.jsx(P6,{})})}),b.jsx(ii,{path:"/results",element:b.jsx(Fi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:b.jsx(Q6,{})})}),b.jsx(ii,{path:"/resorts",element:b.jsx(Fi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:b.jsx(wU,{})})}),b.jsx(ii,{path:"/dashboard",element:b.jsx(Fi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:b.jsx(RU,{})})}),b.jsx(ii,{path:"/login",element:b.jsx(Fi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:b.jsx(DU,{})})}),b.jsx(ii,{path:"/create-account",element:b.jsx(Fi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:b.jsx(jU,{})})})]},t.pathname)})})}wE(document.getElementById("root")).render(b.jsx(T.StrictMode,{children:b.jsx(SM,{children:b.jsx(C3,{children:b.jsx(FU,{})})})}));
