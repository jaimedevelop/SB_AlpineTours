function FT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var gB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function g_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var v_={exports:{}},Wc={},y_={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ma=Symbol.for("react.element"),VT=Symbol.for("react.portal"),UT=Symbol.for("react.fragment"),BT=Symbol.for("react.strict_mode"),zT=Symbol.for("react.profiler"),WT=Symbol.for("react.provider"),$T=Symbol.for("react.context"),HT=Symbol.for("react.forward_ref"),GT=Symbol.for("react.suspense"),KT=Symbol.for("react.memo"),qT=Symbol.for("react.lazy"),Ug=Symbol.iterator;function YT(t){return t===null||typeof t!="object"?null:(t=Ug&&t[Ug]||t["@@iterator"],typeof t=="function"?t:null)}var w_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},__=Object.assign,x_={};function Es(t,e,n){this.props=t,this.context=e,this.refs=x_,this.updater=n||w_}Es.prototype.isReactComponent={};Es.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Es.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function C_(){}C_.prototype=Es.prototype;function Wf(t,e,n){this.props=t,this.context=e,this.refs=x_,this.updater=n||w_}var $f=Wf.prototype=new C_;$f.constructor=Wf;__($f,Es.prototype);$f.isPureReactComponent=!0;var Bg=Array.isArray,b_=Object.prototype.hasOwnProperty,Hf={current:null},S_={key:!0,ref:!0,__self:!0,__source:!0};function E_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)b_.call(e,r)&&!S_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ma,type:t,key:s,ref:o,props:i,_owner:Hf.current}}function QT(t,e){return{$$typeof:ma,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gf(t){return typeof t=="object"&&t!==null&&t.$$typeof===ma}function XT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zg=/\/+/g;function Vu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XT(""+t.key):e.toString(36)}function pl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ma:case VT:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Vu(o,0):r,Bg(i)?(n="",t!=null&&(n=t.replace(zg,"$&/")+"/"),pl(i,e,n,"",function(c){return c})):i!=null&&(Gf(i)&&(i=QT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(zg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Bg(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Vu(s,a);o+=pl(s,e,n,l,i)}else if(l=YT(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Vu(s,a++),o+=pl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fa(t,e,n){if(t==null)return t;var r=[],i=0;return pl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ZT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qe={current:null},ml={transition:null},JT={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:ml,ReactCurrentOwner:Hf};function T_(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Fa,forEach:function(t,e,n){Fa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fa(t,function(){e++}),e},toArray:function(t){return Fa(t,function(e){return e})||[]},only:function(t){if(!Gf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=Es;G.Fragment=UT;G.Profiler=zT;G.PureComponent=Wf;G.StrictMode=BT;G.Suspense=GT;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JT;G.act=T_;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=__({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Hf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)b_.call(e,l)&&!S_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ma,type:t.type,key:i,ref:s,props:r,_owner:o}};G.createContext=function(t){return t={$$typeof:$T,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:WT,_context:t},t.Consumer=t};G.createElement=E_;G.createFactory=function(t){var e=E_.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:HT,render:t}};G.isValidElement=Gf;G.lazy=function(t){return{$$typeof:qT,_payload:{_status:-1,_result:t},_init:ZT}};G.memo=function(t,e){return{$$typeof:KT,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=ml.transition;ml.transition={};try{t()}finally{ml.transition=e}};G.unstable_act=T_;G.useCallback=function(t,e){return Qe.current.useCallback(t,e)};G.useContext=function(t){return Qe.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return Qe.current.useDeferredValue(t)};G.useEffect=function(t,e){return Qe.current.useEffect(t,e)};G.useId=function(){return Qe.current.useId()};G.useImperativeHandle=function(t,e,n){return Qe.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return Qe.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return Qe.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return Qe.current.useMemo(t,e)};G.useReducer=function(t,e,n){return Qe.current.useReducer(t,e,n)};G.useRef=function(t){return Qe.current.useRef(t)};G.useState=function(t){return Qe.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return Qe.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return Qe.current.useTransition()};G.version="18.3.1";y_.exports=G;var g=y_.exports;const ek=g_(g),k_=FT({__proto__:null,default:ek},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tk=g,nk=Symbol.for("react.element"),rk=Symbol.for("react.fragment"),ik=Object.prototype.hasOwnProperty,sk=tk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ok={key:!0,ref:!0,__self:!0,__source:!0};function P_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ik.call(e,r)&&!ok.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:nk,type:t,key:s,ref:o,props:i,_owner:sk.current}}Wc.Fragment=rk;Wc.jsx=P_;Wc.jsxs=P_;v_.exports=Wc;var f=v_.exports,N_={exports:{}},ft={},I_={exports:{}},R_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,E){var R=P.length;P.push(E);e:for(;0<R;){var M=R-1>>>1,Y=P[M];if(0<i(Y,E))P[M]=E,P[R]=Y,R=M;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var E=P[0],R=P.pop();if(R!==E){P[0]=R;e:for(var M=0,Y=P.length,ge=Y>>>1;M<ge;){var He=2*(M+1)-1,$s=P[He],nn=He+1,Dr=P[nn];if(0>i($s,R))nn<Y&&0>i(Dr,$s)?(P[M]=Dr,P[nn]=R,M=nn):(P[M]=$s,P[He]=R,M=He);else if(nn<Y&&0>i(Dr,R))P[M]=Dr,P[nn]=R,M=nn;else break e}}return E}function i(P,E){var R=P.sortIndex-E.sortIndex;return R!==0?R:P.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(P){for(var E=n(c);E!==null;){if(E.callback===null)r(c);else if(E.startTime<=P)r(c),E.sortIndex=E.expirationTime,e(l,E);else break;E=n(c)}}function C(P){if(w=!1,_(P),!m)if(n(l)!==null)m=!0,Z(b);else{var E=n(c);E!==null&&U(C,E.startTime-P)}}function b(P,E){m=!1,w&&(w=!1,v(T),T=-1),p=!0;var R=h;try{for(_(E),d=n(l);d!==null&&(!(d.expirationTime>E)||P&&!z());){var M=d.callback;if(typeof M=="function"){d.callback=null,h=d.priorityLevel;var Y=M(d.expirationTime<=E);E=t.unstable_now(),typeof Y=="function"?d.callback=Y:d===n(l)&&r(l),_(E)}else r(l);d=n(l)}if(d!==null)var ge=!0;else{var He=n(c);He!==null&&U(C,He.startTime-E),ge=!1}return ge}finally{d=null,h=R,p=!1}}var S=!1,k=null,T=-1,L=5,A=-1;function z(){return!(t.unstable_now()-A<L)}function D(){if(k!==null){var P=t.unstable_now();A=P;var E=!0;try{E=k(!0,P)}finally{E?X():(S=!1,k=null)}}else S=!1}var X;if(typeof y=="function")X=function(){y(D)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ae=q.port2;q.port1.onmessage=D,X=function(){ae.postMessage(null)}}else X=function(){x(D,0)};function Z(P){k=P,S||(S=!0,X())}function U(P,E){T=x(function(){P(t.unstable_now())},E)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Z(b))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var E=3;break;default:E=h}var R=h;h=E;try{return P()}finally{h=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,E){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var R=h;h=P;try{return E()}finally{h=R}},t.unstable_scheduleCallback=function(P,E,R){var M=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?M+R:M):R=M,P){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=R+Y,P={id:u++,callback:E,priorityLevel:P,startTime:R,expirationTime:Y,sortIndex:-1},R>M?(P.sortIndex=R,e(c,P),n(l)===null&&P===n(c)&&(w?(v(T),T=-1):w=!0,U(C,R-M))):(P.sortIndex=Y,e(l,P),m||p||(m=!0,Z(b))),P},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(P){var E=h;return function(){var R=h;h=E;try{return P.apply(this,arguments)}finally{h=R}}}})(R_);I_.exports=R_;var ak=I_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lk=g,dt=ak;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A_=new Set,Lo={};function fi(t,e){is(t,e),is(t+"Capture",e)}function is(t,e){for(Lo[t]=e,t=0;t<e.length;t++)A_.add(e[t])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zd=Object.prototype.hasOwnProperty,ck=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wg={},$g={};function uk(t){return Zd.call($g,t)?!0:Zd.call(Wg,t)?!1:ck.test(t)?$g[t]=!0:(Wg[t]=!0,!1)}function dk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hk(t,e,n,r){if(e===null||typeof e>"u"||dk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xe(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){De[t]=new Xe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];De[e]=new Xe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){De[t]=new Xe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){De[t]=new Xe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){De[t]=new Xe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){De[t]=new Xe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){De[t]=new Xe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){De[t]=new Xe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){De[t]=new Xe(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kf=/[\-:]([a-z])/g;function qf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kf,qf);De[e]=new Xe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kf,qf);De[e]=new Xe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kf,qf);De[e]=new Xe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){De[t]=new Xe(t,1,!1,t.toLowerCase(),null,!1,!1)});De.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){De[t]=new Xe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yf(t,e,n,r){var i=De.hasOwnProperty(e)?De[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hk(e,n,i,r)&&(n=null),r||i===null?uk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mn=lk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Va=Symbol.for("react.element"),Ei=Symbol.for("react.portal"),Ti=Symbol.for("react.fragment"),Qf=Symbol.for("react.strict_mode"),Jd=Symbol.for("react.profiler"),M_=Symbol.for("react.provider"),O_=Symbol.for("react.context"),Xf=Symbol.for("react.forward_ref"),eh=Symbol.for("react.suspense"),th=Symbol.for("react.suspense_list"),Zf=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),L_=Symbol.for("react.offscreen"),Hg=Symbol.iterator;function Gs(t){return t===null||typeof t!="object"?null:(t=Hg&&t[Hg]||t["@@iterator"],typeof t=="function"?t:null)}var me=Object.assign,Uu;function ao(t){if(Uu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Uu=e&&e[1]||""}return`
`+Uu+t}var Bu=!1;function zu(t,e){if(!t||Bu)return"";Bu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Bu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ao(t):""}function fk(t){switch(t.tag){case 5:return ao(t.type);case 16:return ao("Lazy");case 13:return ao("Suspense");case 19:return ao("SuspenseList");case 0:case 2:case 15:return t=zu(t.type,!1),t;case 11:return t=zu(t.type.render,!1),t;case 1:return t=zu(t.type,!0),t;default:return""}}function nh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ti:return"Fragment";case Ei:return"Portal";case Jd:return"Profiler";case Qf:return"StrictMode";case eh:return"Suspense";case th:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O_:return(t.displayName||"Context")+".Consumer";case M_:return(t._context.displayName||"Context")+".Provider";case Xf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zf:return e=t.displayName||null,e!==null?e:nh(t.type)||"Memo";case Wn:e=t._payload,t=t._init;try{return nh(t(e))}catch{}}return null}function pk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nh(e);case 8:return e===Qf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function D_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mk(t){var e=D_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ua(t){t._valueTracker||(t._valueTracker=mk(t))}function j_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=D_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rh(t,e){var n=e.checked;return me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Gg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F_(t,e){e=e.checked,e!=null&&Yf(t,"checked",e,!1)}function ih(t,e){F_(t,e);var n=fr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sh(t,e.type,n):e.hasOwnProperty("defaultValue")&&sh(t,e.type,fr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Kg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sh(t,e,n){(e!=="number"||Fl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lo=Array.isArray;function Wi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function oh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(lo(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fr(n)}}function V_(t,e){var n=fr(e.value),r=fr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Yg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function U_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ah(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?U_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ba,B_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ba=Ba||document.createElement("div"),Ba.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ba.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Do(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gk=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(t){gk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),go[e]=go[t]})});function z_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||go.hasOwnProperty(t)&&go[t]?(""+e).trim():e+"px"}function W_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=z_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var vk=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lh(t,e){if(e){if(vk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function ch(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uh=null;function Jf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dh=null,$i=null,Hi=null;function Qg(t){if(t=ya(t)){if(typeof dh!="function")throw Error(N(280));var e=t.stateNode;e&&(e=qc(e),dh(t.stateNode,t.type,e))}}function $_(t){$i?Hi?Hi.push(t):Hi=[t]:$i=t}function H_(){if($i){var t=$i,e=Hi;if(Hi=$i=null,Qg(t),e)for(t=0;t<e.length;t++)Qg(e[t])}}function G_(t,e){return t(e)}function K_(){}var Wu=!1;function q_(t,e,n){if(Wu)return t(e,n);Wu=!0;try{return G_(t,e,n)}finally{Wu=!1,($i!==null||Hi!==null)&&(K_(),H_())}}function jo(t,e){var n=t.stateNode;if(n===null)return null;var r=qc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var hh=!1;if(bn)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){hh=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{hh=!1}function yk(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var vo=!1,Vl=null,Ul=!1,fh=null,wk={onError:function(t){vo=!0,Vl=t}};function _k(t,e,n,r,i,s,o,a,l){vo=!1,Vl=null,yk.apply(wk,arguments)}function xk(t,e,n,r,i,s,o,a,l){if(_k.apply(this,arguments),vo){if(vo){var c=Vl;vo=!1,Vl=null}else throw Error(N(198));Ul||(Ul=!0,fh=c)}}function pi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Y_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xg(t){if(pi(t)!==t)throw Error(N(188))}function Ck(t){var e=t.alternate;if(!e){if(e=pi(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Xg(i),t;if(s===r)return Xg(i),e;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function Q_(t){return t=Ck(t),t!==null?X_(t):null}function X_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=X_(t);if(e!==null)return e;t=t.sibling}return null}var Z_=dt.unstable_scheduleCallback,Zg=dt.unstable_cancelCallback,bk=dt.unstable_shouldYield,Sk=dt.unstable_requestPaint,xe=dt.unstable_now,Ek=dt.unstable_getCurrentPriorityLevel,ep=dt.unstable_ImmediatePriority,J_=dt.unstable_UserBlockingPriority,Bl=dt.unstable_NormalPriority,Tk=dt.unstable_LowPriority,ex=dt.unstable_IdlePriority,$c=null,Kt=null;function kk(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot($c,t,void 0,(t.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:Ik,Pk=Math.log,Nk=Math.LN2;function Ik(t){return t>>>=0,t===0?32:31-(Pk(t)/Nk|0)|0}var za=64,Wa=4194304;function co(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=co(a):(s&=o,s!==0&&(r=co(s)))}else o=n&~i,o!==0?r=co(o):s!==0&&(r=co(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ot(e),i=1<<n,r|=t[n],e&=~i;return r}function Rk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ak(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ot(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Rk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function ph(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tx(){var t=za;return za<<=1,!(za&4194240)&&(za=64),t}function $u(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ga(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ot(e),t[e]=n}function Mk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ot(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function tp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ot(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ee=0;function nx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rx,np,ix,sx,ox,mh=!1,$a=[],er=null,tr=null,nr=null,Fo=new Map,Vo=new Map,Hn=[],Ok="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jg(t,e){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Fo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(e.pointerId)}}function qs(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ya(e),e!==null&&np(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Lk(t,e,n,r,i){switch(e){case"focusin":return er=qs(er,t,e,n,r,i),!0;case"dragenter":return tr=qs(tr,t,e,n,r,i),!0;case"mouseover":return nr=qs(nr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fo.set(s,qs(Fo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vo.set(s,qs(Vo.get(s)||null,t,e,n,r,i)),!0}return!1}function ax(t){var e=$r(t.target);if(e!==null){var n=pi(e);if(n!==null){if(e=n.tag,e===13){if(e=Y_(n),e!==null){t.blockedOn=e,ox(t.priority,function(){ix(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);uh=r,n.target.dispatchEvent(r),uh=null}else return e=ya(n),e!==null&&np(e),t.blockedOn=n,!1;e.shift()}return!0}function ev(t,e,n){gl(t)&&n.delete(e)}function Dk(){mh=!1,er!==null&&gl(er)&&(er=null),tr!==null&&gl(tr)&&(tr=null),nr!==null&&gl(nr)&&(nr=null),Fo.forEach(ev),Vo.forEach(ev)}function Ys(t,e){t.blockedOn===e&&(t.blockedOn=null,mh||(mh=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,Dk)))}function Uo(t){function e(i){return Ys(i,t)}if(0<$a.length){Ys($a[0],t);for(var n=1;n<$a.length;n++){var r=$a[n];r.blockedOn===t&&(r.blockedOn=null)}}for(er!==null&&Ys(er,t),tr!==null&&Ys(tr,t),nr!==null&&Ys(nr,t),Fo.forEach(e),Vo.forEach(e),n=0;n<Hn.length;n++)r=Hn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hn.length&&(n=Hn[0],n.blockedOn===null);)ax(n),n.blockedOn===null&&Hn.shift()}var Gi=Mn.ReactCurrentBatchConfig,Wl=!0;function jk(t,e,n,r){var i=ee,s=Gi.transition;Gi.transition=null;try{ee=1,rp(t,e,n,r)}finally{ee=i,Gi.transition=s}}function Fk(t,e,n,r){var i=ee,s=Gi.transition;Gi.transition=null;try{ee=4,rp(t,e,n,r)}finally{ee=i,Gi.transition=s}}function rp(t,e,n,r){if(Wl){var i=gh(t,e,n,r);if(i===null)ed(t,e,r,$l,n),Jg(t,r);else if(Lk(i,t,e,n,r))r.stopPropagation();else if(Jg(t,r),e&4&&-1<Ok.indexOf(t)){for(;i!==null;){var s=ya(i);if(s!==null&&rx(s),s=gh(t,e,n,r),s===null&&ed(t,e,r,$l,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ed(t,e,r,null,n)}}var $l=null;function gh(t,e,n,r){if($l=null,t=Jf(r),t=$r(t),t!==null)if(e=pi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Y_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $l=t,null}function lx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ek()){case ep:return 1;case J_:return 4;case Bl:case Tk:return 16;case ex:return 536870912;default:return 16}default:return 16}}var Qn=null,ip=null,vl=null;function cx(){if(vl)return vl;var t,e=ip,n=e.length,r,i="value"in Qn?Qn.value:Qn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return vl=i.slice(t,1<r?1-r:void 0)}function yl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ha(){return!0}function tv(){return!1}function pt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ha:tv,this.isPropagationStopped=tv,this}return me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ha)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ha)},persist:function(){},isPersistent:Ha}),e}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sp=pt(Ts),va=me({},Ts,{view:0,detail:0}),Vk=pt(va),Hu,Gu,Qs,Hc=me({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:op,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qs&&(Qs&&t.type==="mousemove"?(Hu=t.screenX-Qs.screenX,Gu=t.screenY-Qs.screenY):Gu=Hu=0,Qs=t),Hu)},movementY:function(t){return"movementY"in t?t.movementY:Gu}}),nv=pt(Hc),Uk=me({},Hc,{dataTransfer:0}),Bk=pt(Uk),zk=me({},va,{relatedTarget:0}),Ku=pt(zk),Wk=me({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),$k=pt(Wk),Hk=me({},Ts,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gk=pt(Hk),Kk=me({},Ts,{data:0}),rv=pt(Kk),qk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qk[t])?!!e[t]:!1}function op(){return Xk}var Zk=me({},va,{key:function(t){if(t.key){var e=qk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:op,charCode:function(t){return t.type==="keypress"?yl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jk=pt(Zk),eP=me({},Hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iv=pt(eP),tP=me({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:op}),nP=pt(tP),rP=me({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),iP=pt(rP),sP=me({},Hc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oP=pt(sP),aP=[9,13,27,32],ap=bn&&"CompositionEvent"in window,yo=null;bn&&"documentMode"in document&&(yo=document.documentMode);var lP=bn&&"TextEvent"in window&&!yo,ux=bn&&(!ap||yo&&8<yo&&11>=yo),sv=" ",ov=!1;function dx(t,e){switch(t){case"keyup":return aP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ki=!1;function cP(t,e){switch(t){case"compositionend":return hx(e);case"keypress":return e.which!==32?null:(ov=!0,sv);case"textInput":return t=e.data,t===sv&&ov?null:t;default:return null}}function uP(t,e){if(ki)return t==="compositionend"||!ap&&dx(t,e)?(t=cx(),vl=ip=Qn=null,ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ux&&e.locale!=="ko"?null:e.data;default:return null}}var dP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function av(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dP[t.type]:e==="textarea"}function fx(t,e,n,r){$_(r),e=Hl(e,"onChange"),0<e.length&&(n=new sp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wo=null,Bo=null;function hP(t){Sx(t,0)}function Gc(t){var e=Ii(t);if(j_(e))return t}function fP(t,e){if(t==="change")return e}var px=!1;if(bn){var qu;if(bn){var Yu="oninput"in document;if(!Yu){var lv=document.createElement("div");lv.setAttribute("oninput","return;"),Yu=typeof lv.oninput=="function"}qu=Yu}else qu=!1;px=qu&&(!document.documentMode||9<document.documentMode)}function cv(){wo&&(wo.detachEvent("onpropertychange",mx),Bo=wo=null)}function mx(t){if(t.propertyName==="value"&&Gc(Bo)){var e=[];fx(e,Bo,t,Jf(t)),q_(hP,e)}}function pP(t,e,n){t==="focusin"?(cv(),wo=e,Bo=n,wo.attachEvent("onpropertychange",mx)):t==="focusout"&&cv()}function mP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gc(Bo)}function gP(t,e){if(t==="click")return Gc(e)}function vP(t,e){if(t==="input"||t==="change")return Gc(e)}function yP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ft=typeof Object.is=="function"?Object.is:yP;function zo(t,e){if(Ft(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Zd.call(e,i)||!Ft(t[i],e[i]))return!1}return!0}function uv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dv(t,e){var n=uv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uv(n)}}function gx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vx(){for(var t=window,e=Fl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fl(t.document)}return e}function lp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wP(t){var e=vx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gx(n.ownerDocument.documentElement,n)){if(r!==null&&lp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=dv(n,s);var o=dv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _P=bn&&"documentMode"in document&&11>=document.documentMode,Pi=null,vh=null,_o=null,yh=!1;function hv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yh||Pi==null||Pi!==Fl(r)||(r=Pi,"selectionStart"in r&&lp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_o&&zo(_o,r)||(_o=r,r=Hl(vh,"onSelect"),0<r.length&&(e=new sp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Pi)))}function Ga(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ni={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},Qu={},yx={};bn&&(yx=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function Kc(t){if(Qu[t])return Qu[t];if(!Ni[t])return t;var e=Ni[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yx)return Qu[t]=e[n];return t}var wx=Kc("animationend"),_x=Kc("animationiteration"),xx=Kc("animationstart"),Cx=Kc("transitionend"),bx=new Map,fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(t,e){bx.set(t,e),fi(e,[t])}for(var Xu=0;Xu<fv.length;Xu++){var Zu=fv[Xu],xP=Zu.toLowerCase(),CP=Zu[0].toUpperCase()+Zu.slice(1);Sr(xP,"on"+CP)}Sr(wx,"onAnimationEnd");Sr(_x,"onAnimationIteration");Sr(xx,"onAnimationStart");Sr("dblclick","onDoubleClick");Sr("focusin","onFocus");Sr("focusout","onBlur");Sr(Cx,"onTransitionEnd");is("onMouseEnter",["mouseout","mouseover"]);is("onMouseLeave",["mouseout","mouseover"]);is("onPointerEnter",["pointerout","pointerover"]);is("onPointerLeave",["pointerout","pointerover"]);fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bP=new Set("cancel close invalid load scroll toggle".split(" ").concat(uo));function pv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xk(r,e,void 0,t),t.currentTarget=null}function Sx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;pv(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;pv(i,a,c),s=l}}}if(Ul)throw t=fh,Ul=!1,fh=null,t}function ce(t,e){var n=e[bh];n===void 0&&(n=e[bh]=new Set);var r=t+"__bubble";n.has(r)||(Ex(e,t,2,!1),n.add(r))}function Ju(t,e,n){var r=0;e&&(r|=4),Ex(n,t,r,e)}var Ka="_reactListening"+Math.random().toString(36).slice(2);function Wo(t){if(!t[Ka]){t[Ka]=!0,A_.forEach(function(n){n!=="selectionchange"&&(bP.has(n)||Ju(n,!1,t),Ju(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ka]||(e[Ka]=!0,Ju("selectionchange",!1,e))}}function Ex(t,e,n,r){switch(lx(e)){case 1:var i=jk;break;case 4:i=Fk;break;default:i=rp}n=i.bind(null,e,n,t),i=void 0,!hh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ed(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=$r(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}q_(function(){var c=s,u=Jf(n),d=[];e:{var h=bx.get(t);if(h!==void 0){var p=sp,m=t;switch(t){case"keypress":if(yl(n)===0)break e;case"keydown":case"keyup":p=Jk;break;case"focusin":m="focus",p=Ku;break;case"focusout":m="blur",p=Ku;break;case"beforeblur":case"afterblur":p=Ku;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=nv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Bk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=nP;break;case wx:case _x:case xx:p=$k;break;case Cx:p=iP;break;case"scroll":p=Vk;break;case"wheel":p=oP;break;case"copy":case"cut":case"paste":p=Gk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=iv}var w=(e&4)!==0,x=!w&&t==="scroll",v=w?h!==null?h+"Capture":null:h;w=[];for(var y=c,_;y!==null;){_=y;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,v!==null&&(C=jo(y,v),C!=null&&w.push($o(y,C,_)))),x)break;y=y.return}0<w.length&&(h=new p(h,m,null,n,u),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==uh&&(m=n.relatedTarget||n.fromElement)&&($r(m)||m[Sn]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?$r(m):null,m!==null&&(x=pi(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(w=nv,C="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=iv,C="onPointerLeave",v="onPointerEnter",y="pointer"),x=p==null?h:Ii(p),_=m==null?h:Ii(m),h=new w(C,y+"leave",p,n,u),h.target=x,h.relatedTarget=_,C=null,$r(u)===c&&(w=new w(v,y+"enter",m,n,u),w.target=_,w.relatedTarget=x,C=w),x=C,p&&m)t:{for(w=p,v=m,y=0,_=w;_;_=wi(_))y++;for(_=0,C=v;C;C=wi(C))_++;for(;0<y-_;)w=wi(w),y--;for(;0<_-y;)v=wi(v),_--;for(;y--;){if(w===v||v!==null&&w===v.alternate)break t;w=wi(w),v=wi(v)}w=null}else w=null;p!==null&&mv(d,h,p,w,!1),m!==null&&x!==null&&mv(d,x,m,w,!0)}}e:{if(h=c?Ii(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=fP;else if(av(h))if(px)b=vP;else{b=mP;var S=pP}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=gP);if(b&&(b=b(t,c))){fx(d,b,n,u);break e}S&&S(t,h,c),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&sh(h,"number",h.value)}switch(S=c?Ii(c):window,t){case"focusin":(av(S)||S.contentEditable==="true")&&(Pi=S,vh=c,_o=null);break;case"focusout":_o=vh=Pi=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,hv(d,n,u);break;case"selectionchange":if(_P)break;case"keydown":case"keyup":hv(d,n,u)}var k;if(ap)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ki?dx(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(ux&&n.locale!=="ko"&&(ki||T!=="onCompositionStart"?T==="onCompositionEnd"&&ki&&(k=cx()):(Qn=u,ip="value"in Qn?Qn.value:Qn.textContent,ki=!0)),S=Hl(c,T),0<S.length&&(T=new rv(T,t,null,n,u),d.push({event:T,listeners:S}),k?T.data=k:(k=hx(n),k!==null&&(T.data=k)))),(k=lP?cP(t,n):uP(t,n))&&(c=Hl(c,"onBeforeInput"),0<c.length&&(u=new rv("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=k))}Sx(d,e)})}function $o(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=jo(t,n),s!=null&&r.unshift($o(t,s,i)),s=jo(t,e),s!=null&&r.push($o(t,s,i))),t=t.return}return r}function wi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=jo(n,s),l!=null&&o.unshift($o(n,l,a))):i||(l=jo(n,s),l!=null&&o.push($o(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var SP=/\r\n?/g,EP=/\u0000|\uFFFD/g;function gv(t){return(typeof t=="string"?t:""+t).replace(SP,`
`).replace(EP,"")}function qa(t,e,n){if(e=gv(e),gv(t)!==e&&n)throw Error(N(425))}function Gl(){}var wh=null,_h=null;function xh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ch=typeof setTimeout=="function"?setTimeout:void 0,TP=typeof clearTimeout=="function"?clearTimeout:void 0,vv=typeof Promise=="function"?Promise:void 0,kP=typeof queueMicrotask=="function"?queueMicrotask:typeof vv<"u"?function(t){return vv.resolve(null).then(t).catch(PP)}:Ch;function PP(t){setTimeout(function(){throw t})}function td(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Uo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Uo(e)}function rr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ks=Math.random().toString(36).slice(2),Ht="__reactFiber$"+ks,Ho="__reactProps$"+ks,Sn="__reactContainer$"+ks,bh="__reactEvents$"+ks,NP="__reactListeners$"+ks,IP="__reactHandles$"+ks;function $r(t){var e=t[Ht];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sn]||n[Ht]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yv(t);t!==null;){if(n=t[Ht])return n;t=yv(t)}return e}t=n,n=t.parentNode}return null}function ya(t){return t=t[Ht]||t[Sn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ii(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function qc(t){return t[Ho]||null}var Sh=[],Ri=-1;function Er(t){return{current:t}}function ue(t){0>Ri||(t.current=Sh[Ri],Sh[Ri]=null,Ri--)}function oe(t,e){Ri++,Sh[Ri]=t.current,t.current=e}var pr={},$e=Er(pr),nt=Er(!1),ei=pr;function ss(t,e){var n=t.type.contextTypes;if(!n)return pr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rt(t){return t=t.childContextTypes,t!=null}function Kl(){ue(nt),ue($e)}function wv(t,e,n){if($e.current!==pr)throw Error(N(168));oe($e,e),oe(nt,n)}function Tx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(N(108,pk(t)||"Unknown",i));return me({},n,r)}function ql(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pr,ei=$e.current,oe($e,t),oe(nt,nt.current),!0}function _v(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=Tx(t,e,ei),r.__reactInternalMemoizedMergedChildContext=t,ue(nt),ue($e),oe($e,t)):ue(nt),oe(nt,n)}var on=null,Yc=!1,nd=!1;function kx(t){on===null?on=[t]:on.push(t)}function RP(t){Yc=!0,kx(t)}function Tr(){if(!nd&&on!==null){nd=!0;var t=0,e=ee;try{var n=on;for(ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}on=null,Yc=!1}catch(i){throw on!==null&&(on=on.slice(t+1)),Z_(ep,Tr),i}finally{ee=e,nd=!1}}return null}var Ai=[],Mi=0,Yl=null,Ql=0,yt=[],wt=0,ti=null,cn=1,un="";function Fr(t,e){Ai[Mi++]=Ql,Ai[Mi++]=Yl,Yl=t,Ql=e}function Px(t,e,n){yt[wt++]=cn,yt[wt++]=un,yt[wt++]=ti,ti=t;var r=cn;t=un;var i=32-Ot(r)-1;r&=~(1<<i),n+=1;var s=32-Ot(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,cn=1<<32-Ot(e)+i|n<<i|r,un=s+t}else cn=1<<s|n<<i|r,un=t}function cp(t){t.return!==null&&(Fr(t,1),Px(t,1,0))}function up(t){for(;t===Yl;)Yl=Ai[--Mi],Ai[Mi]=null,Ql=Ai[--Mi],Ai[Mi]=null;for(;t===ti;)ti=yt[--wt],yt[wt]=null,un=yt[--wt],yt[wt]=null,cn=yt[--wt],yt[wt]=null}var ct=null,lt=null,de=!1,It=null;function Nx(t,e){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ct=t,lt=rr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ct=t,lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ti!==null?{id:cn,overflow:un}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ct=t,lt=null,!0):!1;default:return!1}}function Eh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Th(t){if(de){var e=lt;if(e){var n=e;if(!xv(t,e)){if(Eh(t))throw Error(N(418));e=rr(n.nextSibling);var r=ct;e&&xv(t,e)?Nx(r,n):(t.flags=t.flags&-4097|2,de=!1,ct=t)}}else{if(Eh(t))throw Error(N(418));t.flags=t.flags&-4097|2,de=!1,ct=t}}}function Cv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ct=t}function Ya(t){if(t!==ct)return!1;if(!de)return Cv(t),de=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xh(t.type,t.memoizedProps)),e&&(e=lt)){if(Eh(t))throw Ix(),Error(N(418));for(;e;)Nx(t,e),e=rr(e.nextSibling)}if(Cv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){lt=rr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}lt=null}}else lt=ct?rr(t.stateNode.nextSibling):null;return!0}function Ix(){for(var t=lt;t;)t=rr(t.nextSibling)}function os(){lt=ct=null,de=!1}function dp(t){It===null?It=[t]:It.push(t)}var AP=Mn.ReactCurrentBatchConfig;function Xs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function Qa(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bv(t){var e=t._init;return e(t._payload)}function Rx(t){function e(v,y){if(t){var _=v.deletions;_===null?(v.deletions=[y],v.flags|=16):_.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=ar(v,y),v.index=0,v.sibling=null,v}function s(v,y,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<y?(v.flags|=2,y):_):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,_,C){return y===null||y.tag!==6?(y=cd(_,v.mode,C),y.return=v,y):(y=i(y,_),y.return=v,y)}function l(v,y,_,C){var b=_.type;return b===Ti?u(v,y,_.props.children,C,_.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Wn&&bv(b)===y.type)?(C=i(y,_.props),C.ref=Xs(v,y,_),C.return=v,C):(C=El(_.type,_.key,_.props,null,v.mode,C),C.ref=Xs(v,y,_),C.return=v,C)}function c(v,y,_,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=ud(_,v.mode,C),y.return=v,y):(y=i(y,_.children||[]),y.return=v,y)}function u(v,y,_,C,b){return y===null||y.tag!==7?(y=Xr(_,v.mode,C,b),y.return=v,y):(y=i(y,_),y.return=v,y)}function d(v,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=cd(""+y,v.mode,_),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Va:return _=El(y.type,y.key,y.props,null,v.mode,_),_.ref=Xs(v,null,y),_.return=v,_;case Ei:return y=ud(y,v.mode,_),y.return=v,y;case Wn:var C=y._init;return d(v,C(y._payload),_)}if(lo(y)||Gs(y))return y=Xr(y,v.mode,_,null),y.return=v,y;Qa(v,y)}return null}function h(v,y,_,C){var b=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return b!==null?null:a(v,y,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Va:return _.key===b?l(v,y,_,C):null;case Ei:return _.key===b?c(v,y,_,C):null;case Wn:return b=_._init,h(v,y,b(_._payload),C)}if(lo(_)||Gs(_))return b!==null?null:u(v,y,_,C,null);Qa(v,_)}return null}function p(v,y,_,C,b){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(_)||null,a(y,v,""+C,b);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Va:return v=v.get(C.key===null?_:C.key)||null,l(y,v,C,b);case Ei:return v=v.get(C.key===null?_:C.key)||null,c(y,v,C,b);case Wn:var S=C._init;return p(v,y,_,S(C._payload),b)}if(lo(C)||Gs(C))return v=v.get(_)||null,u(y,v,C,b,null);Qa(y,C)}return null}function m(v,y,_,C){for(var b=null,S=null,k=y,T=y=0,L=null;k!==null&&T<_.length;T++){k.index>T?(L=k,k=null):L=k.sibling;var A=h(v,k,_[T],C);if(A===null){k===null&&(k=L);break}t&&k&&A.alternate===null&&e(v,k),y=s(A,y,T),S===null?b=A:S.sibling=A,S=A,k=L}if(T===_.length)return n(v,k),de&&Fr(v,T),b;if(k===null){for(;T<_.length;T++)k=d(v,_[T],C),k!==null&&(y=s(k,y,T),S===null?b=k:S.sibling=k,S=k);return de&&Fr(v,T),b}for(k=r(v,k);T<_.length;T++)L=p(k,v,T,_[T],C),L!==null&&(t&&L.alternate!==null&&k.delete(L.key===null?T:L.key),y=s(L,y,T),S===null?b=L:S.sibling=L,S=L);return t&&k.forEach(function(z){return e(v,z)}),de&&Fr(v,T),b}function w(v,y,_,C){var b=Gs(_);if(typeof b!="function")throw Error(N(150));if(_=b.call(_),_==null)throw Error(N(151));for(var S=b=null,k=y,T=y=0,L=null,A=_.next();k!==null&&!A.done;T++,A=_.next()){k.index>T?(L=k,k=null):L=k.sibling;var z=h(v,k,A.value,C);if(z===null){k===null&&(k=L);break}t&&k&&z.alternate===null&&e(v,k),y=s(z,y,T),S===null?b=z:S.sibling=z,S=z,k=L}if(A.done)return n(v,k),de&&Fr(v,T),b;if(k===null){for(;!A.done;T++,A=_.next())A=d(v,A.value,C),A!==null&&(y=s(A,y,T),S===null?b=A:S.sibling=A,S=A);return de&&Fr(v,T),b}for(k=r(v,k);!A.done;T++,A=_.next())A=p(k,v,T,A.value,C),A!==null&&(t&&A.alternate!==null&&k.delete(A.key===null?T:A.key),y=s(A,y,T),S===null?b=A:S.sibling=A,S=A);return t&&k.forEach(function(D){return e(v,D)}),de&&Fr(v,T),b}function x(v,y,_,C){if(typeof _=="object"&&_!==null&&_.type===Ti&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Va:e:{for(var b=_.key,S=y;S!==null;){if(S.key===b){if(b=_.type,b===Ti){if(S.tag===7){n(v,S.sibling),y=i(S,_.props.children),y.return=v,v=y;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Wn&&bv(b)===S.type){n(v,S.sibling),y=i(S,_.props),y.ref=Xs(v,S,_),y.return=v,v=y;break e}n(v,S);break}else e(v,S);S=S.sibling}_.type===Ti?(y=Xr(_.props.children,v.mode,C,_.key),y.return=v,v=y):(C=El(_.type,_.key,_.props,null,v.mode,C),C.ref=Xs(v,y,_),C.return=v,v=C)}return o(v);case Ei:e:{for(S=_.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(v,y.sibling),y=i(y,_.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=ud(_,v.mode,C),y.return=v,v=y}return o(v);case Wn:return S=_._init,x(v,y,S(_._payload),C)}if(lo(_))return m(v,y,_,C);if(Gs(_))return w(v,y,_,C);Qa(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,_),y.return=v,v=y):(n(v,y),y=cd(_,v.mode,C),y.return=v,v=y),o(v)):n(v,y)}return x}var as=Rx(!0),Ax=Rx(!1),Xl=Er(null),Zl=null,Oi=null,hp=null;function fp(){hp=Oi=Zl=null}function pp(t){var e=Xl.current;ue(Xl),t._currentValue=e}function kh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ki(t,e){Zl=t,hp=Oi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Je=!0),t.firstContext=null)}function bt(t){var e=t._currentValue;if(hp!==t)if(t={context:t,memoizedValue:e,next:null},Oi===null){if(Zl===null)throw Error(N(308));Oi=t,Zl.dependencies={lanes:0,firstContext:t}}else Oi=Oi.next=t;return e}var Hr=null;function mp(t){Hr===null?Hr=[t]:Hr.push(t)}function Mx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mp(e)):(n.next=i.next,i.next=n),e.interleaved=n,En(t,r)}function En(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $n=!1;function gp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ox(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ir(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Q&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,En(t,n)}return i=r.interleaved,i===null?(e.next=e,mp(r)):(e.next=i.next,i.next=e),r.interleaved=e,En(t,n)}function wl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tp(t,n)}}function Sv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jl(t,e,n,r){var i=t.updateQueue;$n=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,w=a;switch(h=e,p=n,w.tag){case 1:if(m=w.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=me({},d,h);break e;case 2:$n=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ri|=o,t.lanes=o,t.memoizedState=d}}function Ev(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var wa={},qt=Er(wa),Go=Er(wa),Ko=Er(wa);function Gr(t){if(t===wa)throw Error(N(174));return t}function vp(t,e){switch(oe(Ko,e),oe(Go,t),oe(qt,wa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ah(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ah(e,t)}ue(qt),oe(qt,e)}function ls(){ue(qt),ue(Go),ue(Ko)}function Lx(t){Gr(Ko.current);var e=Gr(qt.current),n=ah(e,t.type);e!==n&&(oe(Go,t),oe(qt,n))}function yp(t){Go.current===t&&(ue(qt),ue(Go))}var he=Er(0);function ec(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rd=[];function wp(){for(var t=0;t<rd.length;t++)rd[t]._workInProgressVersionPrimary=null;rd.length=0}var _l=Mn.ReactCurrentDispatcher,id=Mn.ReactCurrentBatchConfig,ni=0,pe=null,be=null,ke=null,tc=!1,xo=!1,qo=0,MP=0;function Fe(){throw Error(N(321))}function _p(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ft(t[n],e[n]))return!1;return!0}function xp(t,e,n,r,i,s){if(ni=s,pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_l.current=t===null||t.memoizedState===null?jP:FP,t=n(r,i),xo){s=0;do{if(xo=!1,qo=0,25<=s)throw Error(N(301));s+=1,ke=be=null,e.updateQueue=null,_l.current=VP,t=n(r,i)}while(xo)}if(_l.current=nc,e=be!==null&&be.next!==null,ni=0,ke=be=pe=null,tc=!1,e)throw Error(N(300));return t}function Cp(){var t=qo!==0;return qo=0,t}function $t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?pe.memoizedState=ke=t:ke=ke.next=t,ke}function St(){if(be===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=be.next;var e=ke===null?pe.memoizedState:ke.next;if(e!==null)ke=e,be=t;else{if(t===null)throw Error(N(310));be=t,t={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},ke===null?pe.memoizedState=ke=t:ke=ke.next=t}return ke}function Yo(t,e){return typeof e=="function"?e(t):e}function sd(t){var e=St(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=be,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((ni&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,pe.lanes|=u,ri|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ft(r,e.memoizedState)||(Je=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,pe.lanes|=s,ri|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function od(t){var e=St(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ft(s,e.memoizedState)||(Je=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Dx(){}function jx(t,e){var n=pe,r=St(),i=e(),s=!Ft(r.memoizedState,i);if(s&&(r.memoizedState=i,Je=!0),r=r.queue,bp(Ux.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ke!==null&&ke.memoizedState.tag&1){if(n.flags|=2048,Qo(9,Vx.bind(null,n,r,i,e),void 0,null),Re===null)throw Error(N(349));ni&30||Fx(n,e,i)}return i}function Fx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Vx(t,e,n,r){e.value=n,e.getSnapshot=r,Bx(e)&&zx(t)}function Ux(t,e,n){return n(function(){Bx(e)&&zx(t)})}function Bx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ft(t,n)}catch{return!0}}function zx(t){var e=En(t,1);e!==null&&Lt(e,t,1,-1)}function Tv(t){var e=$t();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:t},e.queue=t,t=t.dispatch=DP.bind(null,pe,t),[e.memoizedState,t]}function Qo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Wx(){return St().memoizedState}function xl(t,e,n,r){var i=$t();pe.flags|=t,i.memoizedState=Qo(1|e,n,void 0,r===void 0?null:r)}function Qc(t,e,n,r){var i=St();r=r===void 0?null:r;var s=void 0;if(be!==null){var o=be.memoizedState;if(s=o.destroy,r!==null&&_p(r,o.deps)){i.memoizedState=Qo(e,n,s,r);return}}pe.flags|=t,i.memoizedState=Qo(1|e,n,s,r)}function kv(t,e){return xl(8390656,8,t,e)}function bp(t,e){return Qc(2048,8,t,e)}function $x(t,e){return Qc(4,2,t,e)}function Hx(t,e){return Qc(4,4,t,e)}function Gx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kx(t,e,n){return n=n!=null?n.concat([t]):null,Qc(4,4,Gx.bind(null,e,t),n)}function Sp(){}function qx(t,e){var n=St();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_p(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Yx(t,e){var n=St();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_p(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Qx(t,e,n){return ni&21?(Ft(n,e)||(n=tx(),pe.lanes|=n,ri|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Je=!0),t.memoizedState=n)}function OP(t,e){var n=ee;ee=n!==0&&4>n?n:4,t(!0);var r=id.transition;id.transition={};try{t(!1),e()}finally{ee=n,id.transition=r}}function Xx(){return St().memoizedState}function LP(t,e,n){var r=or(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zx(t))Jx(e,n);else if(n=Mx(t,e,n,r),n!==null){var i=Ke();Lt(n,t,r,i),e1(n,e,r)}}function DP(t,e,n){var r=or(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zx(t))Jx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ft(a,o)){var l=e.interleaved;l===null?(i.next=i,mp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Mx(t,e,i,r),n!==null&&(i=Ke(),Lt(n,t,r,i),e1(n,e,r))}}function Zx(t){var e=t.alternate;return t===pe||e!==null&&e===pe}function Jx(t,e){xo=tc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function e1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tp(t,n)}}var nc={readContext:bt,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},jP={readContext:bt,useCallback:function(t,e){return $t().memoizedState=[t,e===void 0?null:e],t},useContext:bt,useEffect:kv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xl(4194308,4,Gx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xl(4194308,4,t,e)},useInsertionEffect:function(t,e){return xl(4,2,t,e)},useMemo:function(t,e){var n=$t();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$t();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LP.bind(null,pe,t),[r.memoizedState,t]},useRef:function(t){var e=$t();return t={current:t},e.memoizedState=t},useState:Tv,useDebugValue:Sp,useDeferredValue:function(t){return $t().memoizedState=t},useTransition:function(){var t=Tv(!1),e=t[0];return t=OP.bind(null,t[1]),$t().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pe,i=$t();if(de){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),Re===null)throw Error(N(349));ni&30||Fx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,kv(Ux.bind(null,r,s,t),[t]),r.flags|=2048,Qo(9,Vx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=$t(),e=Re.identifierPrefix;if(de){var n=un,r=cn;n=(r&~(1<<32-Ot(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=qo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FP={readContext:bt,useCallback:qx,useContext:bt,useEffect:bp,useImperativeHandle:Kx,useInsertionEffect:$x,useLayoutEffect:Hx,useMemo:Yx,useReducer:sd,useRef:Wx,useState:function(){return sd(Yo)},useDebugValue:Sp,useDeferredValue:function(t){var e=St();return Qx(e,be.memoizedState,t)},useTransition:function(){var t=sd(Yo)[0],e=St().memoizedState;return[t,e]},useMutableSource:Dx,useSyncExternalStore:jx,useId:Xx,unstable_isNewReconciler:!1},VP={readContext:bt,useCallback:qx,useContext:bt,useEffect:bp,useImperativeHandle:Kx,useInsertionEffect:$x,useLayoutEffect:Hx,useMemo:Yx,useReducer:od,useRef:Wx,useState:function(){return od(Yo)},useDebugValue:Sp,useDeferredValue:function(t){var e=St();return be===null?e.memoizedState=t:Qx(e,be.memoizedState,t)},useTransition:function(){var t=od(Yo)[0],e=St().memoizedState;return[t,e]},useMutableSource:Dx,useSyncExternalStore:jx,useId:Xx,unstable_isNewReconciler:!1};function Pt(t,e){if(t&&t.defaultProps){e=me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ph(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xc={isMounted:function(t){return(t=t._reactInternals)?pi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ke(),i=or(t),s=gn(r,i);s.payload=e,n!=null&&(s.callback=n),e=ir(t,s,i),e!==null&&(Lt(e,t,i,r),wl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ke(),i=or(t),s=gn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ir(t,s,i),e!==null&&(Lt(e,t,i,r),wl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ke(),r=or(t),i=gn(n,r);i.tag=2,e!=null&&(i.callback=e),e=ir(t,i,r),e!==null&&(Lt(e,t,r,n),wl(e,t,r))}};function Pv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!zo(n,r)||!zo(i,s):!0}function t1(t,e,n){var r=!1,i=pr,s=e.contextType;return typeof s=="object"&&s!==null?s=bt(s):(i=rt(e)?ei:$e.current,r=e.contextTypes,s=(r=r!=null)?ss(t,i):pr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Nv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xc.enqueueReplaceState(e,e.state,null)}function Nh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},gp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=bt(s):(s=rt(e)?ei:$e.current,i.context=ss(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ph(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Xc.enqueueReplaceState(i,i.state,null),Jl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cs(t,e){try{var n="",r=e;do n+=fk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ad(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ih(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var UP=typeof WeakMap=="function"?WeakMap:Map;function n1(t,e,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ic||(ic=!0,Uh=r),Ih(t,e)},n}function r1(t,e,n){n=gn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ih(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ih(t,e),typeof r!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Iv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new UP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=eN.bind(null,t,e,n),e.then(t,t))}function Rv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Av(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gn(-1,1),e.tag=2,ir(n,e,1))),n.lanes|=1),t)}var BP=Mn.ReactCurrentOwner,Je=!1;function Ge(t,e,n,r){e.child=t===null?Ax(e,null,n,r):as(e,t.child,n,r)}function Mv(t,e,n,r,i){n=n.render;var s=e.ref;return Ki(e,i),r=xp(t,e,n,r,s,i),n=Cp(),t!==null&&!Je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tn(t,e,i)):(de&&n&&cp(e),e.flags|=1,Ge(t,e,r,i),e.child)}function Ov(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ap(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,i1(t,e,s,r,i)):(t=El(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:zo,n(o,r)&&t.ref===e.ref)return Tn(t,e,i)}return e.flags|=1,t=ar(s,r),t.ref=e.ref,t.return=e,e.child=t}function i1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(zo(s,r)&&t.ref===e.ref)if(Je=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Je=!0);else return e.lanes=t.lanes,Tn(t,e,i)}return Rh(t,e,n,r,i)}function s1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(Di,ot),ot|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,oe(Di,ot),ot|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,oe(Di,ot),ot|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,oe(Di,ot),ot|=r;return Ge(t,e,i,n),e.child}function o1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rh(t,e,n,r,i){var s=rt(n)?ei:$e.current;return s=ss(e,s),Ki(e,i),n=xp(t,e,n,r,s,i),r=Cp(),t!==null&&!Je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tn(t,e,i)):(de&&r&&cp(e),e.flags|=1,Ge(t,e,n,i),e.child)}function Lv(t,e,n,r,i){if(rt(n)){var s=!0;ql(e)}else s=!1;if(Ki(e,i),e.stateNode===null)Cl(t,e),t1(e,n,r),Nh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=bt(c):(c=rt(n)?ei:$e.current,c=ss(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Nv(e,o,r,c),$n=!1;var h=e.memoizedState;o.state=h,Jl(e,r,o,i),l=e.memoizedState,a!==r||h!==l||nt.current||$n?(typeof u=="function"&&(Ph(e,n,u,r),l=e.memoizedState),(a=$n||Pv(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ox(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Pt(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=bt(l):(l=rt(n)?ei:$e.current,l=ss(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Nv(e,o,r,l),$n=!1,h=e.memoizedState,o.state=h,Jl(e,r,o,i);var m=e.memoizedState;a!==d||h!==m||nt.current||$n?(typeof p=="function"&&(Ph(e,n,p,r),m=e.memoizedState),(c=$n||Pv(e,n,c,r,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ah(t,e,n,r,s,i)}function Ah(t,e,n,r,i,s){o1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&_v(e,n,!1),Tn(t,e,s);r=e.stateNode,BP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=as(e,t.child,null,s),e.child=as(e,null,a,s)):Ge(t,e,a,s),e.memoizedState=r.state,i&&_v(e,n,!0),e.child}function a1(t){var e=t.stateNode;e.pendingContext?wv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wv(t,e.context,!1),vp(t,e.containerInfo)}function Dv(t,e,n,r,i){return os(),dp(i),e.flags|=256,Ge(t,e,n,r),e.child}var Mh={dehydrated:null,treeContext:null,retryLane:0};function Oh(t){return{baseLanes:t,cachePool:null,transitions:null}}function l1(t,e,n){var r=e.pendingProps,i=he.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),oe(he,i&1),t===null)return Th(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=eu(o,r,0,null),t=Xr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Oh(n),e.memoizedState=Mh,t):Ep(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return zP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ar(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ar(a,s):(s=Xr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Oh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Mh,r}return s=t.child,t=s.sibling,r=ar(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ep(t,e){return e=eu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xa(t,e,n,r){return r!==null&&dp(r),as(e,t.child,null,n),t=Ep(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ad(Error(N(422))),Xa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=eu({mode:"visible",children:r.children},i,0,null),s=Xr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&as(e,t.child,null,o),e.child.memoizedState=Oh(o),e.memoizedState=Mh,s);if(!(e.mode&1))return Xa(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(N(419)),r=ad(s,r,void 0),Xa(t,e,o,r)}if(a=(o&t.childLanes)!==0,Je||a){if(r=Re,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,En(t,i),Lt(r,t,i,-1))}return Rp(),r=ad(Error(N(421))),Xa(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,lt=rr(i.nextSibling),ct=e,de=!0,It=null,t!==null&&(yt[wt++]=cn,yt[wt++]=un,yt[wt++]=ti,cn=t.id,un=t.overflow,ti=e),e=Ep(e,r.children),e.flags|=4096,e)}function jv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),kh(t.return,e,n)}function ld(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function c1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ge(t,e,r.children,n),r=he.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jv(t,n,e);else if(t.tag===19)jv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(oe(he,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ec(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ld(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ec(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ld(e,!0,n,null,s);break;case"together":ld(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ri|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=ar(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ar(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WP(t,e,n){switch(e.tag){case 3:a1(e),os();break;case 5:Lx(e);break;case 1:rt(e.type)&&ql(e);break;case 4:vp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;oe(Xl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(oe(he,he.current&1),e.flags|=128,null):n&e.child.childLanes?l1(t,e,n):(oe(he,he.current&1),t=Tn(t,e,n),t!==null?t.sibling:null);oe(he,he.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return c1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),oe(he,he.current),r)break;return null;case 22:case 23:return e.lanes=0,s1(t,e,n)}return Tn(t,e,n)}var u1,Lh,d1,h1;u1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lh=function(){};d1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Gr(qt.current);var s=null;switch(n){case"input":i=rh(t,i),r=rh(t,r),s=[];break;case"select":i=me({},i,{value:void 0}),r=me({},r,{value:void 0}),s=[];break;case"textarea":i=oh(t,i),r=oh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gl)}lh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Lo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Lo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ce("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};h1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zs(t,e){if(!de)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $P(t,e,n){var r=e.pendingProps;switch(up(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(e),null;case 1:return rt(e.type)&&Kl(),Ve(e),null;case 3:return r=e.stateNode,ls(),ue(nt),ue($e),wp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ya(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,It!==null&&(Wh(It),It=null))),Lh(t,e),Ve(e),null;case 5:yp(e);var i=Gr(Ko.current);if(n=e.type,t!==null&&e.stateNode!=null)d1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return Ve(e),null}if(t=Gr(qt.current),Ya(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ht]=e,r[Ho]=s,t=(e.mode&1)!==0,n){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(i=0;i<uo.length;i++)ce(uo[i],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":Gg(r,s),ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ce("invalid",r);break;case"textarea":qg(r,s),ce("invalid",r)}lh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&qa(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&qa(r.textContent,a,t),i=["children",""+a]):Lo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ce("scroll",r)}switch(n){case"input":Ua(r),Kg(r,s,!0);break;case"textarea":Ua(r),Yg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Gl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=U_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ht]=e,t[Ho]=r,u1(t,e,!1,!1),e.stateNode=t;e:{switch(o=ch(n,r),n){case"dialog":ce("cancel",t),ce("close",t),i=r;break;case"iframe":case"object":case"embed":ce("load",t),i=r;break;case"video":case"audio":for(i=0;i<uo.length;i++)ce(uo[i],t);i=r;break;case"source":ce("error",t),i=r;break;case"img":case"image":case"link":ce("error",t),ce("load",t),i=r;break;case"details":ce("toggle",t),i=r;break;case"input":Gg(t,r),i=rh(t,r),ce("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=me({},r,{value:void 0}),ce("invalid",t);break;case"textarea":qg(t,r),i=oh(t,r),ce("invalid",t);break;default:i=r}lh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?W_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&B_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Do(t,l):typeof l=="number"&&Do(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Lo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ce("scroll",t):l!=null&&Yf(t,s,l,o))}switch(n){case"input":Ua(t),Kg(t,r,!1);break;case"textarea":Ua(t),Yg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Wi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Wi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ve(e),null;case 6:if(t&&e.stateNode!=null)h1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=Gr(Ko.current),Gr(qt.current),Ya(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ht]=e,(s=r.nodeValue!==n)&&(t=ct,t!==null))switch(t.tag){case 3:qa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qa(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ht]=e,e.stateNode=r}return Ve(e),null;case 13:if(ue(he),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(de&&lt!==null&&e.mode&1&&!(e.flags&128))Ix(),os(),e.flags|=98560,s=!1;else if(s=Ya(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[Ht]=e}else os(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ve(e),s=!1}else It!==null&&(Wh(It),It=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||he.current&1?Se===0&&(Se=3):Rp())),e.updateQueue!==null&&(e.flags|=4),Ve(e),null);case 4:return ls(),Lh(t,e),t===null&&Wo(e.stateNode.containerInfo),Ve(e),null;case 10:return pp(e.type._context),Ve(e),null;case 17:return rt(e.type)&&Kl(),Ve(e),null;case 19:if(ue(he),s=e.memoizedState,s===null)return Ve(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Zs(s,!1);else{if(Se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ec(t),o!==null){for(e.flags|=128,Zs(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return oe(he,he.current&1|2),e.child}t=t.sibling}s.tail!==null&&xe()>us&&(e.flags|=128,r=!0,Zs(s,!1),e.lanes=4194304)}else{if(!r)if(t=ec(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!de)return Ve(e),null}else 2*xe()-s.renderingStartTime>us&&n!==1073741824&&(e.flags|=128,r=!0,Zs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xe(),e.sibling=null,n=he.current,oe(he,r?n&1|2:n&1),e):(Ve(e),null);case 22:case 23:return Ip(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ot&1073741824&&(Ve(e),e.subtreeFlags&6&&(e.flags|=8192)):Ve(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function HP(t,e){switch(up(e),e.tag){case 1:return rt(e.type)&&Kl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ls(),ue(nt),ue($e),wp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yp(e),null;case 13:if(ue(he),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));os()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ue(he),null;case 4:return ls(),null;case 10:return pp(e.type._context),null;case 22:case 23:return Ip(),null;case 24:return null;default:return null}}var Za=!1,Be=!1,GP=typeof WeakSet=="function"?WeakSet:Set,O=null;function Li(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ve(t,e,r)}else n.current=null}function Dh(t,e,n){try{n()}catch(r){ve(t,e,r)}}var Fv=!1;function KP(t,e){if(wh=Wl,t=vx(),lp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_h={focusedElem:t,selectionRange:n},Wl=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,x=m.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:Pt(e.type,w),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(C){ve(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return m=Fv,Fv=!1,m}function Co(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Dh(e,n,s)}i=i.next}while(i!==r)}}function Zc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function f1(t){var e=t.alternate;e!==null&&(t.alternate=null,f1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ht],delete e[Ho],delete e[bh],delete e[NP],delete e[IP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function p1(t){return t.tag===5||t.tag===3||t.tag===4}function Vv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||p1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gl));else if(r!==4&&(t=t.child,t!==null))for(Fh(t,e,n),t=t.sibling;t!==null;)Fh(t,e,n),t=t.sibling}function Vh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vh(t,e,n),t=t.sibling;t!==null;)Vh(t,e,n),t=t.sibling}var Ae=null,Nt=!1;function Dn(t,e,n){for(n=n.child;n!==null;)m1(t,e,n),n=n.sibling}function m1(t,e,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount($c,n)}catch{}switch(n.tag){case 5:Be||Li(n,e);case 6:var r=Ae,i=Nt;Ae=null,Dn(t,e,n),Ae=r,Nt=i,Ae!==null&&(Nt?(t=Ae,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(Nt?(t=Ae,n=n.stateNode,t.nodeType===8?td(t.parentNode,n):t.nodeType===1&&td(t,n),Uo(t)):td(Ae,n.stateNode));break;case 4:r=Ae,i=Nt,Ae=n.stateNode.containerInfo,Nt=!0,Dn(t,e,n),Ae=r,Nt=i;break;case 0:case 11:case 14:case 15:if(!Be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Dh(n,e,o),i=i.next}while(i!==r)}Dn(t,e,n);break;case 1:if(!Be&&(Li(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ve(n,e,a)}Dn(t,e,n);break;case 21:Dn(t,e,n);break;case 22:n.mode&1?(Be=(r=Be)||n.memoizedState!==null,Dn(t,e,n),Be=r):Dn(t,e,n);break;default:Dn(t,e,n)}}function Uv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GP),e.forEach(function(r){var i=nN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ae=a.stateNode,Nt=!1;break e;case 3:Ae=a.stateNode.containerInfo,Nt=!0;break e;case 4:Ae=a.stateNode.containerInfo,Nt=!0;break e}a=a.return}if(Ae===null)throw Error(N(160));m1(s,o,i),Ae=null,Nt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ve(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)g1(e,t),e=e.sibling}function g1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tt(e,t),zt(t),r&4){try{Co(3,t,t.return),Zc(3,t)}catch(w){ve(t,t.return,w)}try{Co(5,t,t.return)}catch(w){ve(t,t.return,w)}}break;case 1:Tt(e,t),zt(t),r&512&&n!==null&&Li(n,n.return);break;case 5:if(Tt(e,t),zt(t),r&512&&n!==null&&Li(n,n.return),t.flags&32){var i=t.stateNode;try{Do(i,"")}catch(w){ve(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&F_(i,s),ch(a,o);var c=ch(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?W_(i,d):u==="dangerouslySetInnerHTML"?B_(i,d):u==="children"?Do(i,d):Yf(i,u,d,c)}switch(a){case"input":ih(i,s);break;case"textarea":V_(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Wi(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Wi(i,!!s.multiple,s.defaultValue,!0):Wi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ho]=s}catch(w){ve(t,t.return,w)}}break;case 6:if(Tt(e,t),zt(t),r&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){ve(t,t.return,w)}}break;case 3:if(Tt(e,t),zt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Uo(e.containerInfo)}catch(w){ve(t,t.return,w)}break;case 4:Tt(e,t),zt(t);break;case 13:Tt(e,t),zt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Pp=xe())),r&4&&Uv(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Be=(c=Be)||u,Tt(e,t),Be=c):Tt(e,t),zt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(O=t,u=t.child;u!==null;){for(d=O=u;O!==null;){switch(h=O,p=h.child,h.tag){case 0:case 11:case 14:case 15:Co(4,h,h.return);break;case 1:Li(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(w){ve(r,n,w)}}break;case 5:Li(h,h.return);break;case 22:if(h.memoizedState!==null){zv(d);continue}}p!==null?(p.return=h,O=p):zv(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=z_("display",o))}catch(w){ve(t,t.return,w)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(w){ve(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Tt(e,t),zt(t),r&4&&Uv(t);break;case 21:break;default:Tt(e,t),zt(t)}}function zt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(p1(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Do(i,""),r.flags&=-33);var s=Vv(t);Vh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Vv(t);Fh(t,a,o);break;default:throw Error(N(161))}}catch(l){ve(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qP(t,e,n){O=t,v1(t)}function v1(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var i=O,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Za;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Be;a=Za;var c=Be;if(Za=o,(Be=l)&&!c)for(O=i;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?Wv(i):l!==null?(l.return=o,O=l):Wv(i);for(;s!==null;)O=s,v1(s),s=s.sibling;O=i,Za=a,Be=c}Bv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,O=s):Bv(t)}}function Bv(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Be||Zc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Be)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Pt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ev(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ev(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Uo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Be||e.flags&512&&jh(e)}catch(h){ve(e,e.return,h)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function zv(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function Wv(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zc(4,e)}catch(l){ve(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ve(e,i,l)}}var s=e.return;try{jh(e)}catch(l){ve(e,s,l)}break;case 5:var o=e.return;try{jh(e)}catch(l){ve(e,o,l)}}}catch(l){ve(e,e.return,l)}if(e===t){O=null;break}var a=e.sibling;if(a!==null){a.return=e.return,O=a;break}O=e.return}}var YP=Math.ceil,rc=Mn.ReactCurrentDispatcher,Tp=Mn.ReactCurrentOwner,Ct=Mn.ReactCurrentBatchConfig,Q=0,Re=null,Ce=null,Le=0,ot=0,Di=Er(0),Se=0,Xo=null,ri=0,Jc=0,kp=0,bo=null,Ze=null,Pp=0,us=1/0,sn=null,ic=!1,Uh=null,sr=null,Ja=!1,Xn=null,sc=0,So=0,Bh=null,bl=-1,Sl=0;function Ke(){return Q&6?xe():bl!==-1?bl:bl=xe()}function or(t){return t.mode&1?Q&2&&Le!==0?Le&-Le:AP.transition!==null?(Sl===0&&(Sl=tx()),Sl):(t=ee,t!==0||(t=window.event,t=t===void 0?16:lx(t.type)),t):1}function Lt(t,e,n,r){if(50<So)throw So=0,Bh=null,Error(N(185));ga(t,n,r),(!(Q&2)||t!==Re)&&(t===Re&&(!(Q&2)&&(Jc|=n),Se===4&&Gn(t,Le)),it(t,r),n===1&&Q===0&&!(e.mode&1)&&(us=xe()+500,Yc&&Tr()))}function it(t,e){var n=t.callbackNode;Ak(t,e);var r=zl(t,t===Re?Le:0);if(r===0)n!==null&&Zg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Zg(n),e===1)t.tag===0?RP($v.bind(null,t)):kx($v.bind(null,t)),kP(function(){!(Q&6)&&Tr()}),n=null;else{switch(nx(r)){case 1:n=ep;break;case 4:n=J_;break;case 16:n=Bl;break;case 536870912:n=ex;break;default:n=Bl}n=E1(n,y1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function y1(t,e){if(bl=-1,Sl=0,Q&6)throw Error(N(327));var n=t.callbackNode;if(qi()&&t.callbackNode!==n)return null;var r=zl(t,t===Re?Le:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=oc(t,r);else{e=r;var i=Q;Q|=2;var s=_1();(Re!==t||Le!==e)&&(sn=null,us=xe()+500,Qr(t,e));do try{ZP();break}catch(a){w1(t,a)}while(!0);fp(),rc.current=s,Q=i,Ce!==null?e=0:(Re=null,Le=0,e=Se)}if(e!==0){if(e===2&&(i=ph(t),i!==0&&(r=i,e=zh(t,i))),e===1)throw n=Xo,Qr(t,0),Gn(t,r),it(t,xe()),n;if(e===6)Gn(t,r);else{if(i=t.current.alternate,!(r&30)&&!QP(i)&&(e=oc(t,r),e===2&&(s=ph(t),s!==0&&(r=s,e=zh(t,s))),e===1))throw n=Xo,Qr(t,0),Gn(t,r),it(t,xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:Vr(t,Ze,sn);break;case 3:if(Gn(t,r),(r&130023424)===r&&(e=Pp+500-xe(),10<e)){if(zl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ke(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ch(Vr.bind(null,t,Ze,sn),e);break}Vr(t,Ze,sn);break;case 4:if(Gn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ot(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YP(r/1960))-r,10<r){t.timeoutHandle=Ch(Vr.bind(null,t,Ze,sn),r);break}Vr(t,Ze,sn);break;case 5:Vr(t,Ze,sn);break;default:throw Error(N(329))}}}return it(t,xe()),t.callbackNode===n?y1.bind(null,t):null}function zh(t,e){var n=bo;return t.current.memoizedState.isDehydrated&&(Qr(t,e).flags|=256),t=oc(t,e),t!==2&&(e=Ze,Ze=n,e!==null&&Wh(e)),t}function Wh(t){Ze===null?Ze=t:Ze.push.apply(Ze,t)}function QP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ft(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gn(t,e){for(e&=~kp,e&=~Jc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ot(e),r=1<<n;t[n]=-1,e&=~r}}function $v(t){if(Q&6)throw Error(N(327));qi();var e=zl(t,0);if(!(e&1))return it(t,xe()),null;var n=oc(t,e);if(t.tag!==0&&n===2){var r=ph(t);r!==0&&(e=r,n=zh(t,r))}if(n===1)throw n=Xo,Qr(t,0),Gn(t,e),it(t,xe()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vr(t,Ze,sn),it(t,xe()),null}function Np(t,e){var n=Q;Q|=1;try{return t(e)}finally{Q=n,Q===0&&(us=xe()+500,Yc&&Tr())}}function ii(t){Xn!==null&&Xn.tag===0&&!(Q&6)&&qi();var e=Q;Q|=1;var n=Ct.transition,r=ee;try{if(Ct.transition=null,ee=1,t)return t()}finally{ee=r,Ct.transition=n,Q=e,!(Q&6)&&Tr()}}function Ip(){ot=Di.current,ue(Di)}function Qr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,TP(n)),Ce!==null)for(n=Ce.return;n!==null;){var r=n;switch(up(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kl();break;case 3:ls(),ue(nt),ue($e),wp();break;case 5:yp(r);break;case 4:ls();break;case 13:ue(he);break;case 19:ue(he);break;case 10:pp(r.type._context);break;case 22:case 23:Ip()}n=n.return}if(Re=t,Ce=t=ar(t.current,null),Le=ot=e,Se=0,Xo=null,kp=Jc=ri=0,Ze=bo=null,Hr!==null){for(e=0;e<Hr.length;e++)if(n=Hr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Hr=null}return t}function w1(t,e){do{var n=Ce;try{if(fp(),_l.current=nc,tc){for(var r=pe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}tc=!1}if(ni=0,ke=be=pe=null,xo=!1,qo=0,Tp.current=null,n===null||n.return===null){Se=1,Xo=e,Ce=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Le,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Rv(o);if(p!==null){p.flags&=-257,Av(p,o,a,s,e),p.mode&1&&Iv(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var w=new Set;w.add(l),e.updateQueue=w}else m.add(l);break e}else{if(!(e&1)){Iv(s,c,e),Rp();break e}l=Error(N(426))}}else if(de&&a.mode&1){var x=Rv(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Av(x,o,a,s,e),dp(cs(l,a));break e}}s=l=cs(l,a),Se!==4&&(Se=2),bo===null?bo=[s]:bo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=n1(s,l,e);Sv(s,v);break e;case 1:a=l;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(sr===null||!sr.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=r1(s,a,e);Sv(s,C);break e}}s=s.return}while(s!==null)}C1(n)}catch(b){e=b,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(!0)}function _1(){var t=rc.current;return rc.current=nc,t===null?nc:t}function Rp(){(Se===0||Se===3||Se===2)&&(Se=4),Re===null||!(ri&268435455)&&!(Jc&268435455)||Gn(Re,Le)}function oc(t,e){var n=Q;Q|=2;var r=_1();(Re!==t||Le!==e)&&(sn=null,Qr(t,e));do try{XP();break}catch(i){w1(t,i)}while(!0);if(fp(),Q=n,rc.current=r,Ce!==null)throw Error(N(261));return Re=null,Le=0,Se}function XP(){for(;Ce!==null;)x1(Ce)}function ZP(){for(;Ce!==null&&!bk();)x1(Ce)}function x1(t){var e=S1(t.alternate,t,ot);t.memoizedProps=t.pendingProps,e===null?C1(t):Ce=e,Tp.current=null}function C1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=HP(n,e),n!==null){n.flags&=32767,Ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Se=6,Ce=null;return}}else if(n=$P(n,e,ot),n!==null){Ce=n;return}if(e=e.sibling,e!==null){Ce=e;return}Ce=e=t}while(e!==null);Se===0&&(Se=5)}function Vr(t,e,n){var r=ee,i=Ct.transition;try{Ct.transition=null,ee=1,JP(t,e,n,r)}finally{Ct.transition=i,ee=r}return null}function JP(t,e,n,r){do qi();while(Xn!==null);if(Q&6)throw Error(N(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Mk(t,s),t===Re&&(Ce=Re=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ja||(Ja=!0,E1(Bl,function(){return qi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ct.transition,Ct.transition=null;var o=ee;ee=1;var a=Q;Q|=4,Tp.current=null,KP(t,n),g1(n,t),wP(_h),Wl=!!wh,_h=wh=null,t.current=n,qP(n),Sk(),Q=a,ee=o,Ct.transition=s}else t.current=n;if(Ja&&(Ja=!1,Xn=t,sc=i),s=t.pendingLanes,s===0&&(sr=null),kk(n.stateNode),it(t,xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ic)throw ic=!1,t=Uh,Uh=null,t;return sc&1&&t.tag!==0&&qi(),s=t.pendingLanes,s&1?t===Bh?So++:(So=0,Bh=t):So=0,Tr(),null}function qi(){if(Xn!==null){var t=nx(sc),e=Ct.transition,n=ee;try{if(Ct.transition=null,ee=16>t?16:t,Xn===null)var r=!1;else{if(t=Xn,Xn=null,sc=0,Q&6)throw Error(N(331));var i=Q;for(Q|=4,O=t.current;O!==null;){var s=O,o=s.child;if(O.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(O=c;O!==null;){var u=O;switch(u.tag){case 0:case 11:case 15:Co(8,u,s)}var d=u.child;if(d!==null)d.return=u,O=d;else for(;O!==null;){u=O;var h=u.sibling,p=u.return;if(f1(u),u===c){O=null;break}if(h!==null){h.return=p,O=h;break}O=p}}}var m=s.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}O=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,O=o;else e:for(;O!==null;){if(s=O,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Co(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,O=v;break e}O=s.return}}var y=t.current;for(O=y;O!==null;){o=O;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,O=_;else e:for(o=y;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Zc(9,a)}}catch(b){ve(a,a.return,b)}if(a===o){O=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,O=C;break e}O=a.return}}if(Q=i,Tr(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot($c,t)}catch{}r=!0}return r}finally{ee=n,Ct.transition=e}}return!1}function Hv(t,e,n){e=cs(n,e),e=n1(t,e,1),t=ir(t,e,1),e=Ke(),t!==null&&(ga(t,1,e),it(t,e))}function ve(t,e,n){if(t.tag===3)Hv(t,t,n);else for(;e!==null;){if(e.tag===3){Hv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sr===null||!sr.has(r))){t=cs(n,t),t=r1(e,t,1),e=ir(e,t,1),t=Ke(),e!==null&&(ga(e,1,t),it(e,t));break}}e=e.return}}function eN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ke(),t.pingedLanes|=t.suspendedLanes&n,Re===t&&(Le&n)===n&&(Se===4||Se===3&&(Le&130023424)===Le&&500>xe()-Pp?Qr(t,0):kp|=n),it(t,e)}function b1(t,e){e===0&&(t.mode&1?(e=Wa,Wa<<=1,!(Wa&130023424)&&(Wa=4194304)):e=1);var n=Ke();t=En(t,e),t!==null&&(ga(t,e,n),it(t,n))}function tN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),b1(t,n)}function nN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),b1(t,n)}var S1;S1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nt.current)Je=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Je=!1,WP(t,e,n);Je=!!(t.flags&131072)}else Je=!1,de&&e.flags&1048576&&Px(e,Ql,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cl(t,e),t=e.pendingProps;var i=ss(e,$e.current);Ki(e,n),i=xp(null,e,r,t,i,n);var s=Cp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rt(r)?(s=!0,ql(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gp(e),i.updater=Xc,e.stateNode=i,i._reactInternals=e,Nh(e,r,t,n),e=Ah(null,e,r,!0,s,n)):(e.tag=0,de&&s&&cp(e),Ge(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=iN(r),t=Pt(r,t),i){case 0:e=Rh(null,e,r,t,n);break e;case 1:e=Lv(null,e,r,t,n);break e;case 11:e=Mv(null,e,r,t,n);break e;case 14:e=Ov(null,e,r,Pt(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pt(r,i),Rh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pt(r,i),Lv(t,e,r,i,n);case 3:e:{if(a1(e),t===null)throw Error(N(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ox(t,e),Jl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=cs(Error(N(423)),e),e=Dv(t,e,r,n,i);break e}else if(r!==i){i=cs(Error(N(424)),e),e=Dv(t,e,r,n,i);break e}else for(lt=rr(e.stateNode.containerInfo.firstChild),ct=e,de=!0,It=null,n=Ax(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(os(),r===i){e=Tn(t,e,n);break e}Ge(t,e,r,n)}e=e.child}return e;case 5:return Lx(e),t===null&&Th(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,xh(r,i)?o=null:s!==null&&xh(r,s)&&(e.flags|=32),o1(t,e),Ge(t,e,o,n),e.child;case 6:return t===null&&Th(e),null;case 13:return l1(t,e,n);case 4:return vp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=as(e,null,r,n):Ge(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pt(r,i),Mv(t,e,r,i,n);case 7:return Ge(t,e,e.pendingProps,n),e.child;case 8:return Ge(t,e,e.pendingProps.children,n),e.child;case 12:return Ge(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,oe(Xl,r._currentValue),r._currentValue=o,s!==null)if(Ft(s.value,o)){if(s.children===i.children&&!nt.current){e=Tn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=gn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),kh(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),kh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ge(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ki(e,n),i=bt(i),r=r(i),e.flags|=1,Ge(t,e,r,n),e.child;case 14:return r=e.type,i=Pt(r,e.pendingProps),i=Pt(r.type,i),Ov(t,e,r,i,n);case 15:return i1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pt(r,i),Cl(t,e),e.tag=1,rt(r)?(t=!0,ql(e)):t=!1,Ki(e,n),t1(e,r,i),Nh(e,r,i,n),Ah(null,e,r,!0,t,n);case 19:return c1(t,e,n);case 22:return s1(t,e,n)}throw Error(N(156,e.tag))};function E1(t,e){return Z_(t,e)}function rN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(t,e,n,r){return new rN(t,e,n,r)}function Ap(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iN(t){if(typeof t=="function")return Ap(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xf)return 11;if(t===Zf)return 14}return 2}function ar(t,e){var n=t.alternate;return n===null?(n=_t(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function El(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ap(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ti:return Xr(n.children,i,s,e);case Qf:o=8,i|=8;break;case Jd:return t=_t(12,n,e,i|2),t.elementType=Jd,t.lanes=s,t;case eh:return t=_t(13,n,e,i),t.elementType=eh,t.lanes=s,t;case th:return t=_t(19,n,e,i),t.elementType=th,t.lanes=s,t;case L_:return eu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M_:o=10;break e;case O_:o=9;break e;case Xf:o=11;break e;case Zf:o=14;break e;case Wn:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=_t(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Xr(t,e,n,r){return t=_t(7,t,r,e),t.lanes=n,t}function eu(t,e,n,r){return t=_t(22,t,r,e),t.elementType=L_,t.lanes=n,t.stateNode={isHidden:!1},t}function cd(t,e,n){return t=_t(6,t,null,e),t.lanes=n,t}function ud(t,e,n){return e=_t(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$u(0),this.expirationTimes=$u(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$u(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mp(t,e,n,r,i,s,o,a,l){return t=new sN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=_t(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gp(s),t}function oN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ei,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function T1(t){if(!t)return pr;t=t._reactInternals;e:{if(pi(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(rt(n))return Tx(t,n,e)}return e}function k1(t,e,n,r,i,s,o,a,l){return t=Mp(n,r,!0,t,i,s,o,a,l),t.context=T1(null),n=t.current,r=Ke(),i=or(n),s=gn(r,i),s.callback=e??null,ir(n,s,i),t.current.lanes=i,ga(t,i,r),it(t,r),t}function tu(t,e,n,r){var i=e.current,s=Ke(),o=or(i);return n=T1(n),e.context===null?e.context=n:e.pendingContext=n,e=gn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ir(i,e,o),t!==null&&(Lt(t,i,o,s),wl(t,i,o)),o}function ac(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Gv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Op(t,e){Gv(t,e),(t=t.alternate)&&Gv(t,e)}function aN(){return null}var P1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lp(t){this._internalRoot=t}nu.prototype.render=Lp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));tu(t,e,null,null)};nu.prototype.unmount=Lp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ii(function(){tu(null,t,null,null)}),e[Sn]=null}};function nu(t){this._internalRoot=t}nu.prototype.unstable_scheduleHydration=function(t){if(t){var e=sx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hn.length&&e!==0&&e<Hn[n].priority;n++);Hn.splice(n,0,t),n===0&&ax(t)}};function Dp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ru(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kv(){}function lN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=ac(o);s.call(c)}}var o=k1(e,r,t,0,null,!1,!1,"",Kv);return t._reactRootContainer=o,t[Sn]=o.current,Wo(t.nodeType===8?t.parentNode:t),ii(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=ac(l);a.call(c)}}var l=Mp(t,0,!1,null,null,!1,!1,"",Kv);return t._reactRootContainer=l,t[Sn]=l.current,Wo(t.nodeType===8?t.parentNode:t),ii(function(){tu(e,l,n,r)}),l}function iu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ac(o);a.call(l)}}tu(e,o,t,i)}else o=lN(n,e,t,i,r);return ac(o)}rx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=co(e.pendingLanes);n!==0&&(tp(e,n|1),it(e,xe()),!(Q&6)&&(us=xe()+500,Tr()))}break;case 13:ii(function(){var r=En(t,1);if(r!==null){var i=Ke();Lt(r,t,1,i)}}),Op(t,1)}};np=function(t){if(t.tag===13){var e=En(t,134217728);if(e!==null){var n=Ke();Lt(e,t,134217728,n)}Op(t,134217728)}};ix=function(t){if(t.tag===13){var e=or(t),n=En(t,e);if(n!==null){var r=Ke();Lt(n,t,e,r)}Op(t,e)}};sx=function(){return ee};ox=function(t,e){var n=ee;try{return ee=t,e()}finally{ee=n}};dh=function(t,e,n){switch(e){case"input":if(ih(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=qc(r);if(!i)throw Error(N(90));j_(r),ih(r,i)}}}break;case"textarea":V_(t,n);break;case"select":e=n.value,e!=null&&Wi(t,!!n.multiple,e,!1)}};G_=Np;K_=ii;var cN={usingClientEntryPoint:!1,Events:[ya,Ii,qc,$_,H_,Np]},Js={findFiberByHostInstance:$r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uN={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Q_(t),t===null?null:t.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||aN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{$c=el.inject(uN),Kt=el}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cN;ft.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dp(e))throw Error(N(200));return oN(t,e,null,n)};ft.createRoot=function(t,e){if(!Dp(t))throw Error(N(299));var n=!1,r="",i=P1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mp(t,1,!1,null,null,n,!1,r,i),t[Sn]=e.current,Wo(t.nodeType===8?t.parentNode:t),new Lp(e)};ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Q_(e),t=t===null?null:t.stateNode,t};ft.flushSync=function(t){return ii(t)};ft.hydrate=function(t,e,n){if(!ru(e))throw Error(N(200));return iu(null,t,e,!0,n)};ft.hydrateRoot=function(t,e,n){if(!Dp(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=P1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=k1(e,null,t,1,n??null,i,!1,s,o),t[Sn]=e.current,Wo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new nu(e)};ft.render=function(t,e,n){if(!ru(e))throw Error(N(200));return iu(null,t,e,!1,n)};ft.unmountComponentAtNode=function(t){if(!ru(t))throw Error(N(40));return t._reactRootContainer?(ii(function(){iu(null,null,t,!1,function(){t._reactRootContainer=null,t[Sn]=null})}),!0):!1};ft.unstable_batchedUpdates=Np;ft.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ru(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return iu(t,e,n,!1,r)};ft.version="18.3.1-next-f1338f8080-20240426";function N1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N1)}catch(t){console.error(t)}}N1(),N_.exports=ft;var Ps=N_.exports;const dN=g_(Ps);var I1,qv=Ps;I1=qv.createRoot,qv.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zo(){return Zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zo.apply(this,arguments)}var Zn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zn||(Zn={}));const Yv="popstate";function hN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return $h("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:A1(i)}return pN(e,n,null,t)}function Ee(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function R1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fN(){return Math.random().toString(36).substr(2,8)}function Qv(t,e){return{usr:t.state,key:t.key,idx:e}}function $h(t,e,n,r){return n===void 0&&(n=null),Zo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ns(e):e,{state:n,key:e&&e.key||r||fN()})}function A1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ns(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function pN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Zn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Zo({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Zn.Pop;let x=u(),v=x==null?null:x-c;c=x,l&&l({action:a,location:w.location,delta:v})}function h(x,v){a=Zn.Push;let y=$h(w.location,x,v);c=u()+1;let _=Qv(y,c),C=w.createHref(y);try{o.pushState(_,"",C)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(C)}s&&l&&l({action:a,location:w.location,delta:1})}function p(x,v){a=Zn.Replace;let y=$h(w.location,x,v);c=u();let _=Qv(y,c),C=w.createHref(y);o.replaceState(_,"",C),s&&l&&l({action:a,location:w.location,delta:0})}function m(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof x=="string"?x:A1(x);return y=y.replace(/ $/,"%20"),Ee(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let w={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Yv,d),l=x,()=>{i.removeEventListener(Yv,d),l=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let v=m(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(x){return o.go(x)}};return w}var Xv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xv||(Xv={}));function mN(t,e,n){return n===void 0&&(n="/"),gN(t,e,n,!1)}function gN(t,e,n,r){let i=typeof e=="string"?Ns(e):e,s=L1(i.pathname||"/",n);if(s==null)return null;let o=M1(t);vN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=PN(s);a=TN(o[l],c,r)}return a}function M1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ee(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Zr([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Ee(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),M1(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:SN(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of O1(s.path))i(s,o,l)}),e}function O1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=O1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function vN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:EN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yN=/^:[\w-]+$/,wN=3,_N=2,xN=1,CN=10,bN=-2,Zv=t=>t==="*";function SN(t,e){let n=t.split("/"),r=n.length;return n.some(Zv)&&(r+=bN),e&&(r+=_N),n.filter(i=>!Zv(i)).reduce((i,s)=>i+(yN.test(s)?wN:s===""?xN:CN),r)}function EN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function TN(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=Jv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Jv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Zr([s,d.pathname]),pathnameBase:ON(Zr([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Zr([s,d.pathnameBase]))}return o}function Jv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let w=a[d]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function kN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),R1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function PN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return R1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function L1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function NN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ns(t):t;return{pathname:n?n.startsWith("/")?n:IN(n,e):e,search:LN(r),hash:DN(i)}}function IN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function dd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function AN(t,e){let n=RN(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function MN(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ns(t):(i=Zo({},t),Ee(!i.pathname||!i.pathname.includes("?"),dd("?","pathname","search",i)),Ee(!i.pathname||!i.pathname.includes("#"),dd("#","pathname","hash",i)),Ee(!i.search||!i.search.includes("#"),dd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=NN(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Zr=t=>t.join("/").replace(/\/\/+/g,"/"),ON=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const D1=["post","put","patch","delete"];new Set(D1);const FN=["get",...D1];new Set(FN);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jo.apply(this,arguments)}const jp=g.createContext(null),VN=g.createContext(null),su=g.createContext(null),ou=g.createContext(null),Is=g.createContext({outlet:null,matches:[],isDataRoute:!1}),j1=g.createContext(null);function au(){return g.useContext(ou)!=null}function _a(){return au()||Ee(!1),g.useContext(ou).location}function F1(t){g.useContext(su).static||g.useLayoutEffect(t)}function kr(){let{isDataRoute:t}=g.useContext(Is);return t?ZN():UN()}function UN(){au()||Ee(!1);let t=g.useContext(jp),{basename:e,future:n,navigator:r}=g.useContext(su),{matches:i}=g.useContext(Is),{pathname:s}=_a(),o=JSON.stringify(AN(i,n.v7_relativeSplatPath)),a=g.useRef(!1);return F1(()=>{a.current=!0}),g.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=MN(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Zr([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function BN(t,e){return zN(t,e)}function zN(t,e,n,r){au()||Ee(!1);let{navigator:i}=g.useContext(su),{matches:s}=g.useContext(Is),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=_a(),u;if(e){var d;let x=typeof e=="string"?Ns(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||Ee(!1),u=x}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=mN(t,{pathname:p}),w=KN(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Zr([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Zr([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&w?g.createElement(ou.Provider,{value:{location:Jo({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Zn.Pop}},w):w}function WN(){let t=XN(),e=jN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:i},n):null,null)}const $N=g.createElement(WN,null);class HN extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Is.Provider,{value:this.props.routeContext},g.createElement(j1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GN(t){let{routeContext:e,match:n,children:r}=t,i=g.useContext(jp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Is.Provider,{value:e},r)}function KN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ee(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,m=!1,w=null,x=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,w=d.route.errorElement||$N,l&&(c<0&&h===0?(m=!0,x=null):c===h&&(m=!0,x=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),y=()=>{let _;return p?_=w:m?_=x:d.route.Component?_=g.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,g.createElement(GN,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?g.createElement(HN,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var V1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(V1||{}),lc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lc||{});function qN(t){let e=g.useContext(jp);return e||Ee(!1),e}function YN(t){let e=g.useContext(VN);return e||Ee(!1),e}function QN(t){let e=g.useContext(Is);return e||Ee(!1),e}function U1(t){let e=QN(),n=e.matches[e.matches.length-1];return n.route.id||Ee(!1),n.route.id}function XN(){var t;let e=g.useContext(j1),n=YN(lc.UseRouteError),r=U1(lc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ZN(){let{router:t}=qN(V1.UseNavigateStable),e=U1(lc.UseNavigateStable),n=g.useRef(!1);return F1(()=>{n.current=!0}),g.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Jo({fromRouteId:e},s)))},[t,e])}function kt(t){Ee(!1)}function JN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Zn.Pop,navigator:s,static:o=!1,future:a}=t;au()&&Ee(!1);let l=e.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:s,static:o,future:Jo({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ns(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,w=g.useMemo(()=>{let x=L1(u,l);return x==null?null:{location:{pathname:x,search:d,hash:h,state:p,key:m},navigationType:i}},[l,u,d,h,p,m,i]);return w==null?null:g.createElement(su.Provider,{value:c},g.createElement(ou.Provider,{children:n,value:w}))}function eI(t){let{children:e,location:n}=t;return BN(Hh(e),n)}new Promise(()=>{});function Hh(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,i)=>{if(!g.isValidElement(r))return;let s=[...e,i];if(r.type===g.Fragment){n.push.apply(n,Hh(r.props.children,s));return}r.type!==kt&&Ee(!1),!r.props.index||!r.props.children||Ee(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Hh(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const tI="6";try{window.__reactRouterVersion=tI}catch{}const nI="startTransition",ey=k_[nI];function rI(t){let{basename:e,children:n,future:r,window:i}=t,s=g.useRef();s.current==null&&(s.current=hN({window:i,v5Compat:!0}));let o=s.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=g.useCallback(d=>{c&&ey?ey(()=>l(d)):l(d)},[l,c]);return g.useLayoutEffect(()=>o.listen(u),[o,u]),g.createElement(JN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var ty;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ty||(ty={}));var ny;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ny||(ny={}));function iI(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function lu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Gh=t=>Array.isArray(t);function B1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function ea(t){return typeof t=="string"||Array.isArray(t)}function ry(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Fp(t,e,n,r){if(typeof e=="function"){const[i,s]=ry(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=ry(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function cu(t,e,n){const r=t.getProps();return Fp(r,e,n!==void 0?n:r.custom,t)}const Vp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Up=["initial",...Vp],xa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mi=new Set(xa),vn=t=>t*1e3,yn=t=>t/1e3,sI={type:"spring",stiffness:500,damping:25,restSpeed:10},oI=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),aI={type:"keyframes",duration:.8},lI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cI=(t,{keyframes:e})=>e.length>2?aI:mi.has(t)?t.startsWith("scale")?oI(e[1]):sI:lI;function Bp(t,e){return t?t[e]||t.default||t:void 0}const uI={skipAnimations:!1,useManualTiming:!1},dI=t=>t!==null;function uu(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(dI),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const We=t=>t;function hI(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const p=d&&r?e:n;return u&&s.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(c))}};return l}const tl=["read","resolveKeyframes","update","preRender","render","postRender"],fI=40;function z1(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=tl.reduce((v,y)=>(v[y]=hI(s),v),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=o,p=()=>{const v=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(v-i.timestamp,fI),1),i.timestamp=v,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},m=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:tl.reduce((v,y)=>{const _=o[y];return v[y]=(C,b=!1,S=!1)=>(n||m(),_.schedule(C,b,S)),v},{}),cancel:v=>{for(let y=0;y<tl.length;y++)o[tl[y]].cancel(v)},state:i,steps:o}}const{schedule:ne,cancel:mr,state:Me,steps:hd}=z1(typeof requestAnimationFrame<"u"?requestAnimationFrame:We,!0),W1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pI=1e-7,mI=12;function gI(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=W1(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>pI&&++a<mI);return o}function Ca(t,e,n,r){if(t===e&&n===r)return We;const i=s=>gI(s,0,1,t,n);return s=>s===0||s===1?s:W1(i(s),e,r)}const $1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,H1=t=>e=>1-t(1-e),G1=Ca(.33,1.53,.69,.99),zp=H1(G1),K1=$1(zp),q1=t=>(t*=2)<1?.5*zp(t):.5*(2-Math.pow(2,-10*(t-1))),Wp=t=>1-Math.sin(Math.acos(t)),Y1=H1(Wp),Q1=$1(Wp),X1=t=>/^0[^.\s]+$/u.test(t);function vI(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||X1(t):!0}let Kh=We;const Z1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),J1=t=>e=>typeof e=="string"&&e.startsWith(t),eC=J1("--"),yI=J1("var(--"),$p=t=>yI(t)?wI.test(t.split("/*")[0].trim()):!1,wI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_I=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xI(t){const e=_I.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function tC(t,e,n=1){const[r,i]=xI(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Z1(o)?parseFloat(o):o}return $p(i)?tC(i,e,n+1):i}const gr=(t,e,n)=>n>e?e:n<t?t:n,Rs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ta={...Rs,transform:t=>gr(0,1,t)},nl={...Rs,default:1},ba=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Bn=ba("deg"),Yt=ba("%"),j=ba("px"),CI=ba("vh"),bI=ba("vw"),iy={...Yt,parse:t=>Yt.parse(t)/100,transform:t=>Yt.transform(t*100)},SI=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),sy=t=>t===Rs||t===j,oy=(t,e)=>parseFloat(t.split(", ")[e]),ay=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return oy(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?oy(s[1],t):0}},EI=new Set(["x","y","z"]),TI=xa.filter(t=>!EI.has(t));function kI(t){const e=[];return TI.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ds={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ay(4,13),y:ay(5,14)};ds.translateX=ds.x;ds.translateY=ds.y;const nC=t=>e=>e.test(t),PI={test:t=>t==="auto",parse:t=>t},rC=[Rs,j,Yt,Bn,bI,CI,PI],ly=t=>rC.find(nC(t)),Jr=new Set;let qh=!1,Yh=!1;function iC(){if(Yh){const t=Array.from(Jr).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=kI(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Yh=!1,qh=!1,Jr.forEach(t=>t.complete()),Jr.clear()}function sC(){Jr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Yh=!0)})}function NI(){sC(),iC()}class Hp{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Jr.add(this),qh||(qh=!0,ne.read(sC),ne.resolveKeyframes(iC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Jr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Jr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Eo=t=>Math.round(t*1e5)/1e5,Gp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function II(t){return t==null}const RI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Kp=(t,e)=>n=>!!(typeof n=="string"&&RI.test(n)&&n.startsWith(t)||e&&!II(n)&&Object.prototype.hasOwnProperty.call(n,e)),oC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Gp);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},AI=t=>gr(0,255,t),fd={...Rs,transform:t=>Math.round(AI(t))},Kr={test:Kp("rgb","red"),parse:oC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+fd.transform(t)+", "+fd.transform(e)+", "+fd.transform(n)+", "+Eo(ta.transform(r))+")"};function MI(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Qh={test:Kp("#"),parse:MI,transform:Kr.transform},ji={test:Kp("hsl","hue"),parse:oC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Yt.transform(Eo(e))+", "+Yt.transform(Eo(n))+", "+Eo(ta.transform(r))+")"},Ue={test:t=>Kr.test(t)||Qh.test(t)||ji.test(t),parse:t=>Kr.test(t)?Kr.parse(t):ji.test(t)?ji.parse(t):Qh.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Kr.transform(t):ji.transform(t)},OI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function LI(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Gp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(OI))===null||n===void 0?void 0:n.length)||0)>0}const aC="number",lC="color",DI="var",jI="var(",cy="${}",FI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function na(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(FI,l=>(Ue.test(l)?(r.color.push(s),i.push(lC),n.push(Ue.parse(l))):l.startsWith(jI)?(r.var.push(s),i.push(DI),n.push(l)):(r.number.push(s),i.push(aC),n.push(parseFloat(l))),++s,cy)).split(cy);return{values:n,split:a,indexes:r,types:i}}function cC(t){return na(t).values}function uC(t){const{split:e,types:n}=na(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===aC?s+=Eo(i[o]):a===lC?s+=Ue.transform(i[o]):s+=i[o]}return s}}const VI=t=>typeof t=="number"?0:t;function UI(t){const e=cC(t);return uC(t)(e.map(VI))}const vr={test:LI,parse:cC,createTransformer:uC,getAnimatableNone:UI},BI=new Set(["brightness","contrast","saturate","opacity"]);function zI(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Gp)||[];if(!r)return t;const i=n.replace(r,"");let s=BI.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const WI=/\b([a-z-]*)\(.*?\)/gu,Xh={...vr,getAnimatableNone:t=>{const e=t.match(WI);return e?e.map(zI).join(" "):t}},$I={borderWidth:j,borderTopWidth:j,borderRightWidth:j,borderBottomWidth:j,borderLeftWidth:j,borderRadius:j,radius:j,borderTopLeftRadius:j,borderTopRightRadius:j,borderBottomRightRadius:j,borderBottomLeftRadius:j,width:j,maxWidth:j,height:j,maxHeight:j,top:j,right:j,bottom:j,left:j,padding:j,paddingTop:j,paddingRight:j,paddingBottom:j,paddingLeft:j,margin:j,marginTop:j,marginRight:j,marginBottom:j,marginLeft:j,backgroundPositionX:j,backgroundPositionY:j},HI={rotate:Bn,rotateX:Bn,rotateY:Bn,rotateZ:Bn,scale:nl,scaleX:nl,scaleY:nl,scaleZ:nl,skew:Bn,skewX:Bn,skewY:Bn,distance:j,translateX:j,translateY:j,translateZ:j,x:j,y:j,z:j,perspective:j,transformPerspective:j,opacity:ta,originX:iy,originY:iy,originZ:j},uy={...Rs,transform:Math.round},qp={...$I,...HI,zIndex:uy,size:j,fillOpacity:ta,strokeOpacity:ta,numOctaves:uy},GI={...qp,color:Ue,backgroundColor:Ue,outlineColor:Ue,fill:Ue,stroke:Ue,borderColor:Ue,borderTopColor:Ue,borderRightColor:Ue,borderBottomColor:Ue,borderLeftColor:Ue,filter:Xh,WebkitFilter:Xh},Yp=t=>GI[t];function dC(t,e){let n=Yp(t);return n!==Xh&&(n=vr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const KI=new Set(["auto","none","0"]);function qI(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!KI.has(s)&&na(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=dC(n,i)}class hC extends Hp{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),$p(c))){const u=tC(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!SI.has(r)||e.length!==2)return;const[i,s]=e,o=ly(i),a=ly(s);if(o!==a)if(sy(o)&&sy(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)vI(e[i])&&r.push(i);r.length&&qI(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ds[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=ds[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Qp(t){return typeof t=="function"}let Tl;function YI(){Tl=void 0}const Qt={now:()=>(Tl===void 0&&Qt.set(Me.isProcessing||uI.useManualTiming?Me.timestamp:performance.now()),Tl),set:t=>{Tl=t,queueMicrotask(YI)}},dy=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vr.test(t)||t==="0")&&!t.startsWith("url("));function QI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function XI(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=dy(i,e),a=dy(s,e);return!o||!a?!1:QI(t)||(n==="spring"||Qp(n))&&r}const ZI=40;class fC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Qt.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ZI?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&NI(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Qt.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!XI(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(uu(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function pC(t,e){return e?t*(1e3/e):0}const JI=5;function mC(t,e,n){const r=Math.max(e-JI,0);return pC(n-t(r),e-r)}const pd=.001,e2=.01,t2=10,n2=.05,r2=1;function i2({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=gr(n2,r2,o),t=gr(e2,t2,yn(t)),o<1?(i=c=>{const u=c*o,d=u*t,h=u-n,p=Zh(c,o),m=Math.exp(-d);return pd-h/p*m},s=c=>{const d=c*o*t,h=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,m=Math.exp(-d),w=Zh(Math.pow(c,2),o);return(-i(c)+pd>0?-1:1)*((h-p)*m)/w}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-pd+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=o2(i,s,a);if(t=vn(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const s2=12;function o2(t,e,n){let r=n;for(let i=1;i<s2;i++)r=r-t(r)/e(r);return r}function Zh(t,e){return t*Math.sqrt(1-e*e)}const a2=["duration","bounce"],l2=["stiffness","damping","mass"];function hy(t,e){return e.some(n=>t[n]!==void 0)}function c2(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!hy(t,l2)&&hy(t,a2)){const n=i2(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function gC({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:h}=c2({...r,velocity:-yn(r.velocity||0)}),p=d||0,m=l/(2*Math.sqrt(a*c)),w=s-i,x=yn(Math.sqrt(a/c)),v=Math.abs(w)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let y;if(m<1){const _=Zh(x,m);y=C=>{const b=Math.exp(-m*x*C);return s-b*((p+m*x*w)/_*Math.sin(_*C)+w*Math.cos(_*C))}}else if(m===1)y=_=>s-Math.exp(-x*_)*(w+(p+x*w)*_);else{const _=x*Math.sqrt(m*m-1);y=C=>{const b=Math.exp(-m*x*C),S=Math.min(_*C,300);return s-b*((p+m*x*w)*Math.sinh(S)+_*w*Math.cosh(S))/_}}return{calculatedDuration:h&&u||null,next:_=>{const C=y(_);if(h)o.done=_>=u;else{let b=0;m<1&&(b=_===0?vn(p):mC(y,_,C));const S=Math.abs(b)<=n,k=Math.abs(s-C)<=e;o.done=S&&k}return o.value=o.done?s:C,o}}}function fy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},p=T=>a!==void 0&&T<a||l!==void 0&&T>l,m=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let w=n*e;const x=d+w,v=o===void 0?x:o(x);v!==x&&(w=v-d);const y=T=>-w*Math.exp(-T/r),_=T=>v+y(T),C=T=>{const L=y(T),A=_(T);h.done=Math.abs(L)<=c,h.value=h.done?v:A};let b,S;const k=T=>{p(h.value)&&(b=T,S=gC({keyframes:[h.value,m(h.value)],velocity:mC(_,T,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return k(0),{calculatedDuration:null,next:T=>{let L=!1;return!S&&b===void 0&&(L=!0,C(T),k(T)),b!==void 0&&T>=b?S.next(T-b):(!L&&C(T),h)}}}const u2=Ca(.42,0,1,1),d2=Ca(0,0,.58,1),vC=Ca(.42,0,.58,1),h2=t=>Array.isArray(t)&&typeof t[0]!="number",Xp=t=>Array.isArray(t)&&typeof t[0]=="number",py={linear:We,easeIn:u2,easeInOut:vC,easeOut:d2,circIn:Wp,circInOut:Q1,circOut:Y1,backIn:zp,backInOut:K1,backOut:G1,anticipate:q1},my=t=>{if(Xp(t)){Kh(t.length===4);const[e,n,r,i]=t;return Ca(e,n,r,i)}else if(typeof t=="string")return Kh(py[t]!==void 0),py[t];return t},f2=(t,e)=>n=>e(t(n)),wn=(...t)=>t.reduce(f2),hs=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},fe=(t,e,n)=>t+(e-t)*n;function md(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function p2({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=md(l,a,t+1/3),s=md(l,a,t),o=md(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function cc(t,e){return n=>n>0?e:t}const gd=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},m2=[Qh,Kr,ji],g2=t=>m2.find(e=>e.test(t));function gy(t){const e=g2(t);if(!e)return!1;let n=e.parse(t);return e===ji&&(n=p2(n)),n}const vy=(t,e)=>{const n=gy(t),r=gy(e);if(!n||!r)return cc(t,e);const i={...n};return s=>(i.red=gd(n.red,r.red,s),i.green=gd(n.green,r.green,s),i.blue=gd(n.blue,r.blue,s),i.alpha=fe(n.alpha,r.alpha,s),Kr.transform(i))},Jh=new Set(["none","hidden"]);function v2(t,e){return Jh.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function y2(t,e){return n=>fe(t,e,n)}function Zp(t){return typeof t=="number"?y2:typeof t=="string"?$p(t)?cc:Ue.test(t)?vy:x2:Array.isArray(t)?yC:typeof t=="object"?Ue.test(t)?vy:w2:cc}function yC(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Zp(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function w2(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Zp(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function _2(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const x2=(t,e)=>{const n=vr.createTransformer(e),r=na(t),i=na(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Jh.has(t)&&!i.values.length||Jh.has(e)&&!r.values.length?v2(t,e):wn(yC(_2(r,i),i.values),n):cc(t,e)};function wC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?fe(t,e,n):Zp(t)(t,e)}function C2(t,e,n){const r=[],i=n||wC,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||We:e;a=wn(l,a)}r.push(a)}return r}function b2(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Kh(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=C2(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=hs(t[u],t[u+1],c);return o[u](d)};return n?c=>l(gr(t[0],t[s-1],c)):l}function S2(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=hs(0,e,r);t.push(fe(n,1,i))}}function E2(t){const e=[0];return S2(e,t.length-1),e}function T2(t,e){return t.map(n=>n*e)}function k2(t,e){return t.map(()=>e||vC).splice(0,t.length-1)}function uc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=h2(r)?r.map(my):my(r),s={done:!1,value:e[0]},o=T2(n&&n.length===e.length?n:E2(e),t),a=b2(o,e,{ease:Array.isArray(i)?i:k2(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const yy=2e4;function P2(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<yy;)e+=n,r=t.next(e);return e>=yy?1/0:e}const N2=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ne.update(e,!0),stop:()=>mr(e),now:()=>Me.isProcessing?Me.timestamp:Qt.now()}},I2={decay:fy,inertia:fy,tween:uc,keyframes:uc,spring:gC},R2=t=>t/100;class Jp extends fC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Hp,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Qp(n)?n:I2[n]||uc;let l,c;a!==uc&&typeof e[0]!="number"&&(l=wn(R2,wC(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=P2(u));const{calculatedDuration:d}=u,h=d+i,p=h*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:p,repeatType:m,repeatDelay:w,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?v<0:v>u;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let _=this.currentTime,C=s;if(p){const T=Math.min(this.currentTime,u)/d;let L=Math.floor(T),A=T%1;!A&&T>=1&&(A=1),A===1&&L--,L=Math.min(L,p+1),!!(L%2)&&(m==="reverse"?(A=1-A,w&&(A-=w/d)):m==="mirror"&&(C=o)),_=gr(0,1,A)*d}const b=y?{done:!1,value:l[0]}:C.next(_);a&&(b.value=a(b.value));let{done:S}=b;!y&&c!==null&&(S=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return k&&i!==void 0&&(b.value=uu(l,this.options,i)),x&&x(b.value),k&&this.finish(),b}get duration(){const{resolved:e}=this;return e?yn(e.calculatedDuration):0}get time(){return yn(this.currentTime)}set time(e){e=vn(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=yn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=N2,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const A2=new Set(["opacity","clipPath","filter","transform"]),M2=10,O2=(t,e)=>{let n="";const r=Math.max(Math.round(e/M2),2);for(let i=0;i<r;i++)n+=t(hs(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function em(t){let e;return()=>(e===void 0&&(e=t()),e)}const L2={linearEasing:void 0};function D2(t,e){const n=em(t);return()=>{var r;return(r=L2[e])!==null&&r!==void 0?r:n()}}const dc=D2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function _C(t){return!!(typeof t=="function"&&dc()||!t||typeof t=="string"&&(t in ef||dc())||Xp(t)||Array.isArray(t)&&t.every(_C))}const ho=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ef={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ho([0,.65,.55,1]),circOut:ho([.55,0,1,.45]),backIn:ho([.31,.01,.66,-.59]),backOut:ho([.33,1.53,.69,.99])};function xC(t,e){if(t)return typeof t=="function"&&dc()?O2(t,e):Xp(t)?ho(t):Array.isArray(t)?t.map(n=>xC(n,e)||ef.easeOut):ef[t]}function j2(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=xC(a,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function wy(t,e){t.timeline=e,t.onfinish=null}const F2=em(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hc=10,V2=2e4;function U2(t){return Qp(t.type)||t.type==="spring"||!_C(t.ease)}function B2(t,e){const n=new Jp({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<V2;)r=n.sample(s),i.push(r.value),s+=hc;return{times:void 0,keyframes:i,duration:s-hc,ease:"linear"}}const CC={anticipate:q1,backInOut:K1,circInOut:Q1};function z2(t){return t in CC}class _y extends fC{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new hC(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&dc()&&z2(o)&&(o=CC[o]),U2(this.options)){const{onComplete:h,onUpdate:p,motionValue:m,element:w,...x}=this.options,v=B2(e,x);e=v.keyframes,e.length===1&&(e[1]=e[0]),i=v.duration,s=v.times,o=v.ease,a="keyframes"}const d=j2(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(wy(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(uu(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return yn(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return yn(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=vn(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return We;const{animation:r}=n;wy(r,e)}return We}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:h,...p}=this.options,m=new Jp({...p,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),w=vn(this.time);c.setWithVelocity(m.sample(w-hc).value,m.sample(w).value,hc)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return F2()&&r&&A2.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const W2=em(()=>window.ScrollTimeline!==void 0);class $2{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>W2()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function H2({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const tm=(t,e,n,r={},i,s)=>o=>{const a=Bp(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-vn(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};H2(a)||(u={...u,...cI(t,u)}),u.duration&&(u.duration=vn(u.duration)),u.repeatDelay&&(u.repeatDelay=vn(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const h=uu(u.keyframes,a);if(h!==void 0)return ne.update(()=>{u.onUpdate(h),u.onComplete()}),new $2([])}return!s&&_y.supports(u)?new _y(u):new Jp(u)},G2=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),K2=t=>Gh(t)?t[t.length-1]||0:t;function nm(t,e){t.indexOf(e)===-1&&t.push(e)}function rm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class im{constructor(){this.subscriptions=[]}add(e){return nm(this.subscriptions,e),()=>rm(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xy=30,q2=t=>!isNaN(parseFloat(t));class Y2{constructor(e,n={}){this.version="11.11.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Qt.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Qt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=q2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new im);const r=this.events[e].add(n);return e==="change"?()=>{r(),ne.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Qt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xy);return pC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ra(t,e){return new Y2(t,e)}function Q2(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ra(n))}function X2(t,e){const n=cu(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=K2(s[o]);Q2(t,o,a)}}const sm=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Z2="framerAppearId",bC="data-"+sm(Z2);function SC(t){return t.props[bC]}const ze=t=>!!(t&&t.getVelocity);function J2(t){return!!(ze(t)&&t.add)}function tf(t,e){const n=t.getValue("willChange");if(J2(n))return n.add(e)}function eR({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function EC(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const h=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),p=l[d];if(p===void 0||u&&eR(u,d))continue;const m={delay:n,...Bp(o||{},d)};let w=!1;if(window.MotionHandoffAnimation){const v=SC(t);if(v){const y=window.MotionHandoffAnimation(v,d,ne);y!==null&&(m.startTime=y,w=!0)}}tf(t,d),h.start(tm(d,h,p,t.shouldReduceMotion&&mi.has(d)?{type:!1}:m,t,w));const x=h.animation;x&&c.push(x)}return a&&Promise.all(c).then(()=>{ne.update(()=>{a&&X2(t,a)})}),c}function nf(t,e,n={}){var r;const i=cu(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(EC(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return tR(t,e,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function tR(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(nR).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(nf(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function nR(t,e){return t.sortNodePosition(e)}function rR(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>nf(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=nf(t,e,n);else{const i=typeof e=="function"?cu(t,e,n.custom):e;r=Promise.all(EC(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const iR=Up.length;function TC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?TC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<iR;n++){const r=Up[n],i=t.props[r];(ea(i)||i===!1)&&(e[r]=i)}return e}const sR=[...Vp].reverse(),oR=Vp.length;function aR(t){return e=>Promise.all(e.map(({animation:n,options:r})=>rR(t,n,r)))}function lR(t){let e=aR(t),n=Cy(),r=!0;const i=l=>(c,u)=>{var d;const h=cu(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:p,transitionEnd:m,...w}=h;c={...c,...w,...m}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=TC(t.parent)||{},d=[],h=new Set;let p={},m=1/0;for(let x=0;x<oR;x++){const v=sR[x],y=n[v],_=c[v]!==void 0?c[v]:u[v],C=ea(_),b=v===l?y.isActive:null;b===!1&&(m=x);let S=_===u[v]&&_!==c[v]&&C;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...p},!y.isActive&&b===null||!_&&!y.prevProp||lu(_)||typeof _=="boolean")continue;const k=cR(y.prevProp,_);let T=k||v===l&&y.isActive&&!S&&C||x>m&&C,L=!1;const A=Array.isArray(_)?_:[_];let z=A.reduce(i(v),{});b===!1&&(z={});const{prevResolvedValues:D={}}=y,X={...D,...z},q=U=>{T=!0,h.has(U)&&(L=!0,h.delete(U)),y.needsAnimating[U]=!0;const P=t.getValue(U);P&&(P.liveStyle=!1)};for(const U in X){const P=z[U],E=D[U];if(p.hasOwnProperty(U))continue;let R=!1;Gh(P)&&Gh(E)?R=!B1(P,E):R=P!==E,R?P!=null?q(U):h.add(U):P!==void 0&&h.has(U)?q(U):y.protectedKeys[U]=!0}y.prevProp=_,y.prevResolvedValues=z,y.isActive&&(p={...p,...z}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(S&&k)||L)&&d.push(...A.map(U=>({animation:U,options:{type:v}})))}if(h.size){const x={};h.forEach(v=>{const y=t.getBaseTarget(v),_=t.getValue(v);_&&(_.liveStyle=!0),x[v]=y??null}),d.push({animation:x})}let w=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Cy(),r=!0}}}function cR(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!B1(e,t):!1}function jr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cy(){return{animate:jr(!0),whileInView:jr(),whileHover:jr(),whileTap:jr(),whileDrag:jr(),whileFocus:jr(),exit:jr()}}class Pr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class uR extends Pr{constructor(e){super(e),e.animationState||(e.animationState=lR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();lu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let dR=0;class hR extends Pr{constructor(){super(...arguments),this.id=dR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const fR={animation:{Feature:uR},exit:{Feature:hR}},kC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function du(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const pR=t=>e=>kC(e)&&t(e,du(e));function dn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function _n(t,e,n,r){return dn(t,e,pR(n),r)}const by=(t,e)=>Math.abs(t-e);function mR(t,e){const n=by(t.x,e.x),r=by(t.y,e.y);return Math.sqrt(n**2+r**2)}class PC{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=yd(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=mR(d.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:m}=d,{timestamp:w}=Me;this.history.push({...m,timestamp:w});const{onStart:x,onMove:v}=this.handlers;h||(x&&x(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=vd(h,this.transformPagePoint),ne.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=yd(d.type==="pointercancel"?this.lastMoveEventInfo:vd(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,x),m&&m(d,x)},!kC(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=du(e),a=vd(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Me;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,yd(a,this.history)),this.removeListeners=wn(_n(this.contextWindow,"pointermove",this.handlePointerMove),_n(this.contextWindow,"pointerup",this.handlePointerUp),_n(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),mr(this.updatePoint)}}function vd(t,e){return e?{point:e(t.point)}:t}function Sy(t,e){return{x:t.x-e.x,y:t.y-e.y}}function yd({point:t},e){return{point:t,delta:Sy(t,NC(e)),offset:Sy(t,gR(e)),velocity:vR(e,.1)}}function gR(t){return t[0]}function NC(t){return t[t.length-1]}function vR(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=NC(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>vn(e)));)n--;if(!r)return{x:0,y:0};const s=yn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function IC(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Ey=IC("dragHorizontal"),Ty=IC("dragVertical");function RC(t){let e=!1;if(t==="y")e=Ty();else if(t==="x")e=Ey();else{const n=Ey(),r=Ty();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function AC(){const t=RC(!0);return t?(t(),!1):!0}function Fi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const MC=1e-4,yR=1-MC,wR=1+MC,OC=.01,_R=0-OC,xR=0+OC;function ht(t){return t.max-t.min}function CR(t,e,n){return Math.abs(t-e)<=n}function ky(t,e,n,r=.5){t.origin=r,t.originPoint=fe(e.min,e.max,t.origin),t.scale=ht(n)/ht(e),t.translate=fe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=yR&&t.scale<=wR||isNaN(t.scale))&&(t.scale=1),(t.translate>=_R&&t.translate<=xR||isNaN(t.translate))&&(t.translate=0)}function To(t,e,n,r){ky(t.x,e.x,n.x,r?r.originX:void 0),ky(t.y,e.y,n.y,r?r.originY:void 0)}function Py(t,e,n){t.min=n.min+e.min,t.max=t.min+ht(e)}function bR(t,e,n){Py(t.x,e.x,n.x),Py(t.y,e.y,n.y)}function Ny(t,e,n){t.min=e.min-n.min,t.max=t.min+ht(e)}function ko(t,e,n){Ny(t.x,e.x,n.x),Ny(t.y,e.y,n.y)}function SR(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?fe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?fe(n,t,r.max):Math.min(t,n)),t}function Iy(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ER(t,{top:e,left:n,bottom:r,right:i}){return{x:Iy(t.x,n,i),y:Iy(t.y,e,r)}}function Ry(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function TR(t,e){return{x:Ry(t.x,e.x),y:Ry(t.y,e.y)}}function kR(t,e){let n=.5;const r=ht(t),i=ht(e);return i>r?n=hs(e.min,e.max-r,t.min):r>i&&(n=hs(t.min,t.max-i,e.min)),gr(0,1,n)}function PR(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const rf=.35;function NR(t=rf){return t===!1?t=0:t===!0&&(t=rf),{x:Ay(t,"left","right"),y:Ay(t,"top","bottom")}}function Ay(t,e,n){return{min:My(t,e),max:My(t,n)}}function My(t,e){return typeof t=="number"?t:t[e]||0}const Oy=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vi=()=>({x:Oy(),y:Oy()}),Ly=()=>({min:0,max:0}),_e=()=>({x:Ly(),y:Ly()});function vt(t){return[t("x"),t("y")]}function LC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function IR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function RR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function wd(t){return t===void 0||t===1}function sf({scale:t,scaleX:e,scaleY:n}){return!wd(t)||!wd(e)||!wd(n)}function Ur(t){return sf(t)||DC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function DC(t){return Dy(t.x)||Dy(t.y)}function Dy(t){return t&&t!=="0%"}function fc(t,e,n){const r=t-n,i=e*r;return n+i}function jy(t,e,n,r,i){return i!==void 0&&(t=fc(t,i,r)),fc(t,n,r)+e}function of(t,e=0,n=1,r,i){t.min=jy(t.min,e,n,r,i),t.max=jy(t.max,e,n,r,i)}function jC(t,{x:e,y:n}){of(t.x,e.translate,e.scale,e.originPoint),of(t.y,n.translate,n.scale,n.originPoint)}const Fy=.999999999999,Vy=1.0000000000001;function AR(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Bi(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,jC(t,o)),r&&Ur(s.latestValues)&&Bi(t,s.latestValues))}e.x<Vy&&e.x>Fy&&(e.x=1),e.y<Vy&&e.y>Fy&&(e.y=1)}function Ui(t,e){t.min=t.min+e,t.max=t.max+e}function Uy(t,e,n,r,i=.5){const s=fe(t.min,t.max,i);of(t,e,n,s,r)}function Bi(t,e){Uy(t.x,e.x,e.scaleX,e.scale,e.originX),Uy(t.y,e.y,e.scaleY,e.scale,e.originY)}function FC(t,e){return LC(RR(t.getBoundingClientRect(),e))}function MR(t,e,n){const r=FC(t,n),{scroll:i}=e;return i&&(Ui(r.x,i.offset.x),Ui(r.y,i.offset.y)),r}const VC=({current:t})=>t?t.ownerDocument.defaultView:null,OR=new WeakMap;class LR{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_e(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(du(u,"page").point)},s=(u,d)=>{const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=RC(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vt(x=>{let v=this.getAxisMotionValue(x).get()||0;if(Yt.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const _=y.layout.layoutBox[x];_&&(v=ht(_)*(parseFloat(v)/100))}}this.originPoint[x]=v}),m&&ne.postRender(()=>m(u,d)),tf(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:w}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:x}=d;if(p&&this.currentDirection===null){this.currentDirection=DR(x),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,x),this.updateAxis("y",d.point,x),this.visualElement.render(),w&&w(u,d)},a=(u,d)=>this.stop(u,d),l=()=>vt(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new PC(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:VC(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ne.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!rl(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=SR(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Fi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=ER(i.layoutBox,n):this.constraints=!1,this.elastic=NR(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&vt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=PR(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Fi(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=MR(r,i.root,this.visualElement.getTransformPagePoint());let o=TR(i.layout.layoutBox,s);if(n){const a=n(IR(o));this.hasMutatedConstraints=!!a,a&&(o=LC(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=vt(u=>{if(!rl(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return tf(this.visualElement,e),r.start(tm(e,r,0,n,this.visualElement,!1))}stopAnimation(){vt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){vt(n=>{const{drag:r}=this.getProps();if(!rl(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-fe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Fi(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};vt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=kR({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vt(o=>{if(!rl(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(fe(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;OR.set(this.visualElement,this);const e=this.visualElement.current,n=_n(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Fi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ne.read(r);const o=dn(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(vt(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=rf,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function rl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function DR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class jR extends Pr{constructor(e){super(e),this.removeGroupControls=We,this.removeListeners=We,this.controls=new LR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||We}unmount(){this.removeGroupControls(),this.removeListeners()}}const By=t=>(e,n)=>{t&&ne.postRender(()=>t(e,n))};class FR extends Pr{constructor(){super(...arguments),this.removePointerDownListener=We}onPointerDown(e){this.session=new PC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:By(e),onStart:By(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ne.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=_n(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hu=g.createContext(null);function VR(){const t=g.useContext(hu);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=g.useId();g.useEffect(()=>r(i),[]);const s=g.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const om=g.createContext({}),UC=g.createContext({}),kl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zy(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const eo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(j.test(t))t=parseFloat(t);else return t;const n=zy(t,e.target.x),r=zy(t,e.target.y);return`${n}% ${r}%`}},UR={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=vr.parse(t);if(i.length>5)return r;const s=vr.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=fe(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},pc={};function BR(t){Object.assign(pc,t)}const{schedule:am,cancel:vB}=z1(queueMicrotask,!1);class zR extends g.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;BR(WR),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),kl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ne.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),am.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function BC(t){const[e,n]=VR(),r=g.useContext(om);return f.jsx(zR,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(UC),isPresent:e,safeToRemove:n})}const WR={borderRadius:{...eo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:eo,borderTopRightRadius:eo,borderBottomLeftRadius:eo,borderBottomRightRadius:eo,boxShadow:UR},zC=["TopLeft","TopRight","BottomLeft","BottomRight"],$R=zC.length,Wy=t=>typeof t=="string"?parseFloat(t):t,$y=t=>typeof t=="number"||j.test(t);function HR(t,e,n,r,i,s){i?(t.opacity=fe(0,n.opacity!==void 0?n.opacity:1,GR(r)),t.opacityExit=fe(e.opacity!==void 0?e.opacity:1,0,KR(r))):s&&(t.opacity=fe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<$R;o++){const a=`border${zC[o]}Radius`;let l=Hy(e,a),c=Hy(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||$y(l)===$y(c)?(t[a]=Math.max(fe(Wy(l),Wy(c),r),0),(Yt.test(c)||Yt.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=fe(e.rotate||0,n.rotate||0,r))}function Hy(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const GR=WC(0,.5,Y1),KR=WC(.5,.95,We);function WC(t,e,n){return r=>r<t?0:r>e?1:n(hs(t,e,r))}function Gy(t,e){t.min=e.min,t.max=e.max}function gt(t,e){Gy(t.x,e.x),Gy(t.y,e.y)}function Ky(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function qy(t,e,n,r,i){return t-=e,t=fc(t,1/n,r),i!==void 0&&(t=fc(t,1/i,r)),t}function qR(t,e=0,n=1,r=.5,i,s=t,o=t){if(Yt.test(e)&&(e=parseFloat(e),e=fe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=fe(s.min,s.max,r);t===s&&(a-=e),t.min=qy(t.min,e,n,a,i),t.max=qy(t.max,e,n,a,i)}function Yy(t,e,[n,r,i],s,o){qR(t,e[n],e[r],e[i],e.scale,s,o)}const YR=["x","scaleX","originX"],QR=["y","scaleY","originY"];function Qy(t,e,n,r){Yy(t.x,e,YR,n?n.x:void 0,r?r.x:void 0),Yy(t.y,e,QR,n?n.y:void 0,r?r.y:void 0)}function Xy(t){return t.translate===0&&t.scale===1}function $C(t){return Xy(t.x)&&Xy(t.y)}function Zy(t,e){return t.min===e.min&&t.max===e.max}function XR(t,e){return Zy(t.x,e.x)&&Zy(t.y,e.y)}function Jy(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function HC(t,e){return Jy(t.x,e.x)&&Jy(t.y,e.y)}function e0(t){return ht(t.x)/ht(t.y)}function t0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ZR{constructor(){this.members=[]}add(e){nm(this.members,e),e.scheduleRender()}remove(e){if(rm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function JR(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:p,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const eA=(t,e)=>t.depth-e.depth;class tA{constructor(){this.children=[],this.isDirty=!1}add(e){nm(this.children,e),this.isDirty=!0}remove(e){rm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eA),this.isDirty=!1,this.children.forEach(e)}}function Pl(t){const e=ze(t)?t.get():t;return G2(e)?e.toValue():e}function nA(t,e){const n=Qt.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(mr(r),t(s-e))};return ne.read(r,!0),()=>mr(r)}function rA(t){return t instanceof SVGElement&&t.tagName!=="svg"}function iA(t,e,n){const r=ze(t)?t:ra(t);return r.start(tm("",r,e,n)),r.animation}const Br={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},fo=typeof window<"u"&&window.MotionDebug!==void 0,_d=["","X","Y","Z"],sA={visibility:"hidden"},n0=1e3;let oA=0;function xd(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function GC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=SC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ne,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&GC(r)}function KC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=oA++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fo&&(Br.totalNodes=Br.resolvedTargetDeltas=Br.recalculatedProjection=0),this.nodes.forEach(cA),this.nodes.forEach(pA),this.nodes.forEach(mA),this.nodes.forEach(uA),fo&&window.MotionDebug.record(Br)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new tA)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new im),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=rA(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=nA(h,250),kl.hasAnimatedSinceResize&&(kl.hasAnimatedSinceResize=!1,this.nodes.forEach(i0))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||_A,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=u.getProps(),y=!this.targetLayout||!HC(this.targetLayout,m)||p,_=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,_);const C={...Bp(w,"layout"),onPlay:x,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else h||i0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,mr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gA),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(r0);return}this.isUpdating||this.nodes.forEach(hA),this.isUpdating=!1,this.nodes.forEach(fA),this.nodes.forEach(aA),this.nodes.forEach(lA),this.clearAllSnapshots();const a=Qt.now();Me.delta=gr(0,1e3/60,a-Me.timestamp),Me.timestamp=a,Me.isProcessing=!0,hd.update.process(Me),hd.preRender.process(Me),hd.render.process(Me),Me.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,am.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dA),this.sharedNodes.forEach(vA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!$C(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Ur(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),xA(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return _e();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(CA))){const{scroll:u}=this.root;u&&(Ui(l.x,u.offset.x),Ui(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=_e();if(gt(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&gt(l,o),Ui(l.x,d.offset.x),Ui(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=_e();gt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Bi(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ur(u.latestValues)&&Bi(l,u.latestValues)}return Ur(this.latestValues)&&Bi(l,this.latestValues),l}removeTransform(o){const a=_e();gt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ur(c.latestValues))continue;sf(c.latestValues)&&c.updateSnapshot();const u=_e(),d=c.measurePageBox();gt(u,d),Qy(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Ur(this.latestValues)&&Qy(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Me.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Me.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_e(),this.relativeTargetOrigin=_e(),ko(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),gt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=_e(),this.targetWithTransforms=_e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gt(this.target,this.layout.layoutBox),jC(this.target,this.targetDelta)):gt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_e(),this.relativeTargetOrigin=_e(),ko(this.relativeTargetOrigin,this.target,p.target),gt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fo&&Br.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||sf(this.parent.latestValues)||DC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Me.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;gt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;AR(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=_e());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ky(this.prevProjectionDelta.x,this.projectionDelta.x),Ky(this.prevProjectionDelta.y,this.projectionDelta.y)),To(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!t0(this.projectionDelta.x,this.prevProjectionDelta.x)||!t0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),fo&&Br.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vi(),this.projectionDelta=Vi(),this.projectionDeltaWithTransform=Vi()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Vi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=_e(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,w=p!==m,x=this.getStack(),v=!x||x.members.length<=1,y=!!(w&&!v&&this.options.crossfade===!0&&!this.path.some(wA));this.animationProgress=0;let _;this.mixTargetDelta=C=>{const b=C/1e3;s0(d.x,o.x,b),s0(d.y,o.y,b),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ko(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yA(this.relativeTarget,this.relativeTargetOrigin,h,b),_&&XR(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=_e()),gt(_,this.relativeTarget)),w&&(this.animationValues=u,HR(u,c,this.latestValues,b,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(mr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ne.update(()=>{kl.hasAnimatedSinceResize=!0,this.currentAnimation=iA(0,n0,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(n0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&qC(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||_e();const d=ht(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=ht(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}gt(a,l),Bi(a,u),To(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ZR),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&xd("z",o,c,this.animationValues);for(let u=0;u<_d.length;u++)xd(`rotate${_d[u]}`,o,c,this.animationValues),xd(`skew${_d[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sA;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Pl(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Pl(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ur(this.latestValues)&&(w.transform=u?u({},""):"none",this.hasProjected=!1),w}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=JR(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in pc){if(h[w]===void 0)continue;const{correct:x,applyTo:v}=pc[w],y=c.transform==="none"?h[w]:x(h[w],d);if(v){const _=v.length;for(let C=0;C<_;C++)c[v[C]]=y}else c[w]=y}return this.options.layoutId&&(c.pointerEvents=d===this?Pl(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(r0),this.root.sharedNodes.clear()}}}function aA(t){t.updateLayout()}function lA(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?vt(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],p=ht(h);h.min=r[d].min,h.max=h.min+p}):qC(s,n.layoutBox,r)&&vt(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],p=ht(r[d]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=Vi();To(a,r,n.layoutBox);const l=Vi();o?To(l,t.applyTransform(i,!0),n.measuredBox):To(l,r,n.layoutBox);const c=!$C(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const m=_e();ko(m,n.layoutBox,h.layoutBox);const w=_e();ko(w,r,p.layoutBox),HC(m,w)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=m,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function cA(t){fo&&Br.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function uA(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function dA(t){t.clearSnapshot()}function r0(t){t.clearMeasurements()}function hA(t){t.isLayoutDirty=!1}function fA(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function i0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function pA(t){t.resolveTargetDelta()}function mA(t){t.calcProjection()}function gA(t){t.resetSkewAndRotation()}function vA(t){t.removeLeadSnapshot()}function s0(t,e,n){t.translate=fe(e.translate,0,n),t.scale=fe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function o0(t,e,n,r){t.min=fe(e.min,n.min,r),t.max=fe(e.max,n.max,r)}function yA(t,e,n,r){o0(t.x,e.x,n.x,r),o0(t.y,e.y,n.y,r)}function wA(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const _A={duration:.45,ease:[.4,0,.1,1]},a0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),l0=a0("applewebkit/")&&!a0("chrome/")?Math.round:We;function c0(t){t.min=l0(t.min),t.max=l0(t.max)}function xA(t){c0(t.x),c0(t.y)}function qC(t,e,n){return t==="position"||t==="preserve-aspect"&&!CR(e0(e),e0(n),.2)}function CA(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const bA=KC({attachResizeListener:(t,e)=>dn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cd={current:void 0},YC=KC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Cd.current){const t=new bA({});t.mount(window),t.setOptions({layoutScroll:!0}),Cd.current=t}return Cd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),SA={pan:{Feature:FR},drag:{Feature:jR,ProjectionNode:YC,MeasureLayout:BC}};function u0(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||AC())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&ne.postRender(()=>l(s,o))};return _n(t.current,n,i,{passive:!t.getProps()[r]})}class EA extends Pr{mount(){this.unmount=wn(u0(this.node,!0),u0(this.node,!1))}unmount(){}}class TA extends Pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wn(dn(this.node.current,"focus",()=>this.onFocus()),dn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const QC=(t,e)=>e?t===e?!0:QC(t,e.parentElement):!1;function bd(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,du(n))}class kA extends Pr{constructor(){super(...arguments),this.removeStartListeners=We,this.removeEndListeners=We,this.removeAccessibleListeners=We,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=_n(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps(),h=!d&&!QC(this.node.current,a.target)?u:c;h&&ne.update(()=>h(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=_n(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=wn(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||bd("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&ne.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=dn(this.node.current,"keyup",o),bd("down",(a,l)=>{this.startPress(a,l)})},n=dn(this.node.current,"keydown",e),r=()=>{this.isPressing&&bd("cancel",(s,o)=>this.cancelPress(s,o))},i=dn(this.node.current,"blur",r);this.removeAccessibleListeners=wn(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ne.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!AC()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ne.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=_n(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=dn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const af=new WeakMap,Sd=new WeakMap,PA=t=>{const e=af.get(t.target);e&&e(t)},NA=t=>{t.forEach(PA)};function IA({root:t,...e}){const n=t||document;Sd.has(n)||Sd.set(n,{});const r=Sd.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(NA,{root:t,...e})),r[i]}function RA(t,e,n){const r=IA(e);return af.set(t,n),r.observe(t),()=>{af.delete(t),r.unobserve(t)}}const AA={some:0,all:1};class MA extends Pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:AA[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return RA(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(OA(e,n))&&this.startObserver()}unmount(){}}function OA({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const LA={inView:{Feature:MA},tap:{Feature:kA},focus:{Feature:TA},hover:{Feature:EA}},DA={layout:{ProjectionNode:YC,MeasureLayout:BC}},lm=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),fu=g.createContext({}),cm=typeof window<"u",XC=cm?g.useLayoutEffect:g.useEffect,ZC=g.createContext({strict:!1});function jA(t,e,n,r,i){var s,o;const{visualElement:a}=g.useContext(fu),l=g.useContext(ZC),c=g.useContext(hu),u=g.useContext(lm).reducedMotion,d=g.useRef();r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,p=g.useContext(UC);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&FA(d.current,n,i,p),g.useInsertionEffect(()=>{h&&h.update(n,c)});const m=n[bC],w=g.useRef(!!m&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,m))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,m)));return XC(()=>{h&&(window.MotionIsMounted=!0,h.updateFeatures(),am.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),g.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,m)}),w.current=!1))}),h}function FA(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:JC(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Fi(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function JC(t){if(t)return t.options.allowProjection!==!1?t.projection:JC(t.parent)}function VA(t,e,n){return g.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Fi(n)&&(n.current=r))},[e])}function pu(t){return lu(t.animate)||Up.some(e=>ea(t[e]))}function eb(t){return!!(pu(t)||t.variants)}function UA(t,e){if(pu(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ea(n)?n:void 0,animate:ea(r)?r:void 0}}return t.inherit!==!1?e:{}}function BA(t){const{initial:e,animate:n}=UA(t,g.useContext(fu));return g.useMemo(()=>({initial:e,animate:n}),[d0(e),d0(n)])}function d0(t){return Array.isArray(t)?t.join(" "):t}const h0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fs={};for(const t in h0)fs[t]={isEnabled:e=>h0[t].some(n=>!!e[n])};function zA(t){for(const e in t)fs[e]={...fs[e],...t[e]}}const WA=Symbol.for("motionComponentSymbol");function $A({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&zA(t);function s(a,l){let c;const u={...g.useContext(lm),...a,layoutId:HA(a)},{isStatic:d}=u,h=BA(a),p=r(a,d);if(!d&&cm){GA();const m=KA(u);c=m.MeasureLayout,h.visualElement=jA(i,p,u,e,m.ProjectionNode)}return f.jsxs(fu.Provider,{value:h,children:[c&&h.visualElement?f.jsx(c,{visualElement:h.visualElement,...u}):null,n(i,a,VA(p,h.visualElement,l),p,d,h.visualElement)]})}const o=g.forwardRef(s);return o[WA]=i,o}function HA({layoutId:t}){const e=g.useContext(om).id;return e&&t!==void 0?e+"-"+t:t}function GA(t,e){g.useContext(ZC).strict}function KA(t){const{drag:e,layout:n}=fs;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const qA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function um(t){return typeof t!="string"||t.includes("-")?!1:!!(qA.indexOf(t)>-1||/[A-Z]/u.test(t))}function tb(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const nb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rb(t,e,n,r){tb(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(nb.has(i)?i:sm(i),e.attrs[i])}function ib(t,{layout:e,layoutId:n}){return mi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!pc[t]||t==="opacity")}function dm(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(ze(i[o])||e.style&&ze(e.style[o])||ib(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function sb(t,e,n){const r=dm(t,e,n);for(const i in t)if(ze(t[i])||ze(e[i])){const s=xa.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function hm(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}function YA({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:QA(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const ob=t=>(e,n)=>{const r=g.useContext(fu),i=g.useContext(hu),s=()=>YA(t,e,r,i);return n?s():hm(s)};function QA(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=Pl(s[h]);let{initial:o,animate:a}=t;const l=pu(t),c=eb(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!lu(d)){const h=Array.isArray(d)?d:[d];for(let p=0;p<h.length;p++){const m=Fp(t,h[p]);if(m){const{transitionEnd:w,transition:x,...v}=m;for(const y in v){let _=v[y];if(Array.isArray(_)){const C=u?_.length-1:0;_=_[C]}_!==null&&(i[y]=_)}for(const y in w)i[y]=w[y]}}}return i}const fm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ab=()=>({...fm(),attrs:{}}),lb=(t,e)=>e&&typeof t=="number"?e.transform(t):t,XA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZA=xa.length;function JA(t,e,n){let r="",i=!0;for(let s=0;s<ZA;s++){const o=xa[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=lb(a,qp[o]);if(!l){i=!1;const u=XA[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function pm(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(mi.has(l)){o=!0;continue}else if(eC(l)){i[l]=c;continue}else{const u=lb(c,qp[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=JA(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}function f0(t,e,n){return typeof t=="string"?t:j.transform(e+n*t)}function eM(t,e,n){const r=f0(e,t.x,t.width),i=f0(n,t.y,t.height);return`${r} ${i}`}const tM={offset:"stroke-dashoffset",array:"stroke-dasharray"},nM={offset:"strokeDashoffset",array:"strokeDasharray"};function rM(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?tM:nM;t[s.offset]=j.transform(-r);const o=j.transform(e),a=j.transform(n);t[s.array]=`${o} ${a}`}function mm(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(pm(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p,dimensions:m}=t;h.transform&&(m&&(p.transform=h.transform),delete h.transform),m&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=eM(m,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&rM(h,o,a,l,!1)}const gm=t=>typeof t=="string"&&t.toLowerCase()==="svg",iM={useVisualState:ob({scrapeMotionValuesFromProps:sb,createRenderState:ab,onMount:(t,e,{renderState:n,latestValues:r})=>{ne.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ne.render(()=>{mm(n,r,gm(e.tagName),t.transformTemplate),rb(e,n)})}})},sM={useVisualState:ob({scrapeMotionValuesFromProps:dm,createRenderState:fm})};function cb(t,e,n){for(const r in e)!ze(e[r])&&!ib(r,n)&&(t[r]=e[r])}function oM({transformTemplate:t},e){return g.useMemo(()=>{const n=fm();return pm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function aM(t,e){const n=t.style||{},r={};return cb(r,n,t),Object.assign(r,oM(t,e)),r}function lM(t,e){const n={},r=aM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const cM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||cM.has(t)}let ub=t=>!mc(t);function uM(t){t&&(ub=e=>e.startsWith("on")?!mc(e):t(e))}try{uM(require("@emotion/is-prop-valid").default)}catch{}function dM(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(ub(i)||n===!0&&mc(i)||!e&&!mc(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function hM(t,e,n,r){const i=g.useMemo(()=>{const s=ab();return mm(s,e,gm(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};cb(s,t.style,t),i.style={...s,...i.style}}return i}function fM(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(um(n)?hM:lM)(r,s,o,n),c=dM(r,typeof n=="string",t),u=n!==g.Fragment?{...c,...l,ref:i}:{},{children:d}=r,h=g.useMemo(()=>ze(d)?d.get():d,[d]);return g.createElement(n,{...u,children:h})}}function pM(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...um(r)?iM:sM,preloadedFeatures:t,useRender:fM(i),createVisualElement:e,Component:r};return $A(o)}}const lf={current:null},db={current:!1};function mM(){if(db.current=!0,!!cm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>lf.current=t.matches;t.addListener(e),e()}else lf.current=!1}function gM(t,e,n){for(const r in e){const i=e[r],s=n[r];if(ze(i))t.addValue(r,i);else if(ze(s))t.addValue(r,ra(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,ra(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const p0=new WeakMap,vM=[...rC,Ue,vr],yM=t=>vM.find(nC(t)),m0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wM{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Hp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Qt.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ne.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=pu(n),this.isVariantNode=eb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const p=d[h];l[h]!==void 0&&ze(p)&&p.set(l[h],!1)}}mount(e){this.current=e,p0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),db.current||mM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){p0.delete(this.current),this.projection&&this.projection.unmount(),mr(this.notifyUpdate),mr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=mi.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ne.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in fs){const n=fs[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_e()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<m0.length;r++){const i=m0[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=gM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ra(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Z1(i)||X1(i))?i=parseFloat(i):!yM(i)&&vr.test(n)&&(i=dC(e,n)),this.setBaseTarget(e,ze(i)?i.get():i)),ze(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=Fp(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ze(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new im),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class hb extends wM{constructor(){super(...arguments),this.KeyframeResolver=hC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function _M(t){return window.getComputedStyle(t)}class xM extends hb{constructor(){super(...arguments),this.type="html",this.renderInstance=tb}readValueFromInstance(e,n){if(mi.has(n)){const r=Yp(n);return r&&r.default||0}else{const r=_M(e),i=(eC(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return FC(e,n)}build(e,n,r){pm(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return dm(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ze(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class CM extends hb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_e}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(mi.has(n)){const r=Yp(n);return r&&r.default||0}return n=nb.has(n)?n:sm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return sb(e,n,r)}build(e,n,r){mm(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){rb(e,n,r,i)}mount(e){this.isSVGTag=gm(e.tagName),super.mount(e)}}const bM=(t,e)=>um(t)?new CM(e):new xM(e,{allowProjection:t!==g.Fragment}),SM=pM({...fR,...LA,...SA,...DA},bM),Wt=iI(SM);class EM extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function TM({children:t,isPresent:e}){const n=g.useId(),r=g.useRef(null),i=g.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=g.useContext(lm);return g.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),f.jsx(EM,{isPresent:e,childRef:r,sizeRef:i,children:g.cloneElement(t,{ref:r})})}const kM=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=hm(PM),l=g.useId(),c=g.useCallback(d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},[a,r]),u=g.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:d=>(a.set(d,!1),()=>a.delete(d))}),s?[Math.random(),c]:[n,c]);return g.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),g.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=f.jsx(TM,{isPresent:n,children:t})),f.jsx(hu.Provider,{value:u,children:t})};function PM(){return new Map}const il=t=>t.key||"";function g0(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const NM=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=g.useMemo(()=>g0(t),[t]),l=a.map(il),c=g.useRef(!0),u=g.useRef(a),d=hm(()=>new Map),[h,p]=g.useState(a),[m,w]=g.useState(a);XC(()=>{c.current=!1,u.current=a;for(let y=0;y<m.length;y++){const _=il(m[y]);l.includes(_)?d.delete(_):d.get(_)!==!0&&d.set(_,!1)}},[m,l.length,l.join("-")]);const x=[];if(a!==h){let y=[...a];for(let _=0;_<m.length;_++){const C=m[_],b=il(C);l.includes(b)||(y.splice(_,0,C),x.push(C))}o==="wait"&&x.length&&(y=x),w(g0(y)),p(a);return}const{forceRender:v}=g.useContext(om);return f.jsx(f.Fragment,{children:m.map(y=>{const _=il(y),C=a===m||l.includes(_),b=()=>{if(d.has(_))d.set(_,!0);else return;let S=!0;d.forEach(k=>{k||(S=!1)}),S&&(v==null||v(),w(u.current),i&&i())};return f.jsx(kM,{isPresent:C,initial:!c.current||r?void 0:!1,custom:C?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:C?void 0:b,children:y},_)})})};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fb=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...RM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:fb("lucide",i),...a},[...o.map(([c,u])=>g.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=(t,e)=>{const n=g.forwardRef(({className:r,...i},s)=>g.createElement(AM,{ref:s,iconNode:e,className:fb(`lucide-${IM(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=K("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=K("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=K("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=K("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=K("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=K("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=K("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=K("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=K("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=K("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=K("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=K("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=K("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=K("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=K("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=K("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=K("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=K("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=K("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=K("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=K("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=K("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=K("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=K("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=K("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=K("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=K("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=K("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=K("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=K("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=K("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=K("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=K("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=K("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=K("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function QM(){const t=kr();return f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx(xm,{className:"w-20 h-20 text-white mb-4 mx-auto"}),f.jsx("h1",{className:"text-5xl font-bold text-white mb-4",children:"SkiMatch"}),f.jsx("p",{className:"text-blue-100 text-xl",children:"Find your perfect skiing destination"})]}),f.jsxs("div",{className:"space-y-4 w-full max-w-md",children:[f.jsx("button",{onClick:()=>t("/quiz"),className:"w-full py-4 px-6 bg-white text-blue-900 rounded-lg font-semibold text-lg hover:bg-blue-50 transition-colors duration-200 flex items-center justify-center space-x-2",children:"Get Started"}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsxs("button",{onClick:()=>t("/login"),className:"flex-1 py-4 px-6 bg-transparent border-2 border-white text-white rounded-lg font-semibold text-lg hover:bg-white/10 transition-colors duration-200 flex items-center justify-center space-x-2",children:[f.jsx(WM,{className:"w-5 h-5"}),f.jsx("span",{children:"Log In"})]}),f.jsx("button",{onClick:()=>t("/create-account"),className:"flex-1 py-4 px-6 bg-white/10 backdrop-blur-sm text-white rounded-lg font-semibold text-lg hover:bg-white/20 transition-colors duration-200",children:"Sign Up"})]})]})]})}const XM="/assets/skiBeginner-rLgAnVfo.jpg",ZM="/assets/skiExperienced--M_afi9x.jpg",JM=[{id:"beginner",title:"Beginner",subtitle:"Perfect for first-time travelers",image:XM,icon:mb},{id:"experienced",title:"Experienced",subtitle:"For seasoned adventurers",image:ZM,icon:DM}];function eO(){const t=kr(),e=n=>{t(n==="beginner"?"/quiz/beginner":"/quiz/experienced")};return f.jsxs("div",{className:"container mx-auto px-4 py-16",children:[f.jsx("h1",{className:"text-4xl font-bold text-center text-white mb-2",children:"Travel Quiz"}),f.jsx("p",{className:"text-center text-gray-200 mb-12",children:"Choose your experience level to get started"}),f.jsx("div",{className:"grid md:grid-cols-2 gap-8 max-w-6xl mx-auto",children:JM.map(n=>f.jsxs("button",{onClick:()=>e(n.id),className:"group relative overflow-hidden rounded-2xl aspect-[4/3] transition-transform hover:scale-[1.02]",children:[f.jsx("img",{src:n.image,alt:n.title,className:"absolute inset-0 w-full h-full object-cover transition-transform group-hover:scale-105"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent",children:f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white",children:[f.jsx(n.icon,{className:"w-12 h-12 mb-4 opacity-90"}),f.jsx("h2",{className:"text-3xl font-bold mb-2",children:n.title}),f.jsx("p",{className:"text-lg text-white/80",children:n.subtitle})]})})]},n.id))})]})}function tO(){const t=kr(),[e,n]=g.useState(1),[r,i]=g.useState({address:"",tripDuration:"",noTimeLimit:!1,costType:"",costAmount:"0",interests:[]}),s=()=>r.address&&(r.noTimeLimit||r.tripDuration),o=()=>r.costType&&Number(r.costAmount)>0,a=()=>r.interests.length>0,l=()=>{console.log("Final Quiz Selections:"),console.log("Starting Location:",r.address),console.log("Trip Duration:",r.noTimeLimit?"Flexible":`${r.tripDuration} days`),console.log("Budget:",r.costType==="daily"?`${r.costAmount} per day`:`${r.costAmount} total`),console.log("Interests:",r.interests.join(", ")),t("/results")},c=({currentStep:p,totalSteps:m})=>f.jsx("div",{className:"flex items-center justify-center space-x-2 mb-8",children:[...Array(m)].map((w,x)=>f.jsx("div",{className:`w-3 h-3 rounded-full ${x+1===p?"bg-indigo-600":"bg-gray-300"}`},x))}),u=()=>f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Where are you starting from?"}),f.jsx("input",{type:"text",value:r.address,onChange:p=>i({...r,address:p.target.value}),placeholder:"Enter your address",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How long do you want your trip to be?"}),f.jsx("input",{type:"number",min:"1",max:"30",value:r.tripDuration,onChange:p=>{const m=Math.min(Math.max(1,Number(p.target.value)),30);i({...r,tripDuration:m.toString()})},placeholder:"Enter number of days (1-30)",disabled:r.noTimeLimit,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${r.noTimeLimit?"bg-gray-100 cursor-not-allowed":""}`}),f.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:r.noTimeLimit,onChange:p=>i({...r,noTimeLimit:p.target.checked,tripDuration:p.target.checked?"":r.tripDuration}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),f.jsx("span",{className:"text-sm text-gray-700",children:"Duration is flexible"})]})]})]}),d=()=>f.jsxs("div",{className:"space-y-6",children:[f.jsx("style",{children:`
        input[type="range"]::before {
          content: '';
          width: var(--percent);
        }
      `}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"How would you like to plan your budget?"}),f.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[{id:"daily",label:"Cost per Day"},{id:"total",label:"Total Trip Cost"}].map(({id:p,label:m})=>f.jsx("button",{onClick:()=>i({...r,costType:p,costAmount:"0"}),className:`p-4 border rounded-xl transition-all ${r.costType===p?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-indigo-300"}`,children:f.jsx("span",{className:r.costType===p?"text-indigo-600":"text-gray-700",children:m})},p))})]}),r.costType&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r.costType==="daily"?"Daily Budget":"Total Budget"}),f.jsxs("span",{className:"text-sm font-medium text-indigo-600",children:["$",r.costAmount]})]}),f.jsx("input",{type:"range",min:"0",max:r.costType==="daily"?"500":"10000",step:r.costType==="daily"?"10":"100",value:r.costAmount,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-indigo-600 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-indigo-600 [&::-moz-range-thumb]:border-0 relative before:absolute before:h-2 before:rounded-l-lg before:bg-indigo-600",style:{"--percent":`${Number(r.costAmount)/(r.costType==="daily"?500:1e4)*100}%`},onInput:p=>{const m=p.target;m.style.setProperty("--percent",`${Number(m.value)/(r.costType==="daily"?500:1e4)*100}%`),i({...r,costAmount:m.value})}}),f.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[f.jsx("span",{children:"$0"}),f.jsxs("span",{children:["$",r.costType==="daily"?"500":"10,000"]})]})]})]}),h=()=>{const p=["Sightseeing","Food & Dining","Shopping","Museums","Outdoor Activities","Nightlife","Local Culture","Relaxation"];return f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"What interests you during your trip?"}),f.jsx("div",{className:"grid grid-cols-2 gap-3",children:p.map(m=>f.jsx("button",{onClick:()=>{const w=r.interests.includes(m)?r.interests.filter(x=>x!==m):[...r.interests,m];i({...r,interests:w})},className:`p-3 border rounded-lg transition-all ${r.interests.includes(m)?"border-indigo-600 bg-indigo-50 text-indigo-600":"border-gray-200 hover:border-indigo-300 text-gray-700"}`,children:m},m))})]})};return f.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-2xl",children:[f.jsx(c,{currentStep:e,totalSteps:3}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e===1&&u(),e===2&&d(),e===3&&h(),f.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[f.jsxs("button",{onClick:e===1?()=>t("/quiz"):()=>n(e-1),className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-800",children:[f.jsx(vm,{className:"w-4 h-4 mr-2"}),e===1?"Back to Selection":"Previous"]}),f.jsxs("button",{onClick:()=>{e===3&&a()?l():n(e+1)},disabled:e===1&&!s()||e===2&&!o()||e===3&&!a(),className:`flex items-center px-6 py-2 rounded-lg ${e===1&&!s()||e===2&&!o()||e===3&&!a()?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:[e===3?"Submit":"Next",f.jsx(MM,{className:"w-4 h-4 ml-2"})]})]})]})]})}const nO="data:image/jpeg;base64,aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2phaW1lZGV2ZWxvcC9TQl9BbHBpbmVUb3Vyc0BmZDkwMjk4OGY3M2NmNjAxOTcxZGUzNjE5MDU5ODdiMjU2Yjk2Y2NmL3NyYy9pbWFnZUZpbGVzL01hbW1vdGggTW91bnRhaW4uanBn",rO="/assets/Boyne%20Mountain-BmJwjG_H.jpg",iO="data:image/jpeg;base64,aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2phaW1lZGV2ZWxvcC9TQl9BbHBpbmVUb3Vyc0BjYTUzMWQyNWZhNDdkOTI3ODkyMjYzMTgyZjFlNGMyZjhiYjJkMTRlL2ltYWdlcy9TdGVhbWJvYXQuanBn",sO="/assets/Killington-C_uFGvmo.jpeg",oO=[{id:"western",name:"Western",image:nO,description:"Pacific Coast mountains with deep powder"},{id:"central",name:"Central",image:rO,description:"Midwest slopes perfect for learning"},{id:"rocky",name:"Rocky",image:iO,description:"High altitude peaks with varied terrain"},{id:"eastern",name:"Eastern",image:sO,description:"Classic New England skiing experience"}];function aO({value:t,onChange:e}){return f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:oO.map(n=>f.jsxs("button",{onClick:()=>e(n.id),className:`relative overflow-hidden rounded-xl aspect-video group transition-all duration-300 ${t===n.id?"ring-4 ring-white scale-102":"hover:scale-102"}`,children:[f.jsx("img",{src:n.image,alt:n.name,className:"absolute inset-0 w-full h-full object-cover transform transition-transform duration-300 group-hover:scale-105"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent",children:f.jsxs("div",{className:"absolute bottom-0 left-0 p-4",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[f.jsx(As,{className:"w-5 h-5"}),f.jsx("h3",{className:"text-xl font-bold",children:n.name})]}),f.jsx("p",{className:"text-white/80 text-sm",children:n.description})]})})]},n.id))})}const lO=[{id:"beginner",name:"Beginner",description:"New to skiing or still learning the basics",baseColor:"from-green-500 to-green-600",hoverColor:"from-green-600 to-green-700",icon:FM},{id:"intermediate",name:"Intermediate",description:"Comfortable on blue runs",baseColor:"from-blue-400 to-blue-500",hoverColor:"from-blue-500 to-blue-600",icon:Ed},{id:"advanced",name:"Advanced",description:"Confident on black diamond runs",baseColor:"from-gray-800 to-black",hoverColor:"from-black to-black",icon:Ed,rotate:!0},{id:"expert",name:"Expert",description:"Master of double black diamonds",baseColor:"from-gray-800 to-black",hoverColor:"from-black to-black",icon:Ed,rotate:!0,doubleIcon:!0,goldRing:!0}];function cO({value:t,onChange:e}){return f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:lO.map(n=>{const r=n.icon,i=t===n.id;return f.jsxs("button",{onClick:()=>e(n.id),className:`
              relative p-4 rounded-lg
              ${n.goldRing?"ring-2 ring-yellow-400":""}
              ${i?"ring-2 ring-white":""}
              group
            `,children:[f.jsx("div",{className:`
              absolute inset-0 bg-gradient-to-r ${n.baseColor}
              transition-opacity duration-300 ease-in-out rounded-lg
            `}),f.jsx("div",{className:`
              absolute inset-0 bg-gradient-to-r ${n.hoverColor}
              transition-opacity duration-300 ease-in-out rounded-lg
              opacity-0 ${i?"opacity-100":"group-hover:opacity-100"}
            `}),f.jsxs("div",{className:"relative flex items-center space-x-3",children:[f.jsx("div",{className:"flex items-center space-x-1",children:n.doubleIcon?f.jsxs(f.Fragment,{children:[f.jsx(r,{className:"w-6 h-6 text-white -rotate-45"}),f.jsx(r,{className:"w-6 h-6 text-white -rotate-45 ml-1"})]}):f.jsx(r,{className:`w-6 h-6 text-white ${n.rotate?"-rotate-45":""}`})}),f.jsxs("div",{className:"text-left text-white",children:[f.jsx("div",{className:"font-bold",children:n.name}),f.jsx("div",{className:"text-sm opacity-80",children:n.description})]})]})]},n.id)})})}const uO=[{id:"budget",name:"Budget",range:"$0-$100 per day",icon:1,color:"from-green-500 to-green-600"},{id:"moderate",name:"Moderate",range:"$100-$200 per day",icon:2,color:"from-blue-500 to-blue-600"},{id:"premium",name:"Premium",range:"$200-$300 per day",icon:3,color:"from-purple-500 to-purple-600"},{id:"luxury",name:"Luxury",range:"$300+ per day",icon:4,color:"from-yellow-500 to-yellow-600"}];function dO({value:t,onChange:e}){return f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:uO.map(n=>f.jsxs("button",{onClick:()=>e(n.id),className:`
            relative p-4 rounded-lg
            ${t===n.id?"ring-2 ring-white":""}
            group
          `,children:[f.jsx("div",{className:"absolute inset-0 bg-white/5 rounded-lg"}),f.jsx("div",{className:`
            absolute inset-0 bg-gradient-to-r ${n.color}
            transition-opacity duration-300 ease-in-out rounded-lg
            ${t===n.id?"opacity-100":"opacity-0 group-hover:opacity-100"}
          `}),f.jsxs("div",{className:"relative flex items-center space-x-3",children:[f.jsx("div",{className:"flex items-center text-white",children:[...Array(n.icon)].map((r,i)=>f.jsx(wm,{className:"w-5 h-5"},i))}),f.jsxs("div",{className:"text-left text-white",children:[f.jsx("div",{className:"font-bold",children:n.name}),f.jsx("div",{className:"text-sm opacity-80",children:n.range})]})]})]},n.id))})}const hO=[{id:"ski-board",name:"Ski & Board",icon:Cm},{id:"terrain-park",name:"Terrain Park",icon:xm},{id:"backcountry",name:"Backcountry",icon:KM},{id:"snowmobiling",name:"Snowmobiling",icon:cf},{id:"snow-tubing",name:"Snow Tubing",icon:OM},{id:"half-pipe",name:"Half-Pipe",icon:qM},{id:"night-skiing",name:"Night Skiing",icon:GM}];function fO({value:t=[],onChange:e}){const n=r=>{const i=t.includes(r)?t.filter(s=>s!==r):[...t,r];e(i)};return f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:hO.map(r=>{const i=r.icon,s=t.includes(r.id);return f.jsx("button",{onClick:()=>n(r.id),className:`
              relative p-4 rounded-lg transition-all duration-300
              ${s?"bg-white text-blue-900 ring-2 ring-white":"bg-white/5 hover:bg-white/10 text-white"}
            `,children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(i,{className:"w-6 h-6"}),f.jsx("span",{className:"font-medium",children:r.name})]})},r.id)})})}function pO(){const t=kr(),[e,n]=g.useState(0),[r,i]=g.useState({}),s=[{id:"region",title:"What region are you going to ski in?",component:aO},{id:"skill",title:"What is your skill level?",component:cO},{id:"budget",title:"What is your budget?",component:dO},{id:"interests",title:"What are your interests?",component:fO}],o=(u,d)=>{i(h=>({...h,[u]:d}))},a=()=>{var u;console.log("Final Experienced Quiz Selections:"),console.log("Region:",r.region),console.log("Skill Level:",r.skill),console.log("Budget:",r.budget),console.log("Interests:",(u=r.interests)==null?void 0:u.join(", ")),t("/loading",{state:r})},l=()=>{e===0?(i({}),t("/")):n(u=>Math.max(0,u-1))},c=s[e].component;return f.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:f.jsxs("div",{className:"w-full max-w-4xl",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:s[e].title}),f.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full",children:f.jsx("div",{className:"bg-white h-full rounded-full transition-all duration-300",style:{width:`${(e+1)/s.length*100}%`}})})]}),f.jsx(c,{value:r[s[e].id],onChange:u=>o(s[e].id,u)}),f.jsxs("div",{className:"flex justify-between mt-8",children:[f.jsxs("button",{onClick:l,className:"flex items-center space-x-2 px-4 py-2 rounded-lg bg-white/5 hover:bg-white/20 text-white transition-colors",children:[f.jsx(jM,{className:"w-5 h-5"}),f.jsx("span",{children:e===0?"Back":"Previous"})]}),f.jsxs("button",{onClick:()=>{e<s.length-1?n(u=>u+1):a()},disabled:!r[s[e].id],className:"flex items-center space-x-2 px-4 py-2 rounded-lg bg-white text-blue-900 hover:bg-blue-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[f.jsx("span",{children:e===s.length-1?"Find Matches":"Next"}),f.jsx(ym,{className:"w-5 h-5"})]})]})]})})}const Nl=["Waxing your skis...","Counting runs...","Checking lift status...","Measuring snow depth...","Analyzing weather patterns...","Grooming the slopes...","Preparing trail maps...","Checking avalanche conditions...","Finding the perfect powder...","Calculating vertical feet..."],mO=t=>{let e;do{const n=Math.floor(Math.random()*Nl.length);e=Nl[n]}while(e===t&&Nl.length>1);return e};function gO(){const[t,e]=g.useState(Nl[0]),n=kr(),r=_a();return g.useEffect(()=>{const i=setInterval(()=>{e(o=>mO(o))},1500),s=setTimeout(()=>{n("/results",{state:r.state})},3e3);return()=>{clearInterval(i),clearTimeout(s)}},[n,r.state]),f.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:f.jsxs("div",{className:"text-center",children:[f.jsx(Cm,{className:"w-16 h-16 text-white mb-8 mx-auto animate-spin"}),f.jsx("div",{className:"h-8",children:f.jsx("p",{className:"text-white text-xl font-medium animate-fade-in",children:t})})]})})}const vO="modulepreload",yO=function(t){return"/"+t},w0={},wO=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=yO(l),l in w0)return;w0[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":vO,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},_O=g.createContext(null);function xO(t,e){const n=Array.isArray(t)?t[0]:t?t.x:0,r=Array.isArray(t)?t[1]:t?t.y:0,i=Array.isArray(e)?e[0]:e?e.x:0,s=Array.isArray(e)?e[1]:e?e.y:0;return n===i&&r===s}function an(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!an(t[n],e[n]))return!1;return!0}else if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n)if(!e.hasOwnProperty(i)||!an(t[i],e[i]))return!1;return!0}return!1}function CO(t){const e=t.clone();return e.pixelsToGLUnits=t.pixelsToGLUnits,e}function _0(t,e){if(!t.getProjection)return;const n=t.getProjection(),r=e.getProjection();an(n,r)||e.setProjection(n)}function x0(t){return{longitude:t.center.lng,latitude:t.center.lat,zoom:t.zoom,pitch:t.pitch,bearing:t.bearing,padding:t.padding}}function C0(t,e){const n=e.viewState||e;let r=!1;if("zoom"in n){const i=t.zoom;t.zoom=n.zoom,r=r||i!==t.zoom}if("bearing"in n){const i=t.bearing;t.bearing=n.bearing,r=r||i!==t.bearing}if("pitch"in n){const i=t.pitch;t.pitch=n.pitch,r=r||i!==t.pitch}if(n.padding&&!t.isPaddingEqual(n.padding)&&(r=!0,t.padding=n.padding),"longitude"in n&&"latitude"in n){const i=t.center;t.center=new i.constructor(n.longitude,n.latitude),r=r||i!==t.center}return r}const bO=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function b0(t){if(!t)return null;if(typeof t=="string"||("toJS"in t&&(t=t.toJS()),!t.layers))return t;const e={};for(const r of t.layers)e[r.id]=r;const n=t.layers.map(r=>{let i=null;"interactive"in r&&(i=Object.assign({},r),delete i.interactive);const s=e[r.ref];if(s){i=i||Object.assign({},r),delete i.ref;for(const o of bO)o in s&&(i[o]=s[o])}return i||r});return{...t,layers:n}}var S0={};const E0={version:8,sources:{},layers:[]},T0={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},Td={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},k0={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},SO=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],EO=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class ps{constructor(e,n,r){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=i=>{const s=this.props[k0[i.type]];s?s(i):i.type==="error"&&console.error(i.error)},this._onPointerEvent=i=>{(i.type==="mousemove"||i.type==="mouseout")&&this._updateHover(i);const s=this.props[T0[i.type]];s&&(this.props.interactiveLayerIds&&i.type!=="mouseover"&&i.type!=="mouseout"&&(i.features=this._hoveredFeatures||this._queryRenderedFeatures(i.point)),s(i),delete i.features)},this._onCameraEvent=i=>{if(!this._internalUpdate){const s=this.props[Td[i.type]];s&&s(i)}i.type in this._deferredEvents&&(this._deferredEvents[i.type]=!1)},this._MapClass=e,this.props=n,this._initialize(r)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){const n=this.props;this.props=e;const r=this._updateSettings(e,n);r&&this._createShadowTransform(this._map);const i=this._updateSize(e),s=this._updateViewState(e,!0);this._updateStyle(e,n),this._updateStyleComponents(e,n),this._updateHandlers(e,n),(r||i||s&&!this._map.isMoving())&&this.redraw()}static reuse(e,n){const r=ps.savedMaps.pop();if(!r)return null;const i=r.map,s=i.getContainer();for(n.className=s.className;s.childNodes.length>0;)n.appendChild(s.childNodes[0]);i._container=n;const o=i._resizeObserver;o&&(o.disconnect(),o.observe(n)),r.setProps({...e,styleDiffing:!1}),i.resize();const{initialViewState:a}=e;return a&&(a.bounds?i.fitBounds(a.bounds,{...a.fitBoundsOptions,duration:0}):r._updateViewState(a,!1)),i.isStyleLoaded()?i.fire("load"):i.once("styledata",()=>i.fire("load")),i._update(),r}_initialize(e){const{props:n}=this,{mapStyle:r=E0}=n,i={...n,...n.initialViewState,accessToken:n.mapboxAccessToken||TO()||null,container:e,style:b0(r)},s=i.initialViewState||i.viewState||i;if(Object.assign(i,{center:[s.longitude||0,s.latitude||0],zoom:s.zoom||0,pitch:s.pitch||0,bearing:s.bearing||0}),n.gl){const u=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=u,n.gl)}const o=new this._MapClass(i);s.padding&&o.setPadding(s.padding),n.cursor&&(o.getCanvas().style.cursor=n.cursor),this._createShadowTransform(o);const a=o._render;o._render=u=>{this._inRender=!0,a.call(o,u),this._inRender=!1};const l=o._renderTaskQueue.run;o._renderTaskQueue.run=u=>{l.call(o._renderTaskQueue,u),this._onBeforeRepaint()},o.on("render",()=>this._onAfterRepaint());const c=o.fire;o.fire=this._fireEvent.bind(this,c),o.on("resize",()=>{this._renderTransform.resize(o.transform.width,o.transform.height)}),o.on("styledata",()=>{this._updateStyleComponents(this.props,{}),_0(o.transform,this._renderTransform)}),o.on("sourcedata",()=>this._updateStyleComponents(this.props,{}));for(const u in T0)o.on(u,this._onPointerEvent);for(const u in Td)o.on(u,this._onCameraEvent);for(const u in k0)o.on(u,this._onEvent);this._map=o}recycle(){const n=this.map.getContainer().querySelector("[mapboxgl-children]");n==null||n.remove(),ps.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_createShadowTransform(e){const n=CO(e.transform);e.painter.transform=n,this._renderTransform=n}_updateSize(e){const{viewState:n}=e;if(n){const r=this._map;if(n.width!==r.transform.width||n.height!==r.transform.height)return r.resize(),!0}return!1}_updateViewState(e,n){if(this._internalUpdate)return!1;const r=this._map,i=this._renderTransform,{zoom:s,pitch:o,bearing:a}=i,l=r.isMoving();l&&(i.cameraElevationReference="sea");const c=C0(i,{...x0(r.transform),...e});if(l&&(i.cameraElevationReference="ground"),c&&n){const u=this._deferredEvents;u.move=!0,u.zoom||(u.zoom=s!==i.zoom),u.rotate||(u.rotate=a!==i.bearing),u.pitch||(u.pitch=o!==i.pitch)}return l||C0(r.transform,e),c}_updateSettings(e,n){const r=this._map;let i=!1;for(const s of SO)if(s in e&&!an(e[s],n[s])){i=!0;const o=r[`set${s[0].toUpperCase()}${s.slice(1)}`];o==null||o.call(r,e[s])}return i}_updateStyle(e,n){if(e.cursor!==n.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle!==n.mapStyle){const{mapStyle:r=E0,styleDiffing:i=!0}=e,s={diff:i};return"localIdeographFontFamily"in e&&(s.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(b0(r),s),!0}return!1}_updateStyleComponents(e,n){const r=this._map;let i=!1;return r.isStyleLoaded()&&("light"in e&&r.setLight&&!an(e.light,n.light)&&(i=!0,r.setLight(e.light)),"fog"in e&&r.setFog&&!an(e.fog,n.fog)&&(i=!0,r.setFog(e.fog)),"terrain"in e&&r.setTerrain&&!an(e.terrain,n.terrain)&&(!e.terrain||r.getSource(e.terrain.source))&&(i=!0,r.setTerrain(e.terrain))),i}_updateHandlers(e,n){var r,i;const s=this._map;let o=!1;for(const a of EO){const l=(r=e[a])!==null&&r!==void 0?r:!0,c=(i=n[a])!==null&&i!==void 0?i:!0;an(l,c)||(o=!0,l?s[a].enable(l):s[a].disable())}return o}_queryRenderedFeatures(e){const n=this._map,r=n.transform,{interactiveLayerIds:i=[]}=this.props;try{return n.transform=this._renderTransform,n.queryRenderedFeatures(e,{layers:i.filter(n.getLayer.bind(n))})}catch{return[]}finally{n.transform=r}}_updateHover(e){var n;const{props:r}=this;if(r.interactiveLayerIds&&(r.onMouseMove||r.onMouseEnter||r.onMouseLeave)){const s=e.type,o=((n=this._hoveredFeatures)===null||n===void 0?void 0:n.length)>0,a=this._queryRenderedFeatures(e.point),l=a.length>0;!l&&o&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=a,l&&!o&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=s}else this._hoveredFeatures=null}_fireEvent(e,n,r){const i=this._map,s=i.transform,o=typeof n=="string"?n:n.type;return o==="move"&&this._updateViewState(this.props,!1),o in Td&&(typeof n=="object"&&(n.viewState=x0(s)),this._map.isMoving())?(i.transform=this._renderTransform,e.call(i,n,r),i.transform=s,i):(e.call(i,n,r),i)}_onBeforeRepaint(){const e=this._map;this._internalUpdate=!0;for(const r in this._deferredEvents)this._deferredEvents[r]&&e.fire(r);this._internalUpdate=!1;const n=this._map.transform;e.transform=this._renderTransform,this._onAfterRepaint=()=>{_0(this._renderTransform,n),e.transform=n}}}ps.savedMaps=[];function TO(){let t=null;if(typeof location<"u"){const e=/access_token=([^&\/]*)/.exec(location.search);t=e&&e[1]}try{t=t||S0.MapboxAccessToken}catch{}try{t=t||S0.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return t}const kO=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function PO(t){if(!t)return null;const e=t.map,n={getMap:()=>e,getCenter:()=>t.transform.center,getZoom:()=>t.transform.zoom,getBearing:()=>t.transform.bearing,getPitch:()=>t.transform.pitch,getPadding:()=>t.transform.padding,getBounds:()=>t.transform.getBounds(),project:r=>{const i=e.transform;e.transform=t.transform;const s=e.project(r);return e.transform=i,s},unproject:r=>{const i=e.transform;e.transform=t.transform;const s=e.unproject(r);return e.transform=i,s},queryTerrainElevation:(r,i)=>{const s=e.transform;e.transform=t.transform;const o=e.queryTerrainElevation(r,i);return e.transform=s,o},queryRenderedFeatures:(r,i)=>{const s=e.transform;e.transform=t.transform;const o=e.queryRenderedFeatures(r,i);return e.transform=s,o}};for(const r of NO(e))!(r in n)&&!kO.includes(r)&&(n[r]=e[r].bind(e));return n}function NO(t){const e=new Set;let n=t;for(;n;){for(const r of Object.getOwnPropertyNames(n))r[0]!=="_"&&typeof t[r]=="function"&&r!=="fire"&&r!=="setEventedParent"&&e.add(r);n=Object.getPrototypeOf(n)}return Array.from(e)}const IO=typeof document<"u"?g.useLayoutEffect:g.useEffect,RO=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];function AO(t,e){for(const r of RO)r in e&&(t[r]=e[r]);const{RTLTextPlugin:n="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=e;n&&t.getRTLTextPluginStatus&&t.getRTLTextPluginStatus()==="unavailable"&&t.setRTLTextPlugin(n,r=>{r&&console.error(r)},!0)}const gu=g.createContext(null);function MO(t,e,n){const r=g.useContext(_O),[i,s]=g.useState(null),o=g.useRef(),{current:a}=g.useRef({mapLib:null,map:null});g.useEffect(()=>{const u=t.mapLib;let d=!0,h;return Promise.resolve(u||n).then(p=>{if(!d)return;if(!p)throw new Error("Invalid mapLib");const m="Map"in p?p:p.default;if(!m.Map)throw new Error("Invalid mapLib");if(AO(m,t),!m.supported||m.supported(t))t.reuseMaps&&(h=ps.reuse(t,o.current)),h||(h=new ps(m.Map,t,o.current)),a.map=PO(h),a.mapLib=m,s(h),r==null||r.onMapMount(a.map,t.id);else throw new Error("Map is not supported by this browser")}).catch(p=>{const{onError:m}=t;m?m({type:"error",target:null,originalEvent:null,error:p}):console.error(p)}),()=>{d=!1,h&&(r==null||r.onMapUnmount(t.id),t.reuseMaps?h.recycle():h.destroy())}},[]),IO(()=>{i&&i.setProps(t)}),g.useImperativeHandle(e,()=>a.map,[i]);const l=g.useMemo(()=>({position:"relative",width:"100%",height:"100%",...t.style}),[t.style]),c={height:"100%"};return g.createElement("div",{id:t.id,ref:o,style:l},i&&g.createElement(gu.Provider,{value:a},g.createElement("div",{"mapboxgl-children":"",style:c},t.children)))}const OO=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function gi(t,e){if(!t||!e)return;const n=t.style;for(const r in e){const i=e[r];Number.isFinite(i)&&!OO.test(r)?n[r]=`${i}px`:n[r]=i}}function LO(t,e){const{map:n,mapLib:r}=g.useContext(gu),i=g.useRef({props:t});i.current.props=t;const s=g.useMemo(()=>{let w=!1;g.Children.forEach(t.children,y=>{y&&(w=!0)});const x={...t,element:w?document.createElement("div"):null},v=new r.Marker(x);return v.setLngLat([t.longitude,t.latitude]),v.getElement().addEventListener("click",y=>{var _,C;(C=(_=i.current.props).onClick)===null||C===void 0||C.call(_,{type:"click",target:v,originalEvent:y})}),v.on("dragstart",y=>{var _,C;const b=y;b.lngLat=s.getLngLat(),(C=(_=i.current.props).onDragStart)===null||C===void 0||C.call(_,b)}),v.on("drag",y=>{var _,C;const b=y;b.lngLat=s.getLngLat(),(C=(_=i.current.props).onDrag)===null||C===void 0||C.call(_,b)}),v.on("dragend",y=>{var _,C;const b=y;b.lngLat=s.getLngLat(),(C=(_=i.current.props).onDragEnd)===null||C===void 0||C.call(_,b)}),v},[]);g.useEffect(()=>(s.addTo(n.getMap()),()=>{s.remove()}),[]);const{longitude:o,latitude:a,offset:l,style:c,draggable:u=!1,popup:d=null,rotation:h=0,rotationAlignment:p="auto",pitchAlignment:m="auto"}=t;return g.useEffect(()=>{gi(s.getElement(),c)},[c]),g.useImperativeHandle(e,()=>s,[]),(s.getLngLat().lng!==o||s.getLngLat().lat!==a)&&s.setLngLat([o,a]),l&&!xO(s.getOffset(),l)&&s.setOffset(l),s.isDraggable()!==u&&s.setDraggable(u),s.getRotation()!==h&&s.setRotation(h),s.getRotationAlignment()!==p&&s.setRotationAlignment(p),s.getPitchAlignment()!==m&&s.setPitchAlignment(m),s.getPopup()!==d&&s.setPopup(d),Ps.createPortal(t.children,s.getElement())}const DO=g.memo(g.forwardRef(LO));function P0(t){return new Set(t?t.trim().split(/\s+/):[])}function jO(t,e){const{map:n,mapLib:r}=g.useContext(gu),i=g.useMemo(()=>document.createElement("div"),[]),s=g.useRef({props:t});s.current.props=t;const o=g.useMemo(()=>{const a={...t},l=new r.Popup(a);return l.setLngLat([t.longitude,t.latitude]),l.once("open",c=>{var u,d;(d=(u=s.current.props).onOpen)===null||d===void 0||d.call(u,c)}),l},[]);if(g.useEffect(()=>{const a=l=>{var c,u;(u=(c=s.current.props).onClose)===null||u===void 0||u.call(c,l)};return o.on("close",a),o.setDOMContent(i).addTo(n.getMap()),()=>{o.off("close",a),o.isOpen()&&o.remove()}},[]),g.useEffect(()=>{gi(o.getElement(),t.style)},[t.style]),g.useImperativeHandle(e,()=>o,[]),o.isOpen()&&((o.getLngLat().lng!==t.longitude||o.getLngLat().lat!==t.latitude)&&o.setLngLat([t.longitude,t.latitude]),t.offset&&!an(o.options.offset,t.offset)&&o.setOffset(t.offset),(o.options.anchor!==t.anchor||o.options.maxWidth!==t.maxWidth)&&(o.options.anchor=t.anchor,o.setMaxWidth(t.maxWidth)),o.options.className!==t.className)){const a=P0(o.options.className),l=P0(t.className);for(const c of a)l.has(c)||o.removeClassName(c);for(const c of l)a.has(c)||o.addClassName(c);o.options.className=t.className}return Ps.createPortal(t.children,i)}const FO=g.memo(g.forwardRef(jO));function Sa(t,e,n,r){const i=g.useContext(gu),s=g.useMemo(()=>t(i),[]);return g.useEffect(()=>{const o=e,a=typeof e=="function"&&typeof n=="function"?e:null,l=typeof e=="function"?e:null,{map:c}=i;return c.hasControl(s)||(c.addControl(s,o==null?void 0:o.position),a&&a(i)),()=>{l&&l(i),c.hasControl(s)&&c.removeControl(s)}},[]),s}function VO(t){const e=Sa(({mapLib:n})=>new n.AttributionControl(t),{position:t.position});return g.useEffect(()=>{gi(e._container,t.style)},[t.style]),null}g.memo(VO);function UO(t){const e=Sa(({mapLib:n})=>new n.FullscreenControl({container:t.containerId&&document.getElementById(t.containerId)}),{position:t.position});return g.useEffect(()=>{gi(e._controlContainer,t.style)},[t.style]),null}g.memo(UO);function BO(t,e){const n=g.useRef({props:t}),r=Sa(({mapLib:i})=>{const s=new i.GeolocateControl(t),o=s._setupUI;return s._setupUI=a=>{s._container.hasChildNodes()||o(a)},s.on("geolocate",a=>{var l,c;(c=(l=n.current.props).onGeolocate)===null||c===void 0||c.call(l,a)}),s.on("error",a=>{var l,c;(c=(l=n.current.props).onError)===null||c===void 0||c.call(l,a)}),s.on("outofmaxbounds",a=>{var l,c;(c=(l=n.current.props).onOutOfMaxBounds)===null||c===void 0||c.call(l,a)}),s.on("trackuserlocationstart",a=>{var l,c;(c=(l=n.current.props).onTrackUserLocationStart)===null||c===void 0||c.call(l,a)}),s.on("trackuserlocationend",a=>{var l,c;(c=(l=n.current.props).onTrackUserLocationEnd)===null||c===void 0||c.call(l,a)}),s},{position:t.position});return n.current.props=t,g.useImperativeHandle(e,()=>r,[]),g.useEffect(()=>{gi(r._container,t.style)},[t.style]),null}g.memo(g.forwardRef(BO));function zO(t){const e=Sa(({mapLib:n})=>new n.NavigationControl(t),{position:t.position});return g.useEffect(()=>{gi(e._container,t.style)},[t.style]),null}g.memo(zO);function WO(t){const e=Sa(({mapLib:s})=>new s.ScaleControl(t),{position:t.position}),n=g.useRef(t),r=n.current;n.current=t;const{style:i}=t;return t.maxWidth!==void 0&&t.maxWidth!==r.maxWidth&&(e.options.maxWidth=t.maxWidth),t.unit!==void 0&&t.unit!==r.unit&&e.setUnit(t.unit),g.useEffect(()=>{gi(e._container,i)},[i]),null}g.memo(WO);const $O=wO(()=>import("./mapbox-gl-QskSEZy-.js").then(t=>t.m),[]),HO=g.forwardRef(function(e,n){return MO(e,n,$O)}),N0=DO,GO=FO;var I0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I=function(t,e){if(!t)throw Ms(e)},Ms=function(t){return new Error("Firebase Database ("+Cb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},KO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},bm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new qO;const h=s<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sb=function(t){const e=bb(t);return bm.encodeByteArray(e,!0)},gc=function(t){return Sb(t).replace(/\./g,"")},vc=function(t){try{return bm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t){return Eb(void 0,t)}function Eb(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!QO(n)||(t[n]=Eb(t[n],e[n]));return t}function QO(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=()=>XO().__FIREBASE_DEFAULTS__,JO=()=>{if(typeof process>"u"||typeof I0>"u")return;const t=I0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vc(t[1]);return e&&JSON.parse(e)},Sm=()=>{try{return ZO()||JO()||eL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Tb=t=>{var e,n;return(n=(e=Sm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tL=t=>{const e=Tb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kb=()=>{var t;return(t=Sm())===null||t===void 0?void 0:t.config},Pb=t=>{var e;return(e=Sm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gc(JSON.stringify(n)),gc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Em(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function rL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Nb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sL(){const t=Ye();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ib(){return Cb.NODE_ADMIN===!0}function oL(){try{return typeof indexedDB=="object"}catch{return!1}}function aL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="FirebaseError";class Nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lL,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ta.prototype.create)}}class Ta{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?cL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Nr(i,a,r)}}function cL(t,e){return t.replace(uL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const uL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t){return JSON.parse(t)}function Ie(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=ia(vc(s[0])||""),n=ia(vc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},dL=function(t){const e=Rb(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},hL=function(t){const e=Rb(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ms(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function uf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yc(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function wc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(R0(s)&&R0(o)){if(!wc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function R0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function po(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function mo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function pL(t,e){const n=new mL(t,e);return n.subscribe.bind(n)}class mL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kd),i.error===void 0&&(i.error=kd),i.complete===void 0&&(i.complete=kd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kd(){}function vu(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,I(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yu=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class si{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ea;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_L(e))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zr){return this.instances.has(e)}getOptions(e=zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zr){return this.component?this.component.multipleInstances?e:zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wL(t){return t===zr?void 0:t}function _L(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const CL={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},bL=te.INFO,SL={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},EL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=SL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tm{constructor(e){this.name=e,this._logLevel=bL,this._logHandler=EL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const TL=(t,e)=>e.some(n=>t instanceof n);let A0,M0;function kL(){return A0||(A0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PL(){return M0||(M0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ab=new WeakMap,df=new WeakMap,Mb=new WeakMap,Pd=new WeakMap,km=new WeakMap;function NL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(lr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ab.set(n,t)}).catch(()=>{}),km.set(e,t),e}function IL(t){if(df.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});df.set(t,e)}let hf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return df.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Mb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RL(t){hf=t(hf)}function AL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Nd(this),e,...n);return Mb.set(r,e.sort?e.sort():[e]),lr(r)}:PL().includes(t)?function(...e){return t.apply(Nd(this),e),lr(Ab.get(this))}:function(...e){return lr(t.apply(Nd(this),e))}}function ML(t){return typeof t=="function"?AL(t):(t instanceof IDBTransaction&&IL(t),TL(t,kL())?new Proxy(t,hf):t)}function lr(t){if(t instanceof IDBRequest)return NL(t);if(Pd.has(t))return Pd.get(t);const e=ML(t);return e!==t&&(Pd.set(t,e),km.set(e,t)),e}const Nd=t=>km.get(t);function OL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=lr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(lr(o.result),l.oldVersion,l.newVersion,lr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const LL=["get","getKey","getAll","getAllKeys","count"],DL=["put","add","delete","clear"],Id=new Map;function O0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Id.get(e))return Id.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=DL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Id.set(e,s),s}RL(t=>({...t,get:(e,n,r)=>O0(e,n)||t.get(e,n,r),has:(e,n)=>!!O0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ff="@firebase/app",L0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=new Tm("@firebase/app"),VL="@firebase/app-compat",UL="@firebase/analytics-compat",BL="@firebase/analytics",zL="@firebase/app-check-compat",WL="@firebase/app-check",$L="@firebase/auth",HL="@firebase/auth-compat",GL="@firebase/database",KL="@firebase/data-connect",qL="@firebase/database-compat",YL="@firebase/functions",QL="@firebase/functions-compat",XL="@firebase/installations",ZL="@firebase/installations-compat",JL="@firebase/messaging",eD="@firebase/messaging-compat",tD="@firebase/performance",nD="@firebase/performance-compat",rD="@firebase/remote-config",iD="@firebase/remote-config-compat",sD="@firebase/storage",oD="@firebase/storage-compat",aD="@firebase/firestore",lD="@firebase/vertexai-preview",cD="@firebase/firestore-compat",uD="firebase",dD="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="[DEFAULT]",hD={[ff]:"fire-core",[VL]:"fire-core-compat",[BL]:"fire-analytics",[UL]:"fire-analytics-compat",[WL]:"fire-app-check",[zL]:"fire-app-check-compat",[$L]:"fire-auth",[HL]:"fire-auth-compat",[GL]:"fire-rtdb",[KL]:"fire-data-connect",[qL]:"fire-rtdb-compat",[YL]:"fire-fn",[QL]:"fire-fn-compat",[XL]:"fire-iid",[ZL]:"fire-iid-compat",[JL]:"fire-fcm",[eD]:"fire-fcm-compat",[tD]:"fire-perf",[nD]:"fire-perf-compat",[rD]:"fire-rc",[iD]:"fire-rc-compat",[sD]:"fire-gcs",[oD]:"fire-gcs-compat",[aD]:"fire-fst",[cD]:"fire-fst-compat",[lD]:"fire-vertex","fire-js":"fire-js",[uD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new Map,fD=new Map,mf=new Map;function D0(t,e){try{t.container.addComponent(e)}catch(n){kn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gs(t){const e=t.name;if(mf.has(e))return kn.debug(`There were multiple attempts to register component ${e}.`),!1;mf.set(e,t);for(const n of _c.values())D0(n,t);for(const n of fD.values())D0(n,t);return!0}function Pm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function At(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new Ta("app","Firebase",pD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=dD;function Ob(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw cr.create("bad-app-name",{appName:String(i)});if(n||(n=kb()),!n)throw cr.create("no-options");const s=_c.get(i);if(s){if(wc(n,s.options)&&wc(r,s.config))return s;throw cr.create("duplicate-app",{appName:i})}const o=new xL(i);for(const l of mf.values())o.addComponent(l);const a=new mD(n,r,o);return _c.set(i,a),a}function Lb(t=pf){const e=_c.get(t);if(!e&&t===pf&&kb())return Ob();if(!e)throw cr.create("no-app",{appName:t});return e}function ur(t,e,n){var r;let i=(r=hD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kn.warn(a.join(" "));return}gs(new si(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="firebase-heartbeat-database",vD=1,sa="firebase-heartbeat-store";let Rd=null;function Db(){return Rd||(Rd=OL(gD,vD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sa)}catch(n){console.warn(n)}}}}).catch(t=>{throw cr.create("idb-open",{originalErrorMessage:t.message})})),Rd}async function yD(t){try{const n=(await Db()).transaction(sa),r=await n.objectStore(sa).get(jb(t));return await n.done,r}catch(e){if(e instanceof Nr)kn.warn(e.message);else{const n=cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});kn.warn(n.message)}}}async function j0(t,e){try{const r=(await Db()).transaction(sa,"readwrite");await r.objectStore(sa).put(e,jb(t)),await r.done}catch(n){if(n instanceof Nr)kn.warn(n.message);else{const r=cr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});kn.warn(r.message)}}}function jb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=1024,_D=30*24*60*60*1e3;class xD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=F0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=_D}),this._storage.overwrite(this._heartbeatsCache))}catch(r){kn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=F0(),{heartbeatsToSend:r,unsentEntries:i}=CD(this._heartbeatsCache.heartbeats),s=gc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return kn.warn(n),""}}}function F0(){return new Date().toISOString().substring(0,10)}function CD(t,e=wD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),V0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),V0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oL()?aL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return j0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return j0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function V0(t){return gc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){gs(new si("platform-logger",e=>new jL(e),"PRIVATE")),gs(new si("heartbeat",e=>new xD(e),"PRIVATE")),ur(ff,L0,t),ur(ff,L0,"esm2017"),ur("fire-js","")}SD("");var ED="firebase",TD="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(ED,TD,"app");var Gt=function(){return Gt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Gt.apply(this,arguments)};function ka(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kD(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Fb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PD=Fb,Vb=new Ta("auth","Firebase",Fb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Tm("@firebase/auth");function ND(t,...e){xc.logLevel<=te.WARN&&xc.warn(`Auth (${Ls}): ${t}`,...e)}function Il(t,...e){xc.logLevel<=te.ERROR&&xc.error(`Auth (${Ls}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t,...e){throw Im(t,...e)}function Dt(t,...e){return Im(t,...e)}function Nm(t,e,n){const r=Object.assign(Object.assign({},PD()),{[e]:n});return new Ta("auth","Firebase",r).create(e,{appName:t.name})}function xn(t){return Nm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ID(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Et(t,"argument-error"),Nm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Im(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Vb.create(t,...e)}function F(t,e,...n){if(!t)throw Im(e,...n)}function hn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Il(e),new Error(e)}function Pn(t,e){t||hn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function RD(){return U0()==="http:"||U0()==="https:"}function U0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RD()||iL()||"connection"in navigator)?navigator.onLine:!0}function MD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pn(n>e,"Short delay should be less than long delay!"),this.isMobile=Em()||Nb()}get(){return AD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t,e){Pn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new Pa(3e4,6e4);function Ir(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function On(t,e,n,r,i={}){return Bb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Os(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return rL()||(c.referrerPolicy="no-referrer"),Ub.fetch()(zb(t,t.config.apiHost,n,a),c)})}async function Bb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},OD),e);try{const i=new jD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw sl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw sl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw sl(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Nm(t,u,c);Et(t,u)}}catch(i){if(i instanceof Nr)throw i;Et(t,"network-request-failed",{message:String(i)})}}async function Na(t,e,n,r,i={}){const s=await On(t,e,n,r,i);return"mfaPendingCredential"in s&&Et(t,"multi-factor-auth-required",{_serverResponse:s}),s}function zb(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Rm(t.config,i):`${t.config.apiScheme}://${i}`}function DD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dt(this.auth,"network-request-failed")),LD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Dt(t,e,r);return i.customData._tokenResponse=n,i}function B0(t){return t!==void 0&&t.enterprise!==void 0}class FD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return DD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function VD(t,e){return On(t,"GET","/v2/recaptchaConfig",Ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(t,e){return On(t,"POST","/v1/accounts:delete",e)}async function Wb(t,e){return On(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BD(t,e=!1){const n=mt(t),r=await n.getIdToken(e),i=Am(r);F(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Po(Ad(i.auth_time)),issuedAtTime:Po(Ad(i.iat)),expirationTime:Po(Ad(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ad(t){return Number(t)*1e3}function Am(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Il("JWT malformed, contained fewer than 3 sections"),null;try{const i=vc(n);return i?JSON.parse(i):(Il("Failed to decode base64 JWT payload"),null)}catch(i){return Il("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function z0(t){const e=Am(t);return F(e,"internal-error"),F(typeof e.exp<"u","internal-error"),F(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nr&&zD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await vs(t,Wb(n,{idToken:r}));F(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?$b(s.providerUserInfo):[],a=HD(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vf(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function $D(t){const e=mt(t);await Cc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $b(t){return t.map(e=>{var{providerId:n}=e,r=ka(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(t,e){const n=await Bb(t,{},async()=>{const r=Os({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=zb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ub.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KD(t,e){return On(t,"POST","/v2/accounts:revokeToken",Ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){F(e.idToken,"internal-error"),F(typeof e.idToken<"u","internal-error"),F(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){F(e.length!==0,"internal-error");const n=z0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(F(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await GD(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Yi;return r&&(F(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(F(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(F(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yi,this.toJSON())}_performRefresh(){return hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t,e){F(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ka(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await vs(this,this.stsTokenManager.getToken(this.auth,e));return F(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BD(this,e)}reload(){return $D(this)}_assign(e){this!==e&&(F(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(At(this.auth.app))return Promise.reject(xn(this.auth));const e=await this.getIdToken();return await vs(this,UD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:C,isAnonymous:b,providerData:S,stsTokenManager:k}=n;F(_&&k,e,"internal-error");const T=Yi.fromJSON(this.name,k);F(typeof _=="string",e,"internal-error"),jn(d,e.name),jn(h,e.name),F(typeof C=="boolean",e,"internal-error"),F(typeof b=="boolean",e,"internal-error"),jn(p,e.name),jn(m,e.name),jn(w,e.name),jn(x,e.name),jn(v,e.name),jn(y,e.name);const L=new fn({uid:_,auth:e,email:h,emailVerified:C,displayName:d,isAnonymous:b,photoURL:m,phoneNumber:p,tenantId:w,stsTokenManager:T,createdAt:v,lastLoginAt:y});return S&&Array.isArray(S)&&(L.providerData=S.map(A=>Object.assign({},A))),x&&(L._redirectEventId=x),L}static async _fromIdTokenResponse(e,n,r=!1){const i=new Yi;i.updateFromServerResponse(n);const s=new fn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Cc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];F(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?$b(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Yi;a.updateFromIdToken(r);const l=new fn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new vf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=new Map;function pn(t){Pn(t instanceof Function,"Expected a class definition");let e=W0.get(t);return e?(Pn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,W0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Hb.type="NONE";const $0=Hb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t,e,n){return`firebase:${t}:${e}:${n}`}class Qi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Rl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Rl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qi(pn($0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||pn($0);const o=Rl(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=fn._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Qi(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Qi(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xb(e))return"Blackberry";if(Zb(e))return"Webos";if(Kb(e))return"Safari";if((e.includes("chrome/")||qb(e))&&!e.includes("edge/"))return"Chrome";if(Qb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Gb(t=Ye()){return/firefox\//i.test(t)}function Kb(t=Ye()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qb(t=Ye()){return/crios\//i.test(t)}function Yb(t=Ye()){return/iemobile/i.test(t)}function Qb(t=Ye()){return/android/i.test(t)}function Xb(t=Ye()){return/blackberry/i.test(t)}function Zb(t=Ye()){return/webos/i.test(t)}function Mm(t=Ye()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qD(t=Ye()){var e;return Mm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YD(){return sL()&&document.documentMode===10}function Jb(t=Ye()){return Mm(t)||Qb(t)||Zb(t)||Xb(t)||/windows phone/i.test(t)||Yb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t,e=[]){let n;switch(t){case"Browser":n=H0(Ye());break;case"Worker":n=`${H0(Ye())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ls}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(t,e={}){return On(t,"GET","/v2/passwordPolicy",Ir(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=6;class JD{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ZD,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G0(this),this.idTokenSubscription=new G0(this),this.beforeStateQueue=new QD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Qi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wb(this,{idToken:e}),r=await fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(At(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return F(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(At(this.app))return Promise.reject(xn(this));const n=e?mt(e):null;return n&&F(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&F(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return At(this.app)?Promise.reject(xn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return At(this.app)?Promise.reject(xn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XD(this),n=new JD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ta("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pn(e)||this._popupRedirectResolver;F(n,this,"argument-error"),this.redirectPersistenceManager=await Qi.create(this,[pn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(F(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ND(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Rr(t){return mt(t)}class G0{constructor(e){this.auth=e,this.observer=null,this.addObserver=pL(n=>this.observer=n)}get next(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tj(t){wu=t}function tS(t){return wu.loadJS(t)}function nj(){return wu.recaptchaEnterpriseScript}function rj(){return wu.gapiScript}function ij(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const sj="recaptcha-enterprise",oj="NO_RECAPTCHA";class aj{constructor(e){this.type=sj,this.auth=Rr(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{VD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new FD(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;B0(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(oj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&B0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=nj();l.length!==0&&(l+=a),tS(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function K0(t,e,n,r=!1){const i=new aj(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function yf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await K0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await K0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t,e){const n=Pm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(wc(s,e??{}))return i;Et(i,"already-initialized")}return n.initialize({options:e})}function cj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function uj(t,e,n){const r=Rr(t);F(r._canInitEmulator,r,"emulator-config-failed"),F(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=nS(e),{host:o,port:a}=dj(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),hj()}function nS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dj(t){const e=nS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:q0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:q0(o)}}}function q0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hn("not implemented")}_getIdTokenResponse(e){return hn("not implemented")}_linkToIdToken(e,n){return hn("not implemented")}_getReauthenticationResolver(e){return hn("not implemented")}}async function fj(t,e){return On(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pj(t,e){return Na(t,"POST","/v1/accounts:signInWithPassword",Ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(t,e){return Na(t,"POST","/v1/accounts:signInWithEmailLink",Ir(t,e))}async function gj(t,e){return Na(t,"POST","/v1/accounts:signInWithEmailLink",Ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Om{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new oa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new oa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yf(e,n,"signInWithPassword",pj);case"emailLink":return mj(e,{email:this._email,oobCode:this._password});default:Et(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yf(e,r,"signUpPassword",fj);case"emailLink":return gj(e,{idToken:n,email:this._email,oobCode:this._password});default:Et(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xi(t,e){return Na(t,"POST","/v1/accounts:signInWithIdp",Ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj="http://localhost";class Nn extends Om{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Nn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Et("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ka(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Nn(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Xi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xi(e,n)}buildRequest(){const e={requestUri:vj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Os(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wj(t){const e=po(mo(t)).link,n=e?po(mo(e)).deep_link_id:null,r=po(mo(t)).deep_link_id;return(r?po(mo(r)).link:null)||r||n||e||t}class Lm{constructor(e){var n,r,i,s,o,a;const l=po(mo(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=yj((i=l.mode)!==null&&i!==void 0?i:null);F(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=wj(e);try{return new Lm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.providerId=Ds.PROVIDER_ID}static credential(e,n){return oa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Lm.parseLink(n);return F(r,"argument-error"),oa._fromEmailAndCode(e,r.code,r.tenantId)}}Ds.PROVIDER_ID="password";Ds.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ds.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Dm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class No extends js{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return F("providerId"in n&&"signInMethod"in n,"argument-error"),Nn._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return F(e.idToken||e.accessToken,"argument-error"),Nn._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return No.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return No.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new No(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn extends js{constructor(){super("facebook.com")}static credential(e){return Nn._fromParams({providerId:Kn.PROVIDER_ID,signInMethod:Kn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kn.credentialFromTaggedObject(e)}static credentialFromError(e){return Kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kn.credential(e.oauthAccessToken)}catch{return null}}}Kn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln extends js{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Nn._fromParams({providerId:ln.PROVIDER_ID,signInMethod:ln.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ln.credentialFromTaggedObject(e)}static credentialFromError(e){return ln.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ln.credential(n,r)}catch{return null}}}ln.GOOGLE_SIGN_IN_METHOD="google.com";ln.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn extends js{constructor(){super("github.com")}static credential(e){return Nn._fromParams({providerId:qn.PROVIDER_ID,signInMethod:qn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qn.credentialFromTaggedObject(e)}static credentialFromError(e){return qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qn.credential(e.oauthAccessToken)}catch{return null}}}qn.GITHUB_SIGN_IN_METHOD="github.com";qn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn extends js{constructor(){super("twitter.com")}static credential(e,n){return Nn._fromParams({providerId:Yn.PROVIDER_ID,signInMethod:Yn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yn.credentialFromTaggedObject(e)}static credentialFromError(e){return Yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Yn.credential(n,r)}catch{return null}}}Yn.TWITTER_SIGN_IN_METHOD="twitter.com";Yn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(t,e){return Na(t,"POST","/v1/accounts:signUp",Ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await fn._fromIdTokenResponse(e,r,i),o=Y0(r);return new oi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Y0(r);return new oi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Y0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends Nr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new bc(e,n,r,i)}}function rS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bc._fromErrorAndOperation(t,s,e,r):s})}async function xj(t,e,n=!1){const r=await vs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cj(t,e,n=!1){const{auth:r}=t;if(At(r.app))return Promise.reject(xn(r));const i="reauthenticate";try{const s=await vs(t,rS(r,i,e,t),n);F(s.idToken,r,"internal-error");const o=Am(s.idToken);F(o,r,"internal-error");const{sub:a}=o;return F(t.uid===a,r,"user-mismatch"),oi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Et(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iS(t,e,n=!1){if(At(t.app))return Promise.reject(xn(t));const r="signIn",i=await rS(t,r,e),s=await oi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function bj(t,e){return iS(Rr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sS(t){const e=Rr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Sj(t,e,n){if(At(t.app))return Promise.reject(xn(t));const r=Rr(t),o=await yf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_j).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&sS(t),l}),a=await oi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Ej(t,e,n){return At(t.app)?Promise.reject(xn(t)):bj(mt(t),Ds.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(t,e){return On(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kj(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=mt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await vs(r,Tj(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Pj(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function Nj(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}const Sc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sc,"1"),this.storage.removeItem(Sc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=1e3,Rj=10;class aS extends oS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);YD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Rj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Ij)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}aS.type="LOCAL";const Aj=aS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS extends oS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lS.type="SESSION";const cS=lS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new _u(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await Mj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_u.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=jm("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return window}function Lj(t){Xt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(){return typeof Xt().WorkerGlobalScope<"u"&&typeof Xt().importScripts=="function"}async function Dj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Fj(){return uS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="firebaseLocalStorageDb",Vj=1,Ec="firebaseLocalStorage",hS="fbase_key";class Ia{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xu(t,e){return t.transaction([Ec],e?"readwrite":"readonly").objectStore(Ec)}function Uj(){const t=indexedDB.deleteDatabase(dS);return new Ia(t).toPromise()}function wf(){const t=indexedDB.open(dS,Vj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ec,{keyPath:hS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ec)?e(r):(r.close(),await Uj(),e(await wf()))})})}async function Q0(t,e,n){const r=xu(t,!0).put({[hS]:e,value:n});return new Ia(r).toPromise()}async function Bj(t,e){const n=xu(t,!1).get(e),r=await new Ia(n).toPromise();return r===void 0?null:r.value}function X0(t,e){const n=xu(t,!0).delete(e);return new Ia(n).toPromise()}const zj=800,Wj=3;class fS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Wj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_u._getInstance(Fj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Dj(),!this.activeServiceWorker)return;this.sender=new Oj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wf();return await Q0(e,Sc,"1"),await X0(e,Sc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Q0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Bj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>X0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=xu(i,!1).getAll();return new Ia(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fS.type="LOCAL";const $j=fS;new Pa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t,e){return e?pn(e):(F(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends Om{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Hj(t){return iS(t.auth,new Fm(t),t.bypassAuthState)}function Gj(t){const{auth:e,user:n}=t;return F(n,e,"internal-error"),Cj(n,new Fm(t),t.bypassAuthState)}async function Kj(t){const{auth:e,user:n}=t;return F(n,e,"internal-error"),xj(n,new Fm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hj;case"linkViaPopup":case"linkViaRedirect":return Kj;case"reauthViaPopup":case"reauthViaRedirect":return Gj;default:Et(this.auth,"internal-error")}}resolve(e){Pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=new Pa(2e3,1e4);async function Z0(t,e,n){if(At(t.app))return Promise.reject(Dt(t,"operation-not-supported-in-this-environment"));const r=Rr(t);ID(t,e,Dm);const i=pS(r,n);return new qr(r,"signInViaPopup",e,i).executeNotNull()}class qr extends mS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,qr.currentPopupAction&&qr.currentPopupAction.cancel(),qr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return F(e,this.auth,"internal-error"),e}async onExecution(){Pn(this.filter.length===1,"Popup operations only handle one event");const e=jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qj.get())};e()}}qr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj="pendingRedirect",Al=new Map;class Qj extends mS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Al.get(this.auth._key());if(!e){try{const r=await Xj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Al.set(this.auth._key(),e)}return this.bypassAuthState||Al.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Xj(t,e){const n=e4(e),r=Jj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Zj(t,e){Al.set(t._key(),e)}function Jj(t){return pn(t._redirectPersistence)}function e4(t){return Rl(Yj,t.config.apiKey,t.name)}async function t4(t,e,n=!1){if(At(t.app))return Promise.reject(xn(t));const r=Rr(t),i=pS(r,e),o=await new Qj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=10*60*1e3;class r4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n4&&this.cachedEventUids.clear(),this.cachedEventUids.has(J0(e))}saveEventToCache(e){this.cachedEventUids.add(J0(e)),this.lastProcessedEventTime=Date.now()}}function J0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function i4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(t,e={}){return On(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a4=/^https?/;async function l4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s4(t);for(const n of e)try{if(c4(n))return}catch{}Et(t,"unauthorized-domain")}function c4(t){const e=gf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!a4.test(n))return!1;if(o4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=new Pa(3e4,6e4);function ew(){const t=Xt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function d4(t){return new Promise((e,n)=>{var r,i,s;function o(){ew(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ew(),n(Dt(t,"network-request-failed"))},timeout:u4.get()})}if(!((i=(r=Xt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Xt().gapi)===null||s===void 0)&&s.load)o();else{const a=ij("iframefcb");return Xt()[a]=()=>{gapi.load?o():n(Dt(t,"network-request-failed"))},tS(`${rj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ml=null,e})}let Ml=null;function h4(t){return Ml=Ml||d4(t),Ml}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=new Pa(5e3,15e3),p4="__/auth/iframe",m4="emulator/auth/iframe",g4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y4(t){const e=t.config;F(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Rm(e,m4):`https://${t.config.authDomain}/${p4}`,r={apiKey:e.apiKey,appName:t.name,v:Ls},i=v4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Os(r).slice(1)}`}async function w4(t){const e=await h4(t),n=Xt().gapi;return F(n,t,"internal-error"),e.open({where:document.body,url:y4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g4,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Dt(t,"network-request-failed"),a=Xt().setTimeout(()=>{s(o)},f4.get());function l(){Xt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x4=500,C4=600,b4="_blank",S4="http://localhost";class tw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E4(t,e,n,r=x4,i=C4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},_4),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ye().toLowerCase();n&&(a=qb(c)?b4:n),Gb(c)&&(e=e||S4,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(qD(c)&&a!=="_self")return T4(e||"",a),new tw(null);const d=window.open(e||"",a,u);F(d,t,"popup-blocked");try{d.focus()}catch{}return new tw(d)}function T4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4="__/auth/handler",P4="emulator/auth/handler",N4=encodeURIComponent("fac");async function nw(t,e,n,r,i,s){F(t.config.authDomain,t,"auth-domain-config-required"),F(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ls,eventId:i};if(e instanceof Dm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",uf(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof js){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${N4}=${encodeURIComponent(l)}`:"";return`${I4(t)}?${Os(a).slice(1)}${c}`}function I4({config:t}){return t.emulator?Rm(t,P4):`https://${t.authDomain}/${k4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="webStorageSupport";class R4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cS,this._completeRedirectFn=t4,this._overrideRedirectResult=Zj}async _openPopup(e,n,r,i){var s;Pn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await nw(e,n,r,gf(),i);return E4(e,o,jm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await nw(e,n,r,gf(),i);return Lj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Pn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await w4(e),r=new r4(e);return n.register("authEvent",i=>(F(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Md,{type:Md},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Md];o!==void 0&&n(!!o),Et(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Jb()||Kb()||Mm()}}const A4=R4;var rw="@firebase/auth",iw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L4(t){gs(new si("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;F(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eS(t)},c=new ej(r,i,s,l);return cj(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gs(new si("auth-internal",e=>{const n=Rr(e.getProvider("auth").getImmediate());return(r=>new M4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(rw,iw,O4(t)),ur(rw,iw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=5*60,j4=Pb("authIdTokenMaxAge")||D4;let sw=null;const F4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>j4)return;const i=n==null?void 0:n.token;sw!==i&&(sw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _f(t=Lb()){const e=Pm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lj(t,{popupRedirectResolver:A4,persistence:[$j,Aj,cS]}),r=Pb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=F4(s.toString());Nj(n,o,()=>o(n.currentUser)),Pj(n,a=>o(a))}}const i=Tb("auth");return i&&uj(n,`http://${i}`),n}function V4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Dt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",V4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L4("Browser");var ow={};const aw="@firebase/database",lw="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vS="";function U4(t){vS=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ie(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ia(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return en(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new B4(e)}}catch{}return new z4},Yr=yS("localStorage"),W4=yS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Tm("@firebase/database"),$4=function(){let t=1;return function(){return t++}}(),wS=function(t){const e=vL(t),n=new fL;n.update(e);const r=n.digest();return bm.encodeByteArray(r)},Ra=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ra.apply(null,r):typeof r=="object"?e+=Ie(r):e+=r,e+=" "}return e};let Io=null,cw=!0;const H4=function(t,e){I(!e,"Can't turn on custom loggers persistently."),Zi.logLevel=te.VERBOSE,Io=Zi.log.bind(Zi)},Oe=function(...t){if(cw===!0&&(cw=!1,Io===null&&W4.get("logging_enabled")===!0&&H4()),Io){const e=Ra.apply(null,t);Io(e)}},Aa=function(t){return function(...e){Oe(t,...e)}},xf=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ra(...t);Zi.error(e)},In=function(...t){const e=`FIREBASE FATAL ERROR: ${Ra(...t)}`;throw Zi.error(e),new Error(e)},qe=function(...t){const e="FIREBASE WARNING: "+Ra(...t);Zi.warn(e)},G4=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&qe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Vm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},K4=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ys="[MIN_NAME]",ai="[MAX_NAME]",vi=function(t,e){if(t===e)return 0;if(t===ys||e===ai)return-1;if(e===ys||t===ai)return 1;{const n=uw(t),r=uw(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},q4=function(t,e){return t===e?0:t<e?-1:1},to=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ie(e))},Um=function(t){if(typeof t!="object"||t===null)return Ie(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ie(e[r]),n+=":",n+=Um(t[e[r]]);return n+="}",n},_S=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function je(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const xS=function(t){I(!Vm(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},Y4=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Q4=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function X4(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Z4=new RegExp("^-?(0*)\\d{1,10}$"),J4=-2147483648,e3=2147483647,uw=function(t){if(Z4.test(t)){const e=Number(t);if(e>=J4&&e<=e3)return e}return null},Fs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw qe("Exception was thrown by user callback.",n),e},Math.floor(0))}},t3=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ro=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){qe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Oe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qe(e)}}class Ol{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ol.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="5",CS="v",bS="s",SS="r",ES="f",TS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kS="ls",PS="p",Cf="ac",NS="websocket",IS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Yr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function i3(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function AS(t,e,n){I(typeof e=="string","typeof type must == string"),I(typeof n=="object","typeof params must == object");let r;if(e===NS)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===IS)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);i3(t)&&(n.ns=t.namespace);const i=[];return je(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this.counters_={}}incrementCounter(e,n=1){en(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return YO(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od={},Ld={};function zm(t){const e=t.toString();return Od[e]||(Od[e]=new s3),Od[e]}function o3(t,e){const n=t.toString();return Ld[n]||(Ld[n]=e()),Ld[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Fs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="start",l3="close",c3="pLPCommand",u3="pRTLPCB",MS="id",OS="pw",LS="ser",d3="cb",h3="seg",f3="ts",p3="d",m3="dframe",DS=1870,jS=30,g3=DS-jS,v3=25e3,y3=3e4;class zi{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Aa(e),this.stats_=zm(n),this.urlFn=l=>(this.appCheckToken&&(l[Cf]=this.appCheckToken),AS(n,IS,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new a3(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(y3)),K4(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Wm((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===dw)this.id=a,this.password=l;else if(o===l3)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[dw]="t",r[LS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[d3]=this.scriptTagHolder.uniqueCallbackIdentifier),r[CS]=Bm,this.transportSessionId&&(r[bS]=this.transportSessionId),this.lastSessionId&&(r[kS]=this.lastSessionId),this.applicationId&&(r[PS]=this.applicationId),this.appCheckToken&&(r[Cf]=this.appCheckToken),typeof location<"u"&&location.hostname&&TS.test(location.hostname)&&(r[SS]=ES);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zi.forceAllow_=!0}static forceDisallow(){zi.forceDisallow_=!0}static isAvailable(){return zi.forceAllow_?!0:!zi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Y4()&&!Q4()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ie(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Sb(n),i=_S(r,g3);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[m3]="t",r[MS]=e,r[OS]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ie(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Wm{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=$4(),window[c3+this.uniqueCallbackIdentifier]=e,window[u3+this.uniqueCallbackIdentifier]=n,this.myIFrame=Wm.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Oe("frame writing exception"),a.stack&&Oe(a.stack),Oe(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Oe("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[MS]=this.myID,e[OS]=this.myPW,e[LS]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+jS+r.length<=DS;){const o=this.pendingSegs.shift();r=r+"&"+h3+i+"="+o.seg+"&"+f3+i+"="+o.ts+"&"+p3+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(v3)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Oe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=16384,_3=45e3;let Tc=null;typeof MozWebSocket<"u"?Tc=MozWebSocket:typeof WebSocket<"u"&&(Tc=WebSocket);class Rt{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Aa(this.connId),this.stats_=zm(n),this.connURL=Rt.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[CS]=Bm,typeof location<"u"&&location.hostname&&TS.test(location.hostname)&&(o[SS]=ES),n&&(o[bS]=n),r&&(o[kS]=r),i&&(o[Cf]=i),s&&(o[PS]=s),AS(e,NS,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yr.set("previous_websocket_failure",!0);try{let r;Ib(),this.mySock=new Tc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Rt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Tc!==null&&!Rt.forceDisallow_}static previouslyFailed(){return Yr.isInMemoryStorage||Yr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Yr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ia(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(I(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ie(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=_S(n,w3);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(_3))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Rt.responsesRequiredToBeHealthy=2;Rt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[zi,Rt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Rt&&Rt.isAvailable();let r=n&&!Rt.previouslyFailed();if(e.webSocketOnly&&(n||qe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Rt];else{const i=this.transports_=[];for(const s of aa.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);aa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}aa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=6e4,C3=5e3,b3=10*1024,S3=100*1024,Dd="t",hw="d",E3="s",fw="r",T3="e",pw="o",mw="a",gw="n",vw="p",k3="h";class P3{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Aa("c:"+this.id+":"),this.transportManager_=new aa(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ro(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>S3?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>b3?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Dd in e){const n=e[Dd];n===mw?this.upgradeIfSecondaryHealthy_():n===fw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===pw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=to("t",e),r=to("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:vw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:mw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:gw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=to("t",e),r=to("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=to(Dd,e);if(hw in e){const r=e[hw];if(n===k3){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===gw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===E3?this.onConnectionShutdown_(r):n===fw?this.onReset_(r):n===T3?xf("Server Error: "+r):n===pw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Bm!==r&&qe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ro(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(x3))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ro(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(C3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:vw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.allowedEvents_=e,this.listeners_={},I(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){I(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends VS{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Em()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new kc}getInitialEvent(e){return I(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=32,ww=768;class re{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function J(){return new re("")}function W(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function yr(t){return t.pieces_.length-t.pieceNum_}function se(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new re(t.pieces_,e)}function $m(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function N3(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function la(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function US(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new re(e,0)}function ye(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof re)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new re(n,0)}function H(t){return t.pieceNum_>=t.pieces_.length}function et(t,e){const n=W(t),r=W(e);if(n===null)return e;if(n===r)return et(se(t),se(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function I3(t,e){const n=la(t,0),r=la(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=vi(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Hm(t,e){if(yr(t)!==yr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function xt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(yr(t)>yr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class R3{constructor(e,n){this.errorPrefix_=n,this.parts_=la(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=yu(this.parts_[r]);BS(this)}}function A3(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=yu(e),BS(t)}function M3(t){const e=t.parts_.pop();t.byteLength_-=yu(e),t.parts_.length>0&&(t.byteLength_-=1)}function BS(t){if(t.byteLength_>ww)throw new Error(t.errorPrefix_+"has a key path longer than "+ww+" bytes ("+t.byteLength_+").");if(t.parts_.length>yw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+yw+") or object contains a cycle "+Wr(t))}function Wr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends VS{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Gm}getInitialEvent(e){return I(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=1e3,O3=60*5*1e3,_w=30*1e3,L3=1.3,D3=3e4,j3="server_kill",xw=3;class Cn extends FS{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Cn.nextPersistentConnectionId_++,this.log_=Aa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=no,this.maxReconnectDelay_=O3,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Ib())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&kc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Ie(s)),I(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Ea,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),I(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),I(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Cn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&en(e,"w")){const r=ms(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();qe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||hL(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=_w)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=dL(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),I(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ie(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):xf("Unrecognized action received from server: "+Ie(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){I(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=no,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=no,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>D3&&(this.reconnectDelay_=no),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*L3)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Cn.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){I(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Oe("getToken() completed but was canceled"):(Oe("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new P3(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{qe(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(j3)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&qe(d),l())}}}interrupt(e){Oe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Oe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],uf(this.interruptReasons_)&&(this.reconnectDelay_=no,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Um(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new re(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Oe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=xw&&(this.reconnectDelay_=_w,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Oe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=xw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+vS.replace(/\./g,"-")]=1,Em()?e["framework.cordova"]=1:Nb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=kc.getInstance().currentlyOnline();return uf(this.interruptReasons_)&&e}}Cn.nextPersistentConnectionId_=0;Cn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new $(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new $(ys,e),i=new $(ys,n);return this.compare(r,i)!==0}minPost(){return $.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol;class zS extends Cu{static get __EMPTY_NODE(){return ol}static set __EMPTY_NODE(e){ol=e}compare(e,n){return vi(e.name,n.name)}isDefinedOn(e){throw Ms("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return $.MIN}maxPost(){return new $(ai,ol)}makePost(e,n){return I(typeof e=="string","KeyIndex indexValue must always be a string."),new $(e,ol)}toString(){return".key"}}const Ji=new zS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Pe{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pe.RED,this.left=i??tt.EMPTY_NODE,this.right=s??tt.EMPTY_NODE}copy(e,n,r,i,s){return new Pe(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return tt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return tt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Pe.RED=!0;Pe.BLACK=!1;class F3{copy(e,n,r,i,s){return this}insert(e,n,r){return new Pe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class tt{constructor(e,n=tt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new tt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Pe.BLACK,null,null))}remove(e){return new tt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pe.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new al(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new al(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new al(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new al(this.root_,null,this.comparator_,!0,e)}}tt.EMPTY_NODE=new F3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t,e){return vi(t.name,e.name)}function Km(t,e){return vi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf;function U3(t){bf=t}const WS=function(t){return typeof t=="number"?"number:"+xS(t):"string:"+t},$S=function(t){if(t.isLeafNode()){const e=t.val();I(typeof e=="string"||typeof e=="number"||typeof e=="object"&&en(e,".sv"),"Priority must be a string or number.")}else I(t===bf||t.isEmpty(),"priority of unexpected type.");I(t===bf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cw;class Te{constructor(e,n=Te.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,I(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),$S(this.priorityNode_)}static set __childrenNodeConstructor(e){Cw=e}static get __childrenNodeConstructor(){return Cw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Te(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Te.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return H(e)?this:W(e)===".priority"?this.priorityNode_:Te.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Te.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=W(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(I(r!==".priority"||yr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Te.__childrenNodeConstructor.EMPTY_NODE.updateChild(se(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+WS(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=xS(this.value_):e+=this.value_,this.lazyHash_=wS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Te.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Te.__childrenNodeConstructor?-1:(I(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Te.VALUE_TYPE_ORDER.indexOf(n),s=Te.VALUE_TYPE_ORDER.indexOf(r);return I(i>=0,"Unknown leaf type: "+n),I(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Te.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HS,GS;function B3(t){HS=t}function z3(t){GS=t}class W3 extends Cu{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?vi(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return $.MIN}maxPost(){return new $(ai,new Te("[PRIORITY-POST]",GS))}makePost(e,n){const r=HS(e);return new $(n,new Te("[PRIORITY-POST]",r))}toString(){return".priority"}}const we=new W3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=Math.log(2);class H3{constructor(e){const n=s=>parseInt(Math.log(s)/$3,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Pc=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Pe(h,d.node,Pe.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=i(l,p),w=i(p+1,c);return d=t[p],h=n?n(d):d,new Pe(h,d.node,Pe.BLACK,m,w)}},s=function(l){let c=null,u=null,d=t.length;const h=function(m,w){const x=d-m,v=d;d-=m;const y=i(x+1,v),_=t[x],C=n?n(_):_;p(new Pe(C,_.node,w,null,y))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const w=l.nextBitIsOne(),x=Math.pow(2,l.count-(m+1));w?h(x,Pe.BLACK):(h(x,Pe.BLACK),h(x,Pe.RED))}return u},o=new H3(t.length),a=s(o);return new tt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd;const _i={};class mn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return I(_i&&we,"ChildrenNode.ts has not been loaded"),jd=jd||new mn({".priority":_i},{".priority":we}),jd}get(e){const n=ms(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof tt?n:null}hasIndex(e){return en(this.indexSet_,e.toString())}addIndex(e,n){I(e!==Ji,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator($.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Pc(r,e.getCompare()):a=_i;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new mn(u,c)}addToIndexes(e,n){const r=yc(this.indexes_,(i,s)=>{const o=ms(this.indexSet_,s);if(I(o,"Missing index implementation for "+s),i===_i)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator($.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Pc(a,o.getCompare())}else return _i;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new $(e.name,a))),l.insert(e,e.node)}});return new mn(r,this.indexSet_)}removeFromIndexes(e,n){const r=yc(this.indexes_,i=>{if(i===_i)return i;{const s=n.get(e.name);return s?i.remove(new $(e.name,s)):i}});return new mn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro;class V{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&$S(this.priorityNode_),this.children_.isEmpty()&&I(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ro||(ro=new V(new tt(Km),null,mn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ro}updatePriority(e){return this.children_.isEmpty()?this:new V(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ro:n}}getChild(e){const n=W(e);return n===null?this:this.getImmediateChild(n).getChild(se(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(I(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new $(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ro:this.priorityNode_;return new V(i,o,s)}}updateChild(e,n){const r=W(e);if(r===null)return n;{I(W(e)!==".priority"||yr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(se(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(we,(o,a)=>{n[o]=a.val(e),r++,s&&V.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+WS(this.getPriority().val())+":"),this.forEachChild(we,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":wS(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new $(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new $(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new $(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,$.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,$.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ma?-1:0}withIndex(e){if(e===Ji||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new V(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ji||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(we),i=n.getIterator(we);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ji?null:this.indexMap_.get(e.toString())}}V.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class G3 extends V{constructor(){super(new tt(Km),V.EMPTY_NODE,mn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return V.EMPTY_NODE}isEmpty(){return!1}}const Ma=new G3;Object.defineProperties($,{MIN:{value:new $(ys,V.EMPTY_NODE)},MAX:{value:new $(ai,Ma)}});zS.__EMPTY_NODE=V.EMPTY_NODE;Te.__childrenNodeConstructor=V;U3(Ma);z3(Ma);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=!0;function Ne(t,e=null){if(t===null)return V.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),I(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Te(n,Ne(e))}if(!(t instanceof Array)&&K3){const n=[];let r=!1;if(je(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ne(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new $(o,l)))}}),n.length===0)return V.EMPTY_NODE;const s=Pc(n,V3,o=>o.name,Km);if(r){const o=Pc(n,we.getCompare());return new V(s,Ne(e),new mn({".priority":o},{".priority":we}))}else return new V(s,Ne(e),mn.Default)}else{let n=V.EMPTY_NODE;return je(t,(r,i)=>{if(en(t,r)&&r.substring(0,1)!=="."){const s=Ne(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ne(e))}}B3(Ne);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3 extends Cu{constructor(e){super(),this.indexPath_=e,I(!H(e)&&W(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?vi(e.name,n.name):s}makePost(e,n){const r=Ne(e),i=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new $(n,i)}maxPost(){const e=V.EMPTY_NODE.updateChild(this.indexPath_,Ma);return new $(ai,e)}toString(){return la(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3 extends Cu{compare(e,n){const r=e.node.compareTo(n.node);return r===0?vi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return $.MIN}maxPost(){return $.MAX}makePost(e,n){const r=Ne(e);return new $(n,r)}toString(){return".value"}}const Q3=new Y3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t){return{type:"value",snapshotNode:t}}function ws(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ca(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ua(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function X3(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){I(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(ca(n,a)):I(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ws(n,r)):o.trackChildChange(ua(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(we,(i,s)=>{n.hasChild(i)||r.trackChildChange(ca(i,s))}),n.isLeafNode()||n.forEachChild(we,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(ua(i,s,o))}else r.trackChildChange(ws(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?V.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.indexedFilter_=new qm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=da.getStartPost_(e),this.endPost_=da.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new $(n,r))||(r=V.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=V.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(V.EMPTY_NODE);const s=this;return n.forEachChild(we,(o,a)=>{s.matches(new $(o,a))||(i=i.updateImmediateChild(o,V.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new da(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new $(n,r))||(r=V.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=V.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=V.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(V.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,V.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,p)=>d(p,h)}else o=this.index_.getCompare();const a=e;I(a.numChildren()===this.limit_,"");const l=new $(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:o(h,l);if(u&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(ua(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(ca(n,d));const w=a.updateImmediateChild(n,V.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(ws(h.name,h.node)),w.updateImmediateChild(h.name,h.node)):w}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(ca(c.name,c.node)),s.trackChildChange(ws(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,V.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=we}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return I(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return I(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ys}hasEnd(){return this.endSet_}getIndexEndValue(){return I(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return I(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ai}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return I(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===we}copy(){const e=new Ym;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function J3(t){return t.loadsAllData()?new qm(t.getIndex()):t.hasLimit()?new Z3(t):new da(t)}function bw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===we?n="$priority":t.index_===Q3?n="$value":t.index_===Ji?n="$key":(I(t.index_ instanceof q3,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ie(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ie(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ie(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ie(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ie(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Sw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==we&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends FS{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Aa("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(I(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Nc.getListenId_(e,r),a={};this.listens_[o]=a;const l=bw(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),ms(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=Nc.getListenId_(e,n);delete this.listens_[r]}get(e){const n=bw(e._queryParams),r=e._path.toString(),i=new Ea;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Os(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ia(a.responseText)}catch{qe("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&qe("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(){return{value:null,children:new Map}}function qS(t,e,n){if(H(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=W(e);t.children.has(r)||t.children.set(r,Ic());const i=t.children.get(r);e=se(e),qS(i,e,n)}}function Sf(t,e,n){t.value!==null?n(e,t.value):t5(t,(r,i)=>{const s=new re(e.toString()+"/"+r);Sf(i,s,n)})}function t5(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&je(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=10*1e3,r5=30*1e3,i5=5*60*1e3;class s5{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new n5(e);const r=Ew+(r5-Ew)*Math.random();Ro(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;je(e,(i,s)=>{s>0&&en(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ro(this.reportStats_.bind(this),Math.floor(Math.random()*2*i5))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mt||(Mt={}));function Qm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Xm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Zm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Mt.ACK_USER_WRITE,this.source=Qm()}operationForChild(e){if(H(this.path)){if(this.affectedTree.value!=null)return I(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new re(e));return new Rc(J(),n,this.revert)}}else return I(W(this.path)===e,"operationForChild called for unrelated child."),new Rc(se(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.source=e,this.path=n,this.type=Mt.LISTEN_COMPLETE}operationForChild(e){return H(this.path)?new ha(this.source,J()):new ha(this.source,se(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Mt.OVERWRITE}operationForChild(e){return H(this.path)?new li(this.source,J(),this.snap.getImmediateChild(e)):new li(this.source,se(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Mt.MERGE}operationForChild(e){if(H(this.path)){const n=this.children.subtree(new re(e));return n.isEmpty()?null:n.value?new li(this.source,J(),n.value):new _s(this.source,J(),n)}else return I(W(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new _s(this.source,se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(H(e))return this.isFullyInitialized()&&!this.filtered_;const n=W(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function a5(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(X3(o.childName,o.snapshotNode))}),io(t,i,"child_removed",e,r,n),io(t,i,"child_added",e,r,n),io(t,i,"child_moved",s,r,n),io(t,i,"child_changed",e,r,n),io(t,i,"value",e,r,n),i}function io(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>c5(t,a,l)),o.forEach(a=>{const l=l5(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function l5(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function c5(t,e,n){if(e.childName==null||n.childName==null)throw Ms("Should only compare child_ events.");const r=new $(e.childName,e.snapshotNode),i=new $(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t,e){return{eventCache:t,serverCache:e}}function Ao(t,e,n,r){return bu(new ci(e,n,r),t.serverCache)}function YS(t,e,n,r){return bu(t.eventCache,new ci(e,n,r))}function Ef(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ui(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd;const u5=()=>(Fd||(Fd=new tt(q4)),Fd);class ie{constructor(e,n=u5()){this.value=e,this.children=n}static fromObject(e){let n=new ie(null);return je(e,(r,i)=>{n=n.set(new re(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:J(),value:this.value};if(H(e))return null;{const r=W(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(se(e),n);return s!=null?{path:ye(new re(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(H(e))return this;{const n=W(e),r=this.children.get(n);return r!==null?r.subtree(se(e)):new ie(null)}}set(e,n){if(H(e))return new ie(n,this.children);{const r=W(e),s=(this.children.get(r)||new ie(null)).set(se(e),n),o=this.children.insert(r,s);return new ie(this.value,o)}}remove(e){if(H(e))return this.children.isEmpty()?new ie(null):new ie(null,this.children);{const n=W(e),r=this.children.get(n);if(r){const i=r.remove(se(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ie(null):new ie(this.value,s)}else return this}}get(e){if(H(e))return this.value;{const n=W(e),r=this.children.get(n);return r?r.get(se(e)):null}}setTree(e,n){if(H(e))return n;{const r=W(e),s=(this.children.get(r)||new ie(null)).setTree(se(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ie(this.value,o)}}fold(e){return this.fold_(J(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ye(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,J(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(H(e))return null;{const s=W(e),o=this.children.get(s);return o?o.findOnPath_(se(e),ye(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,J(),n)}foreachOnPath_(e,n,r){if(H(e))return this;{this.value&&r(n,this.value);const i=W(e),s=this.children.get(i);return s?s.foreachOnPath_(se(e),ye(n,i),r):new ie(null)}}foreach(e){this.foreach_(J(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ye(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.writeTree_=e}static empty(){return new jt(new ie(null))}}function Mo(t,e,n){if(H(e))return new jt(new ie(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=et(i,e);return s=s.updateChild(o,n),new jt(t.writeTree_.set(i,s))}else{const i=new ie(n),s=t.writeTree_.setTree(e,i);return new jt(s)}}}function Tf(t,e,n){let r=t;return je(n,(i,s)=>{r=Mo(r,ye(e,i),s)}),r}function Tw(t,e){if(H(e))return jt.empty();{const n=t.writeTree_.setTree(e,new ie(null));return new jt(n)}}function kf(t,e){return yi(t,e)!=null}function yi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(et(n.path,e)):null}function kw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(we,(r,i)=>{e.push(new $(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new $(r,i.value))}),e}function dr(t,e){if(H(e))return t;{const n=yi(t,e);return n!=null?new jt(new ie(n)):new jt(t.writeTree_.subtree(e))}}function Pf(t){return t.writeTree_.isEmpty()}function xs(t,e){return QS(J(),t.writeTree_,e)}function QS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(I(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=QS(ye(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ye(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e){return eE(e,t)}function d5(t,e,n,r,i){I(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Mo(t.visibleWrites,e,n)),t.lastWriteId=r}function h5(t,e,n,r){I(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Tf(t.visibleWrites,e,n),t.lastWriteId=r}function f5(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function p5(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);I(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&m5(a,r.path)?i=!1:xt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return g5(t),!0;if(r.snap)t.visibleWrites=Tw(t.visibleWrites,r.path);else{const a=r.children;je(a,l=>{t.visibleWrites=Tw(t.visibleWrites,ye(r.path,l))})}return!0}else return!1}function m5(t,e){if(t.snap)return xt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&xt(ye(t.path,n),e))return!0;return!1}function g5(t){t.visibleWrites=XS(t.allWrites,v5,J()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function v5(t){return t.visible}function XS(t,e,n){let r=jt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)xt(n,o)?(a=et(n,o),r=Mo(r,a,s.snap)):xt(o,n)&&(a=et(o,n),r=Mo(r,J(),s.snap.getChild(a)));else if(s.children){if(xt(n,o))a=et(n,o),r=Tf(r,a,s.children);else if(xt(o,n))if(a=et(o,n),H(a))r=Tf(r,J(),s.children);else{const l=ms(s.children,W(a));if(l){const c=l.getChild(se(a));r=Mo(r,J(),c)}}}else throw Ms("WriteRecord should have .snap or .children")}}return r}function ZS(t,e,n,r,i){if(!r&&!i){const s=yi(t.visibleWrites,e);if(s!=null)return s;{const o=dr(t.visibleWrites,e);if(Pf(o))return n;if(n==null&&!kf(o,J()))return null;{const a=n||V.EMPTY_NODE;return xs(o,a)}}}else{const s=dr(t.visibleWrites,e);if(!i&&Pf(s))return n;if(!i&&n==null&&!kf(s,J()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(xt(c.path,e)||xt(e,c.path))},a=XS(t.allWrites,o,e),l=n||V.EMPTY_NODE;return xs(a,l)}}}function y5(t,e,n){let r=V.EMPTY_NODE;const i=yi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(we,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=dr(t.visibleWrites,e);return n.forEachChild(we,(o,a)=>{const l=xs(dr(s,new re(o)),a);r=r.updateImmediateChild(o,l)}),kw(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=dr(t.visibleWrites,e);return kw(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function w5(t,e,n,r,i){I(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ye(e,n);if(kf(t.visibleWrites,s))return null;{const o=dr(t.visibleWrites,s);return Pf(o)?i.getChild(n):xs(o,i.getChild(n))}}function _5(t,e,n,r){const i=ye(e,n),s=yi(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=dr(t.visibleWrites,i);return xs(o,r.getNode().getImmediateChild(n))}else return null}function x5(t,e){return yi(t.visibleWrites,e)}function C5(t,e,n,r,i,s,o){let a;const l=dr(t.visibleWrites,e),c=yi(l,J());if(c!=null)a=c;else if(n!=null)a=xs(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=h.getNext();for(;p&&u.length<i;)d(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function b5(){return{visibleWrites:jt.empty(),allWrites:[],lastWriteId:-1}}function Ac(t,e,n,r){return ZS(t.writeTree,t.treePath,e,n,r)}function eg(t,e){return y5(t.writeTree,t.treePath,e)}function Pw(t,e,n,r){return w5(t.writeTree,t.treePath,e,n,r)}function Mc(t,e){return x5(t.writeTree,ye(t.treePath,e))}function S5(t,e,n,r,i,s){return C5(t.writeTree,t.treePath,e,n,r,i,s)}function tg(t,e,n){return _5(t.writeTree,t.treePath,e,n)}function JS(t,e){return eE(ye(t.treePath,e),t.writeTree)}function eE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;I(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),I(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ua(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,ca(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ws(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ua(r,e.snapshotNode,i.oldSnap));else throw Ms("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const tE=new T5;class ng{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ci(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tg(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ui(this.viewCache_),s=S5(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t){return{filter:t}}function P5(t,e){I(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),I(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function N5(t,e,n,r,i){const s=new E5;let o,a;if(n.type===Mt.OVERWRITE){const c=n;c.source.fromUser?o=Nf(t,e,c.path,c.snap,r,i,s):(I(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!H(c.path),o=Oc(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Mt.MERGE){const c=n;c.source.fromUser?o=R5(t,e,c.path,c.children,r,i,s):(I(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=If(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Mt.ACK_USER_WRITE){const c=n;c.revert?o=O5(t,e,c.path,r,i,s):o=A5(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Mt.LISTEN_COMPLETE)o=M5(t,e,n.path,r,s);else throw Ms("Unknown operation type: "+n.type);const l=s.getChanges();return I5(e,o,l),{viewCache:o,changes:l}}function I5(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ef(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(KS(Ef(e)))}}function nE(t,e,n,r,i,s){const o=e.eventCache;if(Mc(r,n)!=null)return e;{let a,l;if(H(n))if(I(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ui(e),u=c instanceof V?c:V.EMPTY_NODE,d=eg(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Ac(r,ui(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=W(n);if(c===".priority"){I(yr(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=Pw(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=se(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=Pw(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=tg(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return Ao(e,a,o.isFullyInitialized()||H(n),t.filter.filtersNodes())}}function Oc(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(H(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=W(n);if(!l.isCompleteForPath(n)&&yr(n)>1)return e;const m=se(n),x=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),x):c=u.updateChild(l.getNode(),p,x,m,tE,null)}const d=YS(e,c,l.isFullyInitialized()||H(n),u.filtersNodes()),h=new ng(i,d,s);return nE(t,d,n,i,h,a)}function Nf(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new ng(i,e,s);if(H(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Ao(e,c,!0,t.filter.filtersNodes());else{const d=W(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Ao(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=se(n),p=a.getNode().getImmediateChild(d);let m;if(H(h))m=r;else{const w=u.getCompleteChild(d);w!=null?$m(h)===".priority"&&w.getChild(US(h)).isEmpty()?m=w:m=w.updateChild(h,r):m=V.EMPTY_NODE}if(p.equals(m))l=e;else{const w=t.filter.updateChild(a.getNode(),d,m,h,u,o);l=Ao(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Nw(t,e){return t.eventCache.isCompleteForChild(e)}function R5(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=ye(n,l);Nw(e,W(u))&&(a=Nf(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=ye(n,l);Nw(e,W(u))||(a=Nf(t,a,u,c,i,s,o))}),a}function Iw(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function If(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;H(n)?c=r:c=new ie(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),m=Iw(t,p,h);l=Oc(t,l,new re(d),m,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!p){const m=e.serverCache.getNode().getImmediateChild(d),w=Iw(t,m,h);l=Oc(t,l,new re(d),w,i,s,o,a)}}),l}function A5(t,e,n,r,i,s,o){if(Mc(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(H(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Oc(t,e,n,l.getNode().getChild(n),i,s,a,o);if(H(n)){let c=new ie(null);return l.getNode().forEachChild(Ji,(u,d)=>{c=c.set(new re(u),d)}),If(t,e,n,c,i,s,a,o)}else return e}else{let c=new ie(null);return r.foreach((u,d)=>{const h=ye(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),If(t,e,n,c,i,s,a,o)}}function M5(t,e,n,r,i){const s=e.serverCache,o=YS(e,s.getNode(),s.isFullyInitialized()||H(n),s.isFiltered());return nE(t,o,n,r,tE,i)}function O5(t,e,n,r,i,s){let o;if(Mc(r,n)!=null)return e;{const a=new ng(r,e,i),l=e.eventCache.getNode();let c;if(H(n)||W(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Ac(r,ui(e));else{const d=e.serverCache.getNode();I(d instanceof V,"serverChildren would be complete if leaf node"),u=eg(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=W(n);let d=tg(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,se(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,V.EMPTY_NODE,se(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ac(r,ui(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Mc(r,J())!=null,Ao(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new qm(r.getIndex()),s=J3(r);this.processor_=k5(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(V.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(V.EMPTY_NODE,a.getNode(),null),u=new ci(l,o.isFullyInitialized(),i.filtersNodes()),d=new ci(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=bu(d,u),this.eventGenerator_=new o5(this.query_)}get query(){return this.query_}}function D5(t){return t.viewCache_.serverCache.getNode()}function j5(t,e){const n=ui(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!H(e)&&!n.getImmediateChild(W(e)).isEmpty())?n.getChild(e):null}function Rw(t){return t.eventRegistrations_.length===0}function F5(t,e){t.eventRegistrations_.push(e)}function Aw(t,e,n){const r=[];if(n){I(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Mw(t,e,n,r){e.type===Mt.MERGE&&e.source.queryId!==null&&(I(ui(t.viewCache_),"We should always have a full cache before handling merges"),I(Ef(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=N5(t.processor_,i,e,n,r);return P5(t.processor_,s.viewCache),I(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,rE(t,s.changes,s.viewCache.eventCache.getNode(),null)}function V5(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(we,(s,o)=>{r.push(ws(s,o))}),n.isFullyInitialized()&&r.push(KS(n.getNode())),rE(t,r,n.getNode(),e)}function rE(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return a5(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc;class U5{constructor(){this.views=new Map}}function B5(t){I(!Lc,"__referenceConstructor has already been defined"),Lc=t}function z5(){return I(Lc,"Reference.ts has not been loaded"),Lc}function W5(t){return t.views.size===0}function rg(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return I(s!=null,"SyncTree gave us an op for an invalid query."),Mw(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Mw(o,e,n,r));return s}}function $5(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Ac(n,i?r:null),l=!1;a?l=!0:r instanceof V?(a=eg(n,r),l=!1):(a=V.EMPTY_NODE,l=!1);const c=bu(new ci(a,l,!1),new ci(r,i,!1));return new L5(e,c)}return o}function H5(t,e,n,r,i,s){const o=$5(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),F5(o,n),V5(o,n)}function G5(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=wr(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(Aw(c,n,r)),Rw(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(Aw(l,n,r)),Rw(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!wr(t)&&s.push(new(z5())(e._repo,e._path)),{removed:s,events:o}}function iE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function es(t,e){let n=null;for(const r of t.views.values())n=n||j5(r,e);return n}function sE(t,e){if(e._queryParams.loadsAllData())return Su(t);{const r=e._queryIdentifier;return t.views.get(r)}}function oE(t,e){return sE(t,e)!=null}function wr(t){return Su(t)!=null}function Su(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc;function K5(t){I(!Dc,"__referenceConstructor has already been defined"),Dc=t}function q5(){return I(Dc,"Reference.ts has not been loaded"),Dc}let Y5=1;class Ow{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ie(null),this.pendingWriteTree_=b5(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function aE(t,e,n,r,i){return d5(t.pendingWriteTree_,e,n,r,i),i?Vs(t,new li(Qm(),e,n)):[]}function Q5(t,e,n,r){h5(t.pendingWriteTree_,e,n,r);const i=ie.fromObject(n);return Vs(t,new _s(Qm(),e,i))}function Jn(t,e,n=!1){const r=f5(t.pendingWriteTree_,e);if(p5(t.pendingWriteTree_,e)){let s=new ie(null);return r.snap!=null?s=s.set(J(),!0):je(r.children,o=>{s=s.set(new re(o),!0)}),Vs(t,new Rc(r.path,s,n))}else return[]}function Eu(t,e,n){return Vs(t,new li(Xm(),e,n))}function X5(t,e,n){const r=ie.fromObject(n);return Vs(t,new _s(Xm(),e,r))}function Z5(t,e){return Vs(t,new ha(Xm(),e))}function J5(t,e,n){const r=sg(t,n);if(r){const i=og(r),s=i.path,o=i.queryId,a=et(s,e),l=new ha(Zm(o),a);return ag(t,s,l)}else return[]}function Rf(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||oE(o,e))){const l=G5(o,e,n,r);W5(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,p)=>wr(p));if(u&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const p=nF(h);for(let m=0;m<p.length;++m){const w=p[m],x=w.query,v=uE(t,w);t.listenProvider_.startListening(Oo(x),jc(t,x),v.hashFn,v.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(Oo(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(Tu(h));t.listenProvider_.stopListening(Oo(h),p)}))}rF(t,c)}return a}function eF(t,e,n,r){const i=sg(t,r);if(i!=null){const s=og(i),o=s.path,a=s.queryId,l=et(o,e),c=new li(Zm(a),l,n);return ag(t,o,c)}else return[]}function tF(t,e,n,r){const i=sg(t,r);if(i){const s=og(i),o=s.path,a=s.queryId,l=et(o,e),c=ie.fromObject(n),u=new _s(Zm(a),l,c);return ag(t,o,u)}else return[]}function Lw(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,p)=>{const m=et(h,i);s=s||es(p,m),o=o||wr(p)});let a=t.syncPointTree_.get(i);a?(o=o||wr(a),s=s||es(a,J())):(a=new U5,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=V.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,m)=>{const w=es(m,J());w&&(s=s.updateImmediateChild(p,w))}));const c=oE(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=Tu(e);I(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=iF();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const u=Jm(t.pendingWriteTree_,i);let d=H5(a,e,n,u,s,l);if(!c&&!o&&!r){const h=sE(a,e);d=d.concat(sF(t,e,h))}return d}function ig(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=et(o,e),c=es(a,l);if(c)return c});return ZS(i,e,s,n,!0)}function Vs(t,e){return lE(e,t.syncPointTree_,null,Jm(t.pendingWriteTree_,J()))}function lE(t,e,n,r){if(H(t.path))return cE(t,e,n,r);{const i=e.get(J());n==null&&i!=null&&(n=es(i,J()));let s=[];const o=W(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=JS(r,o);s=s.concat(lE(a,l,c,u))}return i&&(s=s.concat(rg(i,t,r,n))),s}}function cE(t,e,n,r){const i=e.get(J());n==null&&i!=null&&(n=es(i,J()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=JS(r,o),u=t.operationForChild(o);u&&(s=s.concat(cE(u,a,l,c)))}),i&&(s=s.concat(rg(i,t,r,n))),s}function uE(t,e){const n=e.query,r=jc(t,n);return{hashFn:()=>(D5(e)||V.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?J5(t,n._path,r):Z5(t,n._path);{const s=X4(i,n);return Rf(t,n,null,s)}}}}function jc(t,e){const n=Tu(e);return t.queryToTagMap.get(n)}function Tu(t){return t._path.toString()+"$"+t._queryIdentifier}function sg(t,e){return t.tagToQueryMap.get(e)}function og(t){const e=t.indexOf("$");return I(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new re(t.substr(0,e))}}function ag(t,e,n){const r=t.syncPointTree_.get(e);I(r,"Missing sync point for query tag that we're tracking");const i=Jm(t.pendingWriteTree_,e);return rg(r,n,i,null)}function nF(t){return t.fold((e,n,r)=>{if(n&&wr(n))return[Su(n)];{let i=[];return n&&(i=iE(n)),je(r,(s,o)=>{i=i.concat(o)}),i}})}function Oo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(q5())(t._repo,t._path):t}function rF(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Tu(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function iF(){return Y5++}function sF(t,e,n){const r=e._path,i=jc(t,e),s=uE(t,n),o=t.listenProvider_.startListening(Oo(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)I(!wr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!H(c)&&u&&wr(u))return[Su(u).query];{let h=[];return u&&(h=h.concat(iE(u).map(p=>p.query))),je(d,(p,m)=>{h=h.concat(m)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Oo(u),jc(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new lg(n)}node(){return this.node_}}class cg{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ye(this.path_,e);return new cg(this.syncTree_,n)}node(){return ig(this.syncTree_,this.path_)}}const oF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Dw=function(t,e,n){if(!t||typeof t!="object")return t;if(I(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return aF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return lF(t[".sv"],e);I(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},aF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:I(!1,"Unexpected server value: "+t)}},lF=function(t,e,n){t.hasOwnProperty("increment")||I(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&I(!1,"Unexpected increment value: "+r);const i=e.node();if(I(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},dE=function(t,e,n,r){return ug(e,new cg(n,t),r)},hE=function(t,e,n){return ug(t,new lg(e),n)};function ug(t,e,n){const r=t.getPriority().val(),i=Dw(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=Dw(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Te(a,Ne(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Te(i))),o.forEachChild(we,(a,l)=>{const c=ug(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function hg(t,e){let n=e instanceof re?e:new re(e),r=t,i=W(n);for(;i!==null;){const s=ms(r.node.children,i)||{children:{},childCount:0};r=new dg(i,r,s),n=se(n),i=W(n)}return r}function Us(t){return t.node.value}function fE(t,e){t.node.value=e,Af(t)}function pE(t){return t.node.childCount>0}function cF(t){return Us(t)===void 0&&!pE(t)}function ku(t,e){je(t.node.children,(n,r)=>{e(new dg(n,t,r))})}function mE(t,e,n,r){n&&!r&&e(t),ku(t,i=>{mE(i,e,!0,r)}),n&&r&&e(t)}function uF(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Oa(t){return new re(t.parent===null?t.name:Oa(t.parent)+"/"+t.name)}function Af(t){t.parent!==null&&dF(t.parent,t.name,t)}function dF(t,e,n){const r=cF(n),i=en(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Af(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Af(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=/[\[\].#$\/\u0000-\u001F\u007F]/,fF=/[\[\].#$\u0000-\u001F\u007F]/,Vd=10*1024*1024,fg=function(t){return typeof t=="string"&&t.length!==0&&!hF.test(t)},gE=function(t){return typeof t=="string"&&t.length!==0&&!fF.test(t)},pF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),gE(t)},mF=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Vm(t)||t&&typeof t=="object"&&en(t,".sv")},gF=function(t,e,n,r){Pu(vu(t,"value"),e,n)},Pu=function(t,e,n){const r=n instanceof re?new R3(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Wr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Wr(r)+" with contents = "+e.toString());if(Vm(e))throw new Error(t+"contains "+e.toString()+" "+Wr(r));if(typeof e=="string"&&e.length>Vd/3&&yu(e)>Vd)throw new Error(t+"contains a string greater than "+Vd+" utf8 bytes "+Wr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(je(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!fg(o)))throw new Error(t+" contains an invalid key ("+o+") "+Wr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);A3(r,o),Pu(t,a,r),M3(r)}),i&&s)throw new Error(t+' contains ".value" child '+Wr(r)+" in addition to actual children.")}},vF=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=la(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!fg(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(I3);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&xt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},yF=function(t,e,n,r){const i=vu(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];je(e,(o,a)=>{const l=new re(o);if(Pu(i,a,ye(n,l)),$m(l)===".priority"&&!mF(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),vF(i,s)},vE=function(t,e,n,r){if(!gE(n))throw new Error(vu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wF=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),vE(t,e,n)},_F=function(t,e){if(W(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},xF=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!fg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!pF(n))throw new Error(vu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Nu(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Hm(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function yE(t,e,n){Nu(t,n),wE(t,r=>Hm(r,e))}function Vt(t,e,n){Nu(t,n),wE(t,r=>xt(r,e)||xt(e,r))}function wE(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(bF(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function bF(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Io&&Oe("event: "+n.toString()),Fs(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF="repo_interrupt",EF=25;class TF{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new CF,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ic(),this.transactionQueueTree_=new dg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function kF(t,e,n){if(t.stats_=zm(t.repoInfo_),t.forceRestClient_||t3())t.server_=new Nc(t.repoInfo_,(r,i,s,o)=>{jw(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Fw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ie(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Cn(t.repoInfo_,e,(r,i,s,o)=>{jw(t,r,i,s,o)},r=>{Fw(t,r)},r=>{NF(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=o3(t.repoInfo_,()=>new s5(t.stats_,t.server_)),t.infoData_=new e5,t.infoSyncTree_=new Ow({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Eu(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),pg(t,"connected",!1),t.serverSyncTree_=new Ow({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Vt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function PF(t){const n=t.infoData_.getNode(new re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Iu(t){return oF({timestamp:PF(t)})}function jw(t,e,n,r,i){t.dataUpdateCount++;const s=new re(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=yc(n,c=>Ne(c));o=tF(t.serverSyncTree_,s,l,i)}else{const l=Ne(n);o=eF(t.serverSyncTree_,s,l,i)}else if(r){const l=yc(n,c=>Ne(c));o=X5(t.serverSyncTree_,s,l)}else{const l=Ne(n);o=Eu(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Cs(t,s)),Vt(t.eventQueue_,a,o)}function Fw(t,e){pg(t,"connected",e),e===!1&&AF(t)}function NF(t,e){je(e,(n,r)=>{pg(t,n,r)})}function pg(t,e,n){const r=new re("/.info/"+e),i=Ne(n);t.infoData_.updateSnapshot(r,i);const s=Eu(t.infoSyncTree_,r,i);Vt(t.eventQueue_,r,s)}function mg(t){return t.nextWriteId_++}function IF(t,e,n,r,i){Ru(t,"set",{path:e.toString(),value:n,priority:r});const s=Iu(t),o=Ne(n,r),a=ig(t.serverSyncTree_,e),l=hE(o,a,s),c=mg(t),u=aE(t.serverSyncTree_,e,l,c,!0);Nu(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,p)=>{const m=h==="ok";m||qe("set at "+e+" failed: "+h);const w=Jn(t.serverSyncTree_,c,!m);Vt(t.eventQueue_,e,w),Mf(t,i,h,p)});const d=vg(t,e);Cs(t,d),Vt(t.eventQueue_,d,[])}function RF(t,e,n,r){Ru(t,"update",{path:e.toString(),value:n});let i=!0;const s=Iu(t),o={};if(je(n,(a,l)=>{i=!1,o[a]=dE(ye(e,a),Ne(l),t.serverSyncTree_,s)}),i)Oe("update() called with empty data.  Don't do anything."),Mf(t,r,"ok",void 0);else{const a=mg(t),l=Q5(t.serverSyncTree_,e,o,a);Nu(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||qe("update at "+e+" failed: "+c);const h=Jn(t.serverSyncTree_,a,!d),p=h.length>0?Cs(t,e):e;Vt(t.eventQueue_,p,h),Mf(t,r,c,u)}),je(n,c=>{const u=vg(t,ye(e,c));Cs(t,u)}),Vt(t.eventQueue_,e,[])}}function AF(t){Ru(t,"onDisconnectEvents");const e=Iu(t),n=Ic();Sf(t.onDisconnect_,J(),(i,s)=>{const o=dE(i,s,t.serverSyncTree_,e);qS(n,i,o)});let r=[];Sf(n,J(),(i,s)=>{r=r.concat(Eu(t.serverSyncTree_,i,s));const o=vg(t,i);Cs(t,o)}),t.onDisconnect_=Ic(),Vt(t.eventQueue_,J(),r)}function MF(t,e,n){let r;W(e._path)===".info"?r=Lw(t.infoSyncTree_,e,n):r=Lw(t.serverSyncTree_,e,n),yE(t.eventQueue_,e._path,r)}function Vw(t,e,n){let r;W(e._path)===".info"?r=Rf(t.infoSyncTree_,e,n):r=Rf(t.serverSyncTree_,e,n),yE(t.eventQueue_,e._path,r)}function OF(t){t.persistentConnection_&&t.persistentConnection_.interrupt(SF)}function Ru(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Oe(n,...e)}function Mf(t,e,n,r){e&&Fs(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function _E(t,e,n){return ig(t.serverSyncTree_,e,n)||V.EMPTY_NODE}function gg(t,e=t.transactionQueueTree_){if(e||Au(t,e),Us(e)){const n=CE(t,e);I(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&LF(t,Oa(e),n)}else pE(e)&&ku(e,n=>{gg(t,n)})}function LF(t,e,n){const r=n.map(c=>c.currentWriteId),i=_E(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];I(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=et(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Ru(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Jn(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Au(t,hg(t.transactionQueueTree_,e)),gg(t,t.transactionQueueTree_),Vt(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Fs(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{qe("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Cs(t,e)}},o)}function Cs(t,e){const n=xE(t,e),r=Oa(n),i=CE(t,n);return DF(t,i,r),r}function DF(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=et(n,l.path);let u=!1,d;if(I(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Jn(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=EF)u=!0,d="maxretry",i=i.concat(Jn(t.serverSyncTree_,l.currentWriteId,!0));else{const h=_E(t,l.path,o);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){Pu("transaction failed: Data returned ",p,l.path);let m=Ne(p);typeof p=="object"&&p!=null&&en(p,".priority")||(m=m.updatePriority(h.getPriority()));const x=l.currentWriteId,v=Iu(t),y=hE(m,h,v);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=y,l.currentWriteId=mg(t),o.splice(o.indexOf(x),1),i=i.concat(aE(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(Jn(t.serverSyncTree_,x,!0))}else u=!0,d="nodata",i=i.concat(Jn(t.serverSyncTree_,l.currentWriteId,!0))}Vt(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Au(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Fs(r[a]);gg(t,t.transactionQueueTree_)}function xE(t,e){let n,r=t.transactionQueueTree_;for(n=W(e);n!==null&&Us(r)===void 0;)r=hg(r,n),e=se(e),n=W(e);return r}function CE(t,e){const n=[];return bE(t,e,n),n.sort((r,i)=>r.order-i.order),n}function bE(t,e,n){const r=Us(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ku(e,i=>{bE(t,i,n)})}function Au(t,e){const n=Us(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,fE(e,n.length>0?n:void 0)}ku(e,r=>{Au(t,r)})}function vg(t,e){const n=Oa(xE(t,e)),r=hg(t.transactionQueueTree_,e);return uF(r,i=>{Ud(t,i)}),Ud(t,r),mE(r,i=>{Ud(t,i)}),n}function Ud(t,e){const n=Us(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(I(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(I(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Jn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?fE(e,void 0):n.length=s+1,Vt(t.eventQueue_,Oa(e),i);for(let o=0;o<r.length;o++)Fs(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function FF(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):qe(`Invalid query segment '${n}' in query '${t}'`)}return e}const Uw=function(t,e){const n=VF(t),r=n.namespace;n.domain==="firebase.com"&&In(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&In("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||G4();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new RS(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new re(n.pathString)}},VF=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=jF(t.substring(u,d)));const h=FF(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ie(this.snapshot.exportVal())}}class BF{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return I(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return H(this._path)?null:$m(this._path)}get ref(){return new Ar(this._repo,this._path)}get _queryIdentifier(){const e=Sw(this._queryParams),n=Um(e);return n==="{}"?"default":n}get _queryObject(){return Sw(this._queryParams)}isEqual(e){if(e=mt(e),!(e instanceof yg))return!1;const n=this._repo===e._repo,r=Hm(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+N3(this._path)}}class Ar extends yg{constructor(e,n){super(e,n,new Ym,!1)}get parent(){const e=US(this._path);return e===null?null:new Ar(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Fc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new re(e),r=Of(this.ref,e);return new Fc(this._node.getChild(n),r,we)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Fc(i,Of(this.ref,r),we)))}hasChild(e){const n=new re(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Mu(t,e){return t=mt(t),t._checkNotDeleted("ref"),e!==void 0?Of(t._root,e):t._root}function Of(t,e){return t=mt(t),W(t._path)===null?wF("child","path",e):vE("child","path",e),new Ar(t._repo,ye(t._path,e))}function WF(t,e){t=mt(t),_F("set",t._path),gF("set",e,t._path);const n=new Ea;return IF(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function $F(t,e){yF("update",e,t._path);const n=new Ea;return RF(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class wg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new UF("value",this,new Fc(e.snapshotNode,new Ar(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new BF(this,e,n):null}matches(e){return e instanceof wg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function HF(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,d)=>{Vw(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new zF(n,s||void 0),a=new wg(o);return MF(t._repo,t,a),()=>Vw(t._repo,t,a)}function SE(t,e,n,r){return HF(t,"value",e,n,r)}B5(Ar);K5(Ar);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF="FIREBASE_DATABASE_EMULATOR_HOST",Lf={};let KF=!1;function qF(t,e,n,r){t.repoInfo_=new RS(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function YF(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||In("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Oe("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Uw(s,i),a=o.repoInfo,l;typeof process<"u"&&ow&&(l=ow[GF]),l?(s=`http://${l}?ns=${a.namespace}`,o=Uw(s,i),a=o.repoInfo):o.repoInfo.secure;const c=new r3(t.name,t.options,e);xF("Invalid Firebase Database URL",o),H(o.path)||In("Database URL must point to the root of a Firebase Database (not including a child path).");const u=XF(a,t,c,new n3(t.name,n));return new ZF(u,t)}function QF(t,e){const n=Lf[e];(!n||n[t.key]!==t)&&In(`Database ${e}(${t.repoInfo_}) has already been deleted.`),OF(t),delete n[t.key]}function XF(t,e,n,r){let i=Lf[e.name];i||(i={},Lf[e.name]=i);let s=i[t.toURLString()];return s&&In("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new TF(t,KF,n,r),i[t.toURLString()]=s,s}class ZF{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(kF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ar(this._repo,J())),this._rootInternal}_delete(){return this._rootInternal!==null&&(QF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&In("Cannot call "+e+" on a deleted database.")}}function JF(t=Lb(),e){const n=Pm(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=tL("database");r&&eV(n,...r)}return n}function eV(t,e,n,r={}){t=mt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&In("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&In('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ol(Ol.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:nL(r.mockUserToken,t.app.options.projectId);s=new Ol(o)}qF(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t){U4(Ls),gs(new si("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return YF(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ur(aw,lw,t),ur(aw,lw,"esm2017")}Cn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Cn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};tV();const nV={apiKey:"AIzaSyAdqTa5ScOEyMtiVtwNyDkiIQSop0e9ZlY",authDomain:"sb-alpine-tours.firebaseapp.com",databaseURL:"https://sb-alpine-tours-default-rtdb.firebaseio.com",projectId:"sb-alpine-tours",storageBucket:"sb-alpine-tours.firebasestorage.app",messagingSenderId:"820077641021",appId:"1:820077641021:web:9d7224ce64e6bdbccb1954"},EE=Ob(nV),TE=_f(EE),Ou=JF(EE),rV=async(t,e)=>{try{await WF(Mu(Ou,`users/${t}`),e)}catch(n){throw n}},iV=async(t,e)=>{try{await $F(Mu(Ou,`users/${t}`),e)}catch(n){throw n}},sV=async(t,e,n)=>{try{const r=await Sj(TE,t,e);return await kj(r.user,{displayName:n}),await rV(r.user.uid,{email:t,displayName:n,createdAt:new Date().toISOString()}),r.user}catch(r){throw r}},oV=async(t,e)=>{try{return(await Ej(TE,t,e)).user}catch(n){throw n}};function aV({resort:t,onClose:e}){const n=[{value:t.green,color:"bg-gradient-to-r from-green-500 to-green-600",textColor:"text-white"},{value:t.blue,color:"bg-gradient-to-r from-blue-400 to-blue-500",textColor:"text-white"},{value:t.doubleBlue,color:"bg-gradient-to-r from-blue-500 to-blue-600",textColor:"text-white"},{value:t.black,color:"bg-gradient-to-r from-gray-800 to-black",textColor:"text-white"},{value:t.doubleBlack,color:"bg-gradient-to-r from-black to-black",textColor:"text-yellow-400"}].filter(i=>i.value&&i.value!=="-"),r=`${100/n.length}%`;return f.jsx(GO,{latitude:Number(t.latitude),longitude:Number(t.longitude),onClose:e,closeButton:!0,closeOnClick:!0,offset:16,className:"custom-popup transition-all duration-300 ease-in-out",children:f.jsxs("div",{className:"rounded-lg shadow-lg overflow-hidden w-80",children:[f.jsx("div",{className:"bg-blue-600 p-3",children:f.jsx("h3",{className:"text-lg font-bold text-white text-center",children:t.name})}),f.jsx("div",{className:"bg-white p-3 border-x border-gray-200",children:f.jsxs("div",{className:"flex flex-col items-center gap-1",children:[f.jsxs("p",{className:"text-sm font-medium",children:["Full Day: ",t.fullDayTicket]}),t.halfDayTicket&&t.halfDayTicket!=="-"&&f.jsxs("p",{className:"text-sm font-medium",children:["Half Day: ",t.halfDayTicket]})]})}),f.jsx("div",{className:"flex h-8",children:n.map((i,s)=>f.jsx("div",{className:`${i.color} ${i.textColor} flex items-center justify-center text-xs font-medium`,style:{width:r},children:i.value},s))})]})})}function lV({priceRange:t,setPriceRange:e}){const n=r=>{const i=Number(r.target.value),[s,o]=t;r.target.name==="min"?e([Math.min(i,o-10),o]):e([s,Math.max(i,s+10)])};return f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Price Range"}),f.jsxs("div",{className:"relative pt-6",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"h-2 bg-gray-200 rounded-full",children:f.jsx("div",{className:"absolute h-2 bg-blue-500 rounded-full",style:{left:`${t[0]/200*100}%`,right:`${100-t[1]/200*100}%`}})}),f.jsx("input",{type:"range",name:"min",min:"0",max:"200",value:t[0],onChange:n,className:"absolute top-0 h-2 w-full appearance-none bg-transparent pointer-events-none [&::-webkit-slider-thumb]:pointer-events-auto [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:border-2 [&::-webkit-slider-thumb]:border-blue-500 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:pointer-events-auto [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:bg-white [&::-moz-range-thumb]:border-2 [&::-moz-range-thumb]:border-blue-500 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:cursor-pointer"}),f.jsx("input",{type:"range",name:"max",min:"0",max:"200",value:t[1],onChange:n,className:"absolute top-0 h-2 w-full appearance-none bg-transparent pointer-events-none [&::-webkit-slider-thumb]:pointer-events-auto [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:border-2 [&::-webkit-slider-thumb]:border-blue-500 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:pointer-events-auto [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:bg-white [&::-moz-range-thumb]:border-2 [&::-moz-range-thumb]:border-blue-500 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:cursor-pointer"})]}),f.jsxs("div",{className:"flex justify-between mt-4",children:[f.jsxs("span",{className:"font-medium",children:["$",t[0]]}),f.jsxs("span",{className:"font-medium",children:["$",t[1]]})]})]})]})}function cV({selectedDifficulties:t,setSelectedDifficulties:e}){const n=s=>{t.includes(s)?e(t.filter(o=>o!==s)):e([...t,s])},r=[{name:"Green",label:"Beginner",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:f.jsx("path",{fill:"currentColor",d:"M12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22"})}),bgColor:"bg-green-500",hoverColor:"hover:bg-green-600",activeColor:"active:bg-green-500",selectedColor:"bg-green-500",textColor:"text-white"},{name:"Blue",label:"Amateur",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:f.jsx("path",{fill:"currentColor",d:"M3 21V3h18v18z"})}),bgColor:"bg-blue-500",hoverColor:"hover:bg-blue-600",activeColor:"active:bg-blue-500",selectedColor:"bg-blue-500",textColor:"text-white"},{name:"Double Blue",label:"Intermediate",icon:f.jsxs("div",{className:"flex gap-1",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:f.jsx("path",{fill:"currentColor",d:"M3 21V3h18v18z"})}),f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:f.jsx("path",{fill:"currentColor",d:"M3 21V3h18v18z"})})]}),bgColor:"bg-blue-700",hoverColor:"hover:bg-blue-800",activeColor:"active:bg-blue-700",selectedColor:"bg-blue-700",textColor:"text-white"},{name:"Black",label:"Advanced",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:f.jsxs("g",{fill:"none",fillRule:"evenodd",children:[f.jsx("path",{d:"m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}),f.jsx("path",{fill:"currentColor",d:"M10.823 2.393a1.5 1.5 0 0 1 2.355 0l6.603 8.368a2 2 0 0 1 0 2.478l-6.603 8.368a1.5 1.5 0 0 1-2.356 0L4.22 13.24a2 2 0 0 1 0-2.478l6.603-8.368Z"})]})}),bgColor:"bg-black",hoverColor:"hover:bg-gray-900",activeColor:"active:bg-black",selectedColor:"bg-black",textColor:"text-white"},{name:"Double Black",label:"Expert",icon:f.jsxs("div",{className:"flex",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:f.jsxs("g",{fill:"none",fillRule:"evenodd",children:[f.jsx("path",{d:"m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}),f.jsx("path",{fill:"currentColor",d:"M10.823 2.393a1.5 1.5 0 0 1 2.355 0l6.603 8.368a2 2 0 0 1 0 2.478l-6.603 8.368a1.5 1.5 0 0 1-2.356 0L4.22 13.24a2 2 0 0 1 0-2.478l6.603-8.368Z"})]})}),f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:f.jsxs("g",{fill:"none",fillRule:"evenodd",children:[f.jsx("path",{d:"m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}),f.jsx("path",{fill:"currentColor",d:"M10.823 2.393a1.5 1.5 0 0 1 2.355 0l6.603 8.368a2 2 0 0 1 0 2.478l-6.603 8.368a1.5 1.5 0 0 1-2.356 0L4.22 13.24a2 2 0 0 1 0-2.478l6.603-8.368Z"})]})})]}),bgColor:"bg-black",hoverColor:"hover:bg-gray-900",activeColor:"active:bg-black",selectedColor:"bg-black",textColor:"text-yellow-400"}],i=()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-400",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})});return f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Difficulty Levels"}),f.jsx("div",{className:"space-y-2",children:r.map(s=>f.jsxs("button",{onClick:()=>n(s.name),className:`w-full p-3 rounded-lg transition-colors duration-200 flex items-center justify-between ${s.bgColor} ${t.includes(s.name)?s.selectedColor:`${s.hoverColor} ${s.activeColor}`}`,children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("span",{className:`font-mono text-lg ${s.textColor}`,children:s.icon}),f.jsx("span",{className:s.textColor,children:s.label})]}),t.includes(s.name)&&f.jsx("div",{className:"mr-2",children:f.jsx(i,{})})]},s.name))})]})}const uV=["East","West","Central","Rocky"];function dV({selectedRegion:t,setSelectedRegion:e,selectedStates:n,setSelectedStates:r,onRegionHover:i}){return f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Region Selection"}),f.jsx("div",{className:"grid grid-cols-2 gap-4",children:uV.map(s=>f.jsx("button",{onClick:()=>{e(t===s?"":s),r([])},onMouseEnter:()=>i(s),onMouseLeave:()=>i(""),className:`p-4 rounded-lg transition-all duration-200 ${t===s?"bg-blue-500 text-white shadow-lg scale-105":"bg-gray-100 hover:bg-gray-200"}`,children:s},s))})]})}const hV="pk.eyJ1Ijoiam9hcXVpbmdmMjEiLCJhIjoiY2x1dnZ1ZGFrMDduZTJrbWp6bHExbzNsYiJ9.ZOEuIV9R0ks2I5bYq40HZQ",fV=(t="")=>{const[e,n]=g.useState(t),[r,i]=g.useState([]),[s,o]=g.useState(!1),[a,l]=g.useState(null),c=g.useRef(null),u=async d=>{if(!d.trim()){i([]);return}try{o(!0),l(null);const h=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(d)}.json?access_token=${hV}&types=place,postcode,address&limit=5&country=us`);if(!h.ok)throw new Error(`Failed to fetch suggestions: ${h.statusText}`);const p=await h.json();i(p.features||[])}catch(h){console.error("Geocoding error:",h),l(h instanceof Error?h.message:"An error occurred while fetching suggestions"),i([])}finally{o(!1)}};return g.useEffect(()=>(c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{u(e)},300),()=>{c.current&&clearTimeout(c.current)}),[e]),{query:e,setQuery:n,suggestions:r,loading:s,error:a}};function pV({location:t,setLocation:e,maxDistance:n,setMaxDistance:r,setSelectedCoordinates:i}){const[s,o]=g.useState(!1),{query:a,setQuery:l,suggestions:c,loading:u,error:d}=fV(t),h=g.useRef(null);g.useEffect(()=>{const m=w=>{h.current&&!h.current.contains(w.target)&&o(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const p=m=>{e(m.place_name),l(m.place_name),o(!1),m.geometry&&m.geometry.coordinates&&i([m.geometry.coordinates[0],m.geometry.coordinates[1]])};return f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Distance Filter"}),f.jsxs("div",{className:"relative",ref:h,children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Your Location"}),f.jsx("input",{type:"text",value:a,onChange:m=>{l(m.target.value),o(!0),m.target.value||i(null)},onFocus:()=>o(!0),placeholder:"Enter city or zip code",className:"mt-1 block w-full rounded-md border border-gray-300 shadow-sm p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),u&&f.jsx("div",{className:"absolute right-2 top-9",children:f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"})}),d&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:d==="Failed to fetch suggestions"?"Unable to find locations. Please try again.":d}),s&&c.length>0&&f.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white rounded-md shadow-lg border border-gray-200 max-h-60 overflow-auto",children:c.map(m=>f.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 focus:bg-gray-100 focus:outline-none text-gray-600",onClick:()=>p(m),children:m.place_name},m.id))})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Maximum Distance: ",n," miles"]}),f.jsx("input",{type:"range",min:"0",max:"500",value:n,onChange:m=>r(Number(m.target.value)),className:"w-full mt-2"})]})]})}const mV=["Night Skiing","Terrain Park","Backcountry Access","Snow Tubing","Ice Skating"];function gV({selectedAmenities:t,setSelectedAmenities:e}){return f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Amenities"}),f.jsx("div",{className:"space-y-2",children:mV.map(n=>f.jsxs("label",{className:"flex items-center space-x-2",children:[f.jsx("input",{type:"checkbox",checked:t.includes(n),onChange:r=>{r.target.checked?e([...t,n]):e(t.filter(i=>i!==n))},className:"rounded"}),f.jsx("span",{children:n})]},n))})]})}const vV=["Small","Medium","Large"];function yV({selectedCitySize:t,setSelectedCitySize:e}){return f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"City Size"}),f.jsx("div",{className:"space-y-2",children:vV.map(n=>f.jsxs("label",{className:"flex items-center space-x-2",children:[f.jsx("input",{type:"radio",name:"citySize",value:n,checked:t===n,onChange:r=>e(r.target.value),className:"rounded"}),f.jsx("span",{children:n})]},n))})]})}const wV="/assets/states-CjjbrOxe.geojson";var st=63710088e-1,_V={centimeters:st*100,centimetres:st*100,degrees:360/(2*Math.PI),feet:st*3.28084,inches:st*39.37,kilometers:st/1e3,kilometres:st/1e3,meters:st,metres:st,miles:st/1609.344,millimeters:st*1e3,millimetres:st*1e3,nauticalmiles:st/1852,radians:1,yards:st*1.0936};function kE(t,e,n={}){const r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function xV(t,e,n={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!zw(t[0])||!zw(t[1]))throw new Error("coordinates must contain numbers");return kE({type:"Point",coordinates:t},e,n)}function CV(t,e,n={}){for(const i of t){if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(i[i.length-1].length!==i[0].length)throw new Error("First and last Position are not equivalent.");for(let s=0;s<i[i.length-1].length;s++)if(i[i.length-1][s]!==i[0][s])throw new Error("First and last Position are not equivalent.")}return kE({type:"Polygon",coordinates:t},e,n)}function bV(t,e="kilometers"){const n=_V[e];if(!n)throw new Error(e+" units is invalid");return t/n}function Bw(t){return t%(2*Math.PI)*180/Math.PI}function Bd(t){return t%360*Math.PI/180}function zw(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function SV(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function EV(t,e,n,r={}){const i=SV(t),s=Bd(i[0]),o=Bd(i[1]),a=Bd(n),l=bV(e,r.units),c=Math.asin(Math.sin(o)*Math.cos(l)+Math.cos(o)*Math.sin(l)*Math.cos(a)),u=s+Math.atan2(Math.sin(a)*Math.sin(l)*Math.cos(o),Math.cos(l)-Math.sin(o)*Math.sin(c)),d=Bw(u),h=Bw(c);return xV([d,h],r.properties)}function TV(t,e,n={}){const r=n.steps||64,i=n.properties?n.properties:!Array.isArray(t)&&t.type==="Feature"&&t.properties?t.properties:{},s=[];for(let o=0;o<r;o++)s.push(EV(t,e,o*-360/r,n).geometry.coordinates);return s.push(s[0]),CV([s],i)}const kV="pk.eyJ1Ijoiam9hcXVpbmdmMjEiLCJhIjoiY2x1dnZ1ZGFrMDduZTJrbWp6bHExbzNsYiJ9.ZOEuIV9R0ks2I5bYq40HZQ",Fn={East:"#4264fb",West:"#D7961F",Rocky:"#fb4242",Central:"#003E1F"},Ww={East:{center:[-78.5,42],zoom:4,bounds:{north:47.5,south:35,east:-67,west:-85}},West:{center:[-120,43],zoom:4,bounds:{north:49,south:32,east:-110,west:-125}},Rocky:{center:[-109,43],zoom:4,bounds:{north:49,south:31,east:-103,west:-115}},Central:{center:[-92,42],zoom:4,bounds:{north:49,south:29,east:-85,west:-103}}},PV=t=>({eastern:"East",western:"West",rocky:"Rocky",central:"Central",east:"East",west:"West"})[t.toLowerCase()]||"";function NV(){const t=_a(),[e,n]=g.useState([]),[r,i]=g.useState(null),[s,o]=g.useState(null),[a,l]=g.useState(""),c=g.useRef(null),[u,d]=g.useState(null),[h,p]=g.useState([0,200]),[m,w]=g.useState([]),[x,v]=g.useState(""),[y,_]=g.useState([]),[C,b]=g.useState(""),[S,k]=g.useState(100),[T,L]=g.useState([]),[A,z]=g.useState(""),D=()=>{if(!c.current||!u)return;const E=c.current;E.getLayer("distance-fill")&&E.removeLayer("distance-fill"),E.getSource("distance-source")&&E.removeSource("distance-source");const R=u,M=S*1.609,ge=TV(R,M,{steps:64,units:"kilometers"});E.addSource("distance-source",{type:"geojson",data:ge}),E.addLayer({id:"distance-fill",type:"fill",source:"distance-source",paint:{"fill-color":"#4264fb","fill-opacity":.2},filter:["==","$type","Polygon"]},"region-states-outline")},X=async E=>{const R=E.target;c.current=R;try{if(!R.getSource("states")){const Y=await(await fetch(wV)).json();R.addSource("states",{type:"geojson",data:Y}),R.addLayer({id:"us-mask",type:"fill",source:"states",layout:{},paint:{"fill-color":"#000","fill-opacity":0}}),R.addLayer({id:"region-states-fill",type:"fill",source:"states",layout:{},paint:{"fill-color":["match",["get","REGION"],"East",Fn.East,"West",Fn.West,"Rocky",Fn.Rocky,"Central",Fn.Central,"#000000"],"fill-opacity":["case",["==",["get","REGION"],""],0,.2]}}),R.addLayer({id:"region-states-outline",type:"line",source:"states",layout:{},paint:{"line-color":["match",["get","REGION"],"East",Fn.East,"West",Fn.West,"Rocky",Fn.Rocky,"Central",Fn.Central,"#000000"],"line-width":["case",["==",["get","REGION"],""],0,1]}})}}catch(M){console.error("Error loading GeoJSON:",M)}},q=E=>{switch(E){case"price":return h[0]>0||h[1]<200;case"difficulty":return m.length>0;case"region":return x!=="";case"distance":return C!==""&&u!==null;case"amenities":return T.length>0;case"city":return A!=="";default:return!1}},ae=E=>{const R="px-4 py-1 text-gray-800 rounded-full shadow transition-colors flex items-center gap-1 mt-1 ml-1",M=q(E),Y=s===E;return M&&Y?`${R} bg-blue-500 ring-2 ring-blue-500 text-white`:M?`${R} bg-blue-500 hover:bg-blue-100 text-white`:Y?`${R} bg-white ring-2 ring-blue-500 hover:bg-gray-100`:`${R} bg-white hover:bg-gray-100`};g.useEffect(()=>{const E=t.state;if(!E){console.log("No quiz state found");return}console.log("Quiz State:",E);const R="address"in E;if(console.log("Is Beginner Quiz:",R),R){const M=E;if(console.log("Beginner Quiz State:",M),M.costType==="daily"){const Y=Number(M.costAmount);console.log("Setting price range:",[0,Y]),p([0,Y])}console.log("Setting difficulty to Green"),w(["Green"]),o("difficulty"),M.address&&(console.log("Setting location:",M.address),b(M.address),o("distance"))}else{const M=E;if(console.log("Experienced Quiz State:",M),M.region){const ge=PV(M.region);console.log("Setting normalized region:",ge),v(ge),ge&&(o("region"),setTimeout(()=>{o(null)},500))}const Y={beginner:["Green"],intermediate:["Blue"],advanced:["Black"],expert:["Double Black"]};if(M.skill&&Y[M.skill]){const ge=Y[M.skill];console.log("Setting difficulties:",ge),w(ge),o("difficulty")}if(M.budget){const ge={budget:[0,100],moderate:[100,200],premium:[200,300],luxury:[300,500]};if(ge[M.budget]){const He=ge[M.budget];console.log("Setting price range:",He),p(He)}}setTimeout(()=>{console.log("Setting active filter to region"),o("region")},100)}},[]),g.useEffect(()=>{const E=Mu(Ou,"resorts");SE(E,R=>{const M=R.val();M&&n(Object.values(M))})},[]),g.useEffect(()=>{D()},[u,S]),g.useEffect(()=>()=>{const E=c.current;E&&(E.getLayer("distance-fill")&&E.removeLayer("distance-fill"),E.getSource("distance-source")&&E.removeSource("distance-source"))},[]),g.useEffect(()=>{if(c.current&&s==="region")if(x&&Ww[x]){const E=Ww[x];c.current.flyTo({center:E.center,zoom:E.zoom,duration:1500,padding:{top:50,bottom:50,left:50,right:50}})}else c.current.flyTo({center:[-98.5795,23.8283],zoom:2,duration:1500})},[s,x]),g.useEffect(()=>()=>{const E=c.current;E&&(E.getLayer("region-states-outline")&&E.removeLayer("region-states-outline"),E.getLayer("region-states-fill")&&E.removeLayer("region-states-fill"),E.getSource("states")&&E.removeSource("states"))},[]);const Z=g.useMemo(()=>e.filter(E=>{if(x&&E.region!==x)return!1;const R=parseFloat(E.fullDayTicket.replace(/[^0-9.]/g,""));if(isNaN(R)||R<h[0]||R>h[1])return!1;if(m.length>0){const M={Green:E.green,Blue:E.blue,"Double Blue":E.doubleBlue,Black:E.black,"Double Black":E.doubleBlack};if(!m.some(ge=>{const He=parseFloat(M[ge].replace("%",""));return!isNaN(He)&&He>=30}))return!1}if(T.length>0){const M={"Night Skiing":E.nightSkiing,"Terrain Park":E.terrainPark==="Yes","Backcountry Access":E.backcountry,"Snow Tubing":E.snowTubing,"Ice Skating":E.iceSkating};if(!T.every(ge=>M[ge]))return!1}return!0}),[e,h,m,x,T]),U=()=>{switch(s){case"price":return f.jsx(lV,{priceRange:h,setPriceRange:p});case"difficulty":return f.jsx(cV,{selectedDifficulties:m,setSelectedDifficulties:w});case"region":return f.jsx(dV,{selectedRegion:x,setSelectedRegion:v,selectedStates:y,setSelectedStates:_,onRegionHover:l});case"distance":return f.jsx(pV,{location:C,setLocation:b,maxDistance:S,setMaxDistance:k,setSelectedCoordinates:d});case"amenities":return f.jsx(gV,{selectedAmenities:T,setSelectedAmenities:L});case"city":return f.jsx(yV,{selectedCitySize:A,setSelectedCitySize:z});default:return null}},P=E=>{E.originalEvent.target instanceof HTMLElement&&E.originalEvent.target.closest(".mapboxgl-marker")||(o(null),l(""))};return f.jsxs("div",{className:"relative w-full h-screen",children:[f.jsx("div",{className:"absolute top-4 left-0 right-0 z-10 mx-4",children:f.jsxs("div",{className:"flex overflow-x-auto gap-2 pb-2 no-scrollbar max-w-full",children:[f.jsxs("button",{onClick:()=>o("price"),className:ae("price"),children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:f.jsx("path",{fill:"currentColor",d:"M7 15h2c0 1.08 1.37 2 3 2s3-.92 3-2c0-1.1-1.04-1.5-3.24-2.03C9.64 12.44 7 11.78 7 9c0-1.79 1.47-3.31 3.5-3.82V3h3v2.18C15.53 5.69 17 7.21 17 9h-2c0-1.08-1.37-2-3-2s-3 .92-3 2c0 1.1 1.04 1.5 3.24 2.03C14.36 11.56 17 12.22 17 15c0 1.79-1.47 3.31-3.5 3.82V21h-3v-2.18C8.47 18.31 7 16.79 7 15"})}),"Price"]}),f.jsxs("button",{onClick:()=>o("difficulty"),className:ae("difficulty"),children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:f.jsx("path",{fill:"currentColor",d:"M1 21L12 2l11 19zm3.45-2h15.1L12 6zM12 18q.425 0 .713-.288T13 17t-.288-.712T12 16t-.712.288T11 17t.288.713T12 18m-1-3h2v-5h-2zm1-2.5"})}),"Difficulty"]}),f.jsxs("button",{onClick:()=>o("region"),className:ae("region"),children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:f.jsx("path",{fill:"currentColor",d:"m15 21l-6-2.1l-6 2.325V5.05L9 3l6 2.1l6-2.325V18.95zm-1-2.45V6.85l-4-1.4v11.7zm2 0l3-1V5.7l-3 1.15zM5 18.3l3-1.15V5.45l-3 1zM16 6.85v11.7zm-8-1.4v11.7z"})}),"Region"]}),f.jsxs("button",{onClick:()=>o("distance"),className:ae("distance"),children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:f.jsx("path",{fill:"currentColor",d:"m6.343 14.728l-2.828 2.829l3.535 3.535L20.485 7.657L16.95 4.121l-2.121 2.122l1.414 1.414l-1.414 1.414l-1.415-1.414l-2.121 2.121l2.121 2.122L12 13.314l-2.12-2.121l-2.122 2.12l1.415 1.415l-1.415 1.414z"})}),"Distance"]}),f.jsxs("button",{onClick:()=>o("amenities"),className:ae("amenities"),children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:f.jsx("path",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",stroke:"currentColor",d:"M7.5 11.5v3M6 13h3m3-4.653c2.005 0 3.7-1.888 5.786-1.212c2.264.733 3.82 3.413 3.708 9.492c-.022 1.224-.336 2.578-1.546 3.106c-2.797 1.221-4.397-2.328-7-2.328h-1.897c-2.605 0-4.213 3.545-6.998 2.328c-1.21-.528-1.525-1.882-1.547-3.107c-.113-6.078 1.444-8.758 3.708-9.491C8.299 6.459 9.994 8.347 12 8.347m0-4.565v4.342M14.874 13h3"})}),"Amenities"]}),f.jsxs("button",{onClick:()=>o("city"),className:ae("city"),children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:f.jsxs("g",{fill:"none",children:[f.jsx("path",{fill:"currentColor",d:"M3.75 18a.75.75 0 0 0-1.5 0zm-1.5-4a.75.75 0 0 0 1.5 0zM7 8.75c.964 0 1.612.002 2.095.067c.461.062.659.169.789.3l1.06-1.062c-.455-.455-1.022-.64-1.65-.725c-.606-.082-1.372-.08-2.294-.08zM11.75 12c0-.922.002-1.688-.08-2.294c-.084-.628-.27-1.195-.726-1.65l-1.06 1.06c.13.13.237.328.3.79c.064.482.066 1.13.066 2.094zM7 7.25c-.922 0-1.688-.002-2.294.08c-.628.084-1.195.27-1.65.725l1.06 1.061c.13-.13.328-.237.79-.3c.482-.064 1.13-.066 2.094-.066zM3.75 12c0-.964.002-1.612.067-2.095c.062-.461.169-.659.3-.789l-1.062-1.06c-.455.455-.64 1.022-.725 1.65c-.082.606-.08 1.372-.08 2.294zm0 10v-4h-1.5v4zm0-8v-2h-1.5v2z"}),f.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"1.5",d:"M7 22v-6c0-1.886 0-2.828.586-3.414S9.114 12 11 12h2c1.886 0 2.828 0 3.414.586c.472.471.564 1.174.582 2.414M17 22v-2.75m4-11.478c0-1.34 0-2.011-.356-2.525s-.984-.75-2.24-1.22c-2.455-.921-3.682-1.381-4.543-.785C13 3.84 13 5.15 13 7.772V12m8 10V12M4 8V6.5c0-.943 0-1.414.293-1.707S5.057 4.5 6 4.5h2c.943 0 1.414 0 1.707.293S10 5.557 10 6.5V8M7 4V2m15 20H2m8-7h.5m3.5 0h-1.5M10 18h4"})]})}),"City"]})]})}),f.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-white rounded-t-xl shadow-lg transform transition-transform duration-300 ease-in-out z-20 ${s?"translate-y-0":"translate-y-full"}`,style:{height:"50vh"},children:[f.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[f.jsxs("h2",{className:"text-xl font-semibold",children:[s?s.charAt(0).toUpperCase()+s.slice(1):""," Filter"]}),f.jsx("button",{onClick:()=>{o(null),l("")},className:"p-2 hover:bg-gray-100 rounded-full",children:f.jsx(YM,{className:"w-6 h-6"})})]}),f.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"calc(50vh - 4rem)"},children:U()})]}),f.jsxs(HO,{initialViewState:{longitude:-100,latitude:40,zoom:3},mapboxAccessToken:kV,style:{width:"100%",height:"100%"},mapStyle:"mapbox://styles/mapbox/outdoors-v12",reuseMaps:!0,onClick:P,onLoad:X,children:[Z.map((E,R)=>E.latitude&&E.longitude?f.jsx(N0,{latitude:Number(E.latitude),longitude:Number(E.longitude),onClick:M=>{M.originalEvent.stopPropagation(),i(E)},children:f.jsx(As,{className:"text-blue-600 hover:text-blue-800 cursor-pointer"})},R):null),u&&f.jsx(N0,{latitude:u[1],longitude:u[0],children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:f.jsxs("g",{fill:"#f00",fillRule:"evenodd",clipRule:"evenodd",children:[f.jsx("path",{d:"M16.272 10.272a4 4 0 1 1-8 0a4 4 0 0 1 8 0m-2 0a2 2 0 1 1-4 0a2 2 0 0 1 4 0"}),f.jsx("path",{d:"M5.794 16.518a9 9 0 1 1 12.724-.312l-6.206 6.518zm11.276-1.691l-4.827 5.07l-5.07-4.827a7 7 0 1 1 9.897-.243"})]})})}),r&&f.jsx(aV,{resort:r,onClose:()=>i(null)})]})]})}function PE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=PE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function NE(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=PE(t))&&(r&&(r+=" "),r+=e);return r}const _g="-",IV=t=>{const e=AV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(_g);return a[0]===""&&a.length!==1&&a.shift(),IE(a,e)||RV(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},IE=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?IE(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(_g);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},$w=/^\[(.+)\]$/,RV=t=>{if($w.test(t)){const e=$w.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},AV=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return OV(Object.entries(t.classGroups),n).forEach(([s,o])=>{Df(o,r,s,e)}),r},Df=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Hw(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(MV(i)){Df(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Df(o,Hw(e,s),n,r)})})},Hw=(t,e)=>{let n=t;return e.split(_g).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},MV=t=>t.isThemeGetter,OV=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,LV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},RE="!",DV=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let x=0;x<a.length;x++){let v=a[x];if(c===0){if(v===i&&(r||a.slice(x,x+s)===e)){l.push(a.slice(u,x)),u=x+s;continue}if(v==="/"){d=x;continue}}v==="["?c++:v==="]"&&c--}const h=l.length===0?a:a.substring(u),p=h.startsWith(RE),m=p?h.substring(1):h,w=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},jV=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},FV=t=>({cache:LV(t.cacheSize),parseClassName:DV(t),...IV(t)}),VV=/\s+/,UV=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(VV);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=n(c);let m=!!p,w=r(m?h.substring(0,p):h);if(!w){if(!m){a=c+(a.length>0?" "+a:a);continue}if(w=r(h),!w){a=c+(a.length>0?" "+a:a);continue}m=!1}const x=jV(u).join(":"),v=d?x+RE:x,y=v+w;if(s.includes(y))continue;s.push(y);const _=i(w,m);for(let C=0;C<_.length;++C){const b=_[C];s.push(v+b)}a=c+(a.length>0?" "+a:a)}return a};function BV(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=AE(e))&&(r&&(r+=" "),r+=n);return r}const AE=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=AE(t[r]))&&(n&&(n+=" "),n+=e);return n};function zV(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=FV(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=UV(l,n);return i(l,u),u}return function(){return s(BV.apply(null,arguments))}}const le=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},ME=/^\[(?:([a-z-]+):)?(.+)\]$/i,WV=/^\d+\/\d+$/,$V=new Set(["px","full","screen"]),HV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rn=t=>ts(t)||$V.has(t)||WV.test(t),Vn=t=>Bs(t,"length",r6),ts=t=>!!t&&!Number.isNaN(Number(t)),zd=t=>Bs(t,"number",ts),so=t=>!!t&&Number.isInteger(Number(t)),QV=t=>t.endsWith("%")&&ts(t.slice(0,-1)),B=t=>ME.test(t),Un=t=>HV.test(t),XV=new Set(["length","size","percentage"]),ZV=t=>Bs(t,XV,OE),JV=t=>Bs(t,"position",OE),e6=new Set(["image","url"]),t6=t=>Bs(t,e6,s6),n6=t=>Bs(t,"",i6),oo=()=>!0,Bs=(t,e,n)=>{const r=ME.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},r6=t=>GV.test(t)&&!KV.test(t),OE=()=>!1,i6=t=>qV.test(t),s6=t=>YV.test(t),o6=()=>{const t=le("colors"),e=le("spacing"),n=le("blur"),r=le("brightness"),i=le("borderColor"),s=le("borderRadius"),o=le("borderSpacing"),a=le("borderWidth"),l=le("contrast"),c=le("grayscale"),u=le("hueRotate"),d=le("invert"),h=le("gap"),p=le("gradientColorStops"),m=le("gradientColorStopPositions"),w=le("inset"),x=le("margin"),v=le("opacity"),y=le("padding"),_=le("saturate"),C=le("scale"),b=le("sepia"),S=le("skew"),k=le("space"),T=le("translate"),L=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",B,e],D=()=>[B,e],X=()=>["",rn,Vn],q=()=>["auto",ts,B],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],E=()=>["","0",B],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[ts,B];return{cacheSize:500,separator:":",theme:{colors:[oo],spacing:[rn,Vn],blur:["none","",Un,B],brightness:M(),borderColor:[t],borderRadius:["none","","full",Un,B],borderSpacing:D(),borderWidth:X(),contrast:M(),grayscale:E(),hueRotate:M(),invert:E(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[QV,Vn],inset:z(),margin:z(),opacity:M(),padding:D(),saturate:M(),scale:M(),sepia:E(),skew:M(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",B]}],container:["container"],columns:[{columns:[Un]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),B]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",so,B]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",B]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",so,B]}],"grid-cols":[{"grid-cols":[oo]}],"col-start-end":[{col:["auto",{span:["full",so,B]},B]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[oo]}],"row-start-end":[{row:["auto",{span:[so,B]},B]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",B]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",B]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",B,e]}],"min-w":[{"min-w":[B,e,"min","max","fit"]}],"max-w":[{"max-w":[B,e,"none","full","min","max","fit","prose",{screen:[Un]},Un]}],h:[{h:[B,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[B,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[B,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[B,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Un,Vn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zd]}],"font-family":[{font:[oo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",B]}],"line-clamp":[{"line-clamp":["none",ts,zd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",rn,B]}],"list-image":[{"list-image":["none",B]}],"list-style-type":[{list:["none","disc","decimal",B]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",rn,Vn]}],"underline-offset":[{"underline-offset":["auto",rn,B]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",B]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",B]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),JV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},t6]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:Z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[rn,B]}],"outline-w":[{outline:[rn,Vn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[rn,Vn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Un,n6]}],"shadow-color":[{shadow:[oo]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Un,B]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",B]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",B]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",B]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[so,B]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",B]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",B]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",B]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[rn,Vn,zd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},a6=zV(o6);function Mr(...t){return a6(NE(t))}const LE=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Mr("rounded-xl border bg-card text-card-foreground shadow",t),...e}));LE.displayName="Card";const DE=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Mr("flex flex-col space-y-1.5 p-6",t),...e}));DE.displayName="CardHeader";const jE=g.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:Mr("font-semibold leading-none tracking-tight",t),...e}));jE.displayName="CardTitle";const l6=g.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:Mr("text-sm text-muted-foreground",t),...e}));l6.displayName="CardDescription";const FE=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Mr("p-6 pt-0",t),...e}));FE.displayName="CardContent";const c6=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Mr("flex items-center p-6 pt-0",t),...e}));c6.displayName="CardFooter";const Gw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Kw=NE,u6=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Kw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const h=Gw(u)||Gw(d);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...p}=u;return Object.entries(p).every(m=>{let[w,x]=m;return Array.isArray(x)?x.includes({...s,...a}[w]):{...s,...a}[w]===x})?[...c,d,h]:c},[]);return Kw(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},d6=u6("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xi({className:t,variant:e,...n}){return f.jsx("div",{className:Mr(d6({variant:e}),t),...n})}function hr(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function qw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function VE(...t){return e=>{let n=!1;const r=t.map(i=>{const s=qw(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():qw(t[i],null)}}}}function Or(...t){return g.useCallback(VE(...t),t)}function UE(t,e=[]){let n=[];function r(s,o){const a=g.createContext(o),l=n.length;n=[...n,o];const c=d=>{var v;const{scope:h,children:p,...m}=d,w=((v=h==null?void 0:h[t])==null?void 0:v[l])||a,x=g.useMemo(()=>m,Object.values(m));return f.jsx(w.Provider,{value:x,children:p})};c.displayName=s+"Provider";function u(d,h){var w;const p=((w=h==null?void 0:h[t])==null?void 0:w[l])||a,m=g.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,h6(i,...e)]}function h6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var xg=g.forwardRef((t,e)=>{const{children:n,...r}=t,i=g.Children.toArray(n),s=i.find(p6);if(s){const o=s.props.children,a=i.map(l=>l===s?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:l);return f.jsx(jf,{...r,ref:e,children:g.isValidElement(o)?g.cloneElement(o,void 0,a):null})}return f.jsx(jf,{...r,ref:e,children:n})});xg.displayName="Slot";var jf=g.forwardRef((t,e)=>{const{children:n,...r}=t;if(g.isValidElement(n)){const i=g6(n);return g.cloneElement(n,{...m6(r,n.props),ref:e?VE(e,i):i})}return g.Children.count(n)>1?g.Children.only(null):null});jf.displayName="SlotClone";var f6=({children:t})=>f.jsx(f.Fragment,{children:t});function p6(t){return g.isValidElement(t)&&t.type===f6}function m6(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function g6(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var v6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ln=v6.reduce((t,e)=>{const n=g.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?xg:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function y6(t,e){t&&Ps.flushSync(()=>t.dispatchEvent(e))}function _r(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function w6(t,e=globalThis==null?void 0:globalThis.document){const n=_r(t);g.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var _6="DismissableLayer",Ff="dismissableLayer.update",x6="dismissableLayer.pointerDownOutside",C6="dismissableLayer.focusOutside",Yw,BE=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zE=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=g.useContext(BE),[u,d]=g.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),m=Or(e,k=>d(k)),w=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=w.indexOf(x),y=u?w.indexOf(u):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,C=y>=v,b=E6(k=>{const T=k.target,L=[...c.branches].some(A=>A.contains(T));!C||L||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},h),S=T6(k=>{const T=k.target;[...c.branches].some(A=>A.contains(T))||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},h);return w6(k=>{y===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),g.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Yw=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Qw(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Yw)}},[u,h,n,c]),g.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Qw())},[u,c]),g.useEffect(()=>{const k=()=>p({});return document.addEventListener(Ff,k),()=>document.removeEventListener(Ff,k)},[]),f.jsx(Ln.div,{...l,ref:m,style:{pointerEvents:_?C?"auto":"none":void 0,...t.style},onFocusCapture:hr(t.onFocusCapture,S.onFocusCapture),onBlurCapture:hr(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:hr(t.onPointerDownCapture,b.onPointerDownCapture)})});zE.displayName=_6;var b6="DismissableLayerBranch",S6=g.forwardRef((t,e)=>{const n=g.useContext(BE),r=g.useRef(null),i=Or(e,r);return g.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),f.jsx(Ln.div,{...t,ref:i})});S6.displayName=b6;function E6(t,e=globalThis==null?void 0:globalThis.document){const n=_r(t),r=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){WE(x6,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function T6(t,e=globalThis==null?void 0:globalThis.document){const n=_r(t),r=g.useRef(!1);return g.useEffect(()=>{const i=s=>{s.target&&!r.current&&WE(C6,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Qw(){const t=new CustomEvent(Ff);document.dispatchEvent(t)}function WE(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?y6(i,s):i.dispatchEvent(s)}var Wd=0;function k6(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Xw()),document.body.insertAdjacentElement("beforeend",t[1]??Xw()),Wd++,()=>{Wd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Wd--}},[])}function Xw(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var $d="focusScope.autoFocusOnMount",Hd="focusScope.autoFocusOnUnmount",Zw={bubbles:!1,cancelable:!0},P6="FocusScope",$E=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=g.useState(null),c=_r(i),u=_r(s),d=g.useRef(null),h=Or(e,w=>l(w)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let w=function(_){if(p.paused||!a)return;const C=_.target;a.contains(C)?d.current=C:zn(d.current,{select:!0})},x=function(_){if(p.paused||!a)return;const C=_.relatedTarget;C!==null&&(a.contains(C)||zn(d.current,{select:!0}))},v=function(_){if(document.activeElement===document.body)for(const b of _)b.removedNodes.length>0&&zn(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",x);const y=new MutationObserver(v);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",x),y.disconnect()}}},[r,a,p.paused]),g.useEffect(()=>{if(a){e_.add(p);const w=document.activeElement;if(!a.contains(w)){const v=new CustomEvent($d,Zw);a.addEventListener($d,c),a.dispatchEvent(v),v.defaultPrevented||(N6(O6(HE(a)),{select:!0}),document.activeElement===w&&zn(a))}return()=>{a.removeEventListener($d,c),setTimeout(()=>{const v=new CustomEvent(Hd,Zw);a.addEventListener(Hd,u),a.dispatchEvent(v),v.defaultPrevented||zn(w??document.body,{select:!0}),a.removeEventListener(Hd,u),e_.remove(p)},0)}}},[a,c,u,p]);const m=g.useCallback(w=>{if(!n&&!r||p.paused)return;const x=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,v=document.activeElement;if(x&&v){const y=w.currentTarget,[_,C]=I6(y);_&&C?!w.shiftKey&&v===C?(w.preventDefault(),n&&zn(_,{select:!0})):w.shiftKey&&v===_&&(w.preventDefault(),n&&zn(C,{select:!0})):v===y&&w.preventDefault()}},[n,r,p.paused]);return f.jsx(Ln.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});$E.displayName=P6;function N6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(zn(r,{select:e}),document.activeElement!==n)return}function I6(t){const e=HE(t),n=Jw(e,t),r=Jw(e.reverse(),t);return[n,r]}function HE(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Jw(t,e){for(const n of t)if(!R6(n,{upTo:e}))return n}function R6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function A6(t){return t instanceof HTMLInputElement&&"select"in t}function zn(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&A6(t)&&e&&t.select()}}var e_=M6();function M6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=t_(t,e),t.unshift(e)},remove(e){var n;t=t_(t,e),(n=t[0])==null||n.resume()}}}function t_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function O6(t){return t.filter(e=>e.tagName!=="A")}var di=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},L6=k_.useId||(()=>{}),D6=0;function j6(t){const[e,n]=g.useState(L6());return di(()=>{t||n(r=>r??String(D6++))},[t]),t||(e?`radix-${e}`:"")}const F6=["top","right","bottom","left"],xr=Math.min,at=Math.max,Vc=Math.round,ll=Math.floor,Zt=t=>({x:t,y:t}),V6={left:"right",right:"left",bottom:"top",top:"bottom"},U6={start:"end",end:"start"};function Vf(t,e,n){return at(t,xr(e,n))}function Rn(t,e){return typeof t=="function"?t(e):t}function An(t){return t.split("-")[0]}function zs(t){return t.split("-")[1]}function Cg(t){return t==="x"?"y":"x"}function bg(t){return t==="y"?"height":"width"}function Cr(t){return["top","bottom"].includes(An(t))?"y":"x"}function Sg(t){return Cg(Cr(t))}function B6(t,e,n){n===void 0&&(n=!1);const r=zs(t),i=Sg(t),s=bg(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Uc(o)),[o,Uc(o)]}function z6(t){const e=Uc(t);return[Uf(t),e,Uf(e)]}function Uf(t){return t.replace(/start|end/g,e=>U6[e])}function W6(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function $6(t,e,n,r){const i=zs(t);let s=W6(An(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Uf)))),s}function Uc(t){return t.replace(/left|right|bottom|top/g,e=>V6[e])}function H6(t){return{top:0,right:0,bottom:0,left:0,...t}}function GE(t){return typeof t!="number"?H6(t):{top:t,right:t,bottom:t,left:t}}function Bc(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function n_(t,e,n){let{reference:r,floating:i}=t;const s=Cr(e),o=Sg(e),a=bg(o),l=An(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(zs(e)){case"start":p[o]-=h*(n&&c?-1:1);break;case"end":p[o]+=h*(n&&c?-1:1);break}return p}const G6=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=n_(c,r,l),h=r,p={},m=0;for(let w=0;w<a.length;w++){const{name:x,fn:v}=a[w],{x:y,y:_,data:C,reset:b}=await v({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,d=_??d,p={...p,[x]:{...p[x],...C}},b&&m<=50&&(m++,typeof b=="object"&&(b.placement&&(h=b.placement),b.rects&&(c=b.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):b.rects),{x:u,y:d}=n_(c,h,l)),w=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}};async function fa(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=Rn(e,t),m=GE(p),x=a[h?d==="floating"?"reference":"floating":d],v=Bc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},b=Bc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:_,strategy:l}):y);return{top:(v.top-b.top+m.top)/C.y,bottom:(b.bottom-v.bottom+m.bottom)/C.y,left:(v.left-b.left+m.left)/C.x,right:(b.right-v.right+m.right)/C.x}}const K6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Rn(t,e)||{};if(c==null)return{};const d=GE(u),h={x:n,y:r},p=Sg(i),m=bg(p),w=await o.getDimensions(c),x=p==="y",v=x?"top":"left",y=x?"bottom":"right",_=x?"clientHeight":"clientWidth",C=s.reference[m]+s.reference[p]-h[p]-s.floating[m],b=h[p]-s.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let k=S?S[_]:0;(!k||!await(o.isElement==null?void 0:o.isElement(S)))&&(k=a.floating[_]||s.floating[m]);const T=C/2-b/2,L=k/2-w[m]/2-1,A=xr(d[v],L),z=xr(d[y],L),D=A,X=k-w[m]-z,q=k/2-w[m]/2+T,ae=Vf(D,q,X),Z=!l.arrow&&zs(i)!=null&&q!==ae&&s.reference[m]/2-(q<D?A:z)-w[m]/2<0,U=Z?q<D?q-D:q-X:0;return{[p]:h[p]+U,data:{[p]:ae,centerOffset:q-ae-U,...Z&&{alignmentOffset:U}},reset:Z}}}),q6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:w=!0,...x}=Rn(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=An(i),y=Cr(a),_=An(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),b=h||(_||!w?[Uc(a)]:z6(a)),S=m!=="none";!h&&S&&b.push(...$6(a,w,m,C));const k=[a,...b],T=await fa(e,x),L=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&L.push(T[v]),d){const q=B6(i,o,C);L.push(T[q[0]],T[q[1]])}if(A=[...A,{placement:i,overflows:L}],!L.every(q=>q<=0)){var z,D;const q=(((z=s.flip)==null?void 0:z.index)||0)+1,ae=k[q];if(ae)return{data:{index:q,overflows:A},reset:{placement:ae}};let Z=(D=A.filter(U=>U.overflows[0]<=0).sort((U,P)=>U.overflows[1]-P.overflows[1])[0])==null?void 0:D.placement;if(!Z)switch(p){case"bestFit":{var X;const U=(X=A.filter(P=>{if(S){const E=Cr(P.placement);return E===y||E==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(E=>E>0).reduce((E,R)=>E+R,0)]).sort((P,E)=>P[1]-E[1])[0])==null?void 0:X[0];U&&(Z=U);break}case"initialPlacement":Z=a;break}if(i!==Z)return{reset:{placement:Z}}}return{}}}};function r_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function i_(t){return F6.some(e=>t[e]>=0)}const Y6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Rn(t,e);switch(r){case"referenceHidden":{const s=await fa(e,{...i,elementContext:"reference"}),o=r_(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:i_(o)}}}case"escaped":{const s=await fa(e,{...i,altBoundary:!0}),o=r_(s,n.floating);return{data:{escapedOffsets:o,escaped:i_(o)}}}default:return{}}}}};async function Q6(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=An(n),a=zs(n),l=Cr(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=Rn(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const X6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Q6(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Z6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:v,y}=x;return{x:v,y}}},...l}=Rn(t,e),c={x:n,y:r},u=await fa(e,l),d=Cr(An(i)),h=Cg(d);let p=c[h],m=c[d];if(s){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=p+u[x],_=p-u[v];p=Vf(y,p,_)}if(o){const x=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=m+u[x],_=m-u[v];m=Vf(y,m,_)}const w=a.fn({...e,[h]:p,[d]:m});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[h]:s,[d]:o}}}}}},J6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Rn(t,e),u={x:n,y:r},d=Cr(i),h=Cg(d);let p=u[h],m=u[d];const w=Rn(a,e),x=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const _=h==="y"?"height":"width",C=s.reference[h]-s.floating[_]+x.mainAxis,b=s.reference[h]+s.reference[_]-x.mainAxis;p<C?p=C:p>b&&(p=b)}if(c){var v,y;const _=h==="y"?"width":"height",C=["top","left"].includes(An(i)),b=s.reference[d]-s.floating[_]+(C&&((v=o.offset)==null?void 0:v[d])||0)+(C?0:x.crossAxis),S=s.reference[d]+s.reference[_]+(C?0:((y=o.offset)==null?void 0:y[d])||0)-(C?x.crossAxis:0);m<b?m=b:m>S&&(m=S)}return{[h]:p,[d]:m}}}},e8=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Rn(t,e),u=await fa(e,c),d=An(i),h=zs(i),p=Cr(i)==="y",{width:m,height:w}=s.floating;let x,v;d==="top"||d==="bottom"?(x=d,v=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,x=h==="end"?"top":"bottom");const y=w-u.top-u.bottom,_=m-u.left-u.right,C=xr(w-u[x],y),b=xr(m-u[v],_),S=!e.middlewareData.shift;let k=C,T=b;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=y),S&&!h){const A=at(u.left,0),z=at(u.right,0),D=at(u.top,0),X=at(u.bottom,0);p?T=m-2*(A!==0||z!==0?A+z:at(u.left,u.right)):k=w-2*(D!==0||X!==0?D+X:at(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:k});const L=await o.getDimensions(a.floating);return m!==L.width||w!==L.height?{reset:{rects:!0}}:{}}}};function Lu(){return typeof window<"u"}function Ws(t){return KE(t)?(t.nodeName||"").toLowerCase():"#document"}function ut(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tn(t){var e;return(e=(KE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function KE(t){return Lu()?t instanceof Node||t instanceof ut(t).Node:!1}function Ut(t){return Lu()?t instanceof Element||t instanceof ut(t).Element:!1}function Jt(t){return Lu()?t instanceof HTMLElement||t instanceof ut(t).HTMLElement:!1}function s_(t){return!Lu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ut(t).ShadowRoot}function La(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Bt(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function t8(t){return["table","td","th"].includes(Ws(t))}function Du(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Eg(t){const e=Tg(),n=Ut(t)?Bt(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function n8(t){let e=br(t);for(;Jt(e)&&!bs(e);){if(Eg(e))return e;if(Du(e))return null;e=br(e)}return null}function Tg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bs(t){return["html","body","#document"].includes(Ws(t))}function Bt(t){return ut(t).getComputedStyle(t)}function ju(t){return Ut(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function br(t){if(Ws(t)==="html")return t;const e=t.assignedSlot||t.parentNode||s_(t)&&t.host||tn(t);return s_(e)?e.host:e}function qE(t){const e=br(t);return bs(e)?t.ownerDocument?t.ownerDocument.body:t.body:Jt(e)&&La(e)?e:qE(e)}function pa(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=qE(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=ut(i);if(s){const a=Bf(o);return e.concat(o,o.visualViewport||[],La(i)?i:[],a&&n?pa(a):[])}return e.concat(i,pa(i,[],n))}function Bf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function YE(t){const e=Bt(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Jt(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Vc(n)!==s||Vc(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function kg(t){return Ut(t)?t:t.contextElement}function ns(t){const e=kg(t);if(!Jt(e))return Zt(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=YE(e);let o=(s?Vc(n.width):n.width)/r,a=(s?Vc(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const r8=Zt(0);function QE(t){const e=ut(t);return!Tg()||!e.visualViewport?r8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function i8(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ut(t)?!1:e}function hi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=kg(t);let o=Zt(1);e&&(r?Ut(r)&&(o=ns(r)):o=ns(t));const a=i8(s,n,r)?QE(s):Zt(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=ut(s),p=r&&Ut(r)?ut(r):r;let m=h,w=Bf(m);for(;w&&r&&p!==m;){const x=ns(w),v=w.getBoundingClientRect(),y=Bt(w),_=v.left+(w.clientLeft+parseFloat(y.paddingLeft))*x.x,C=v.top+(w.clientTop+parseFloat(y.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,d*=x.y,l+=_,c+=C,m=ut(w),w=Bf(m)}}return Bc({width:u,height:d,x:l,y:c})}function Pg(t,e){const n=ju(t).scrollLeft;return e?e.left+n:hi(tn(t)).left+n}function XE(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Pg(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function s8(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=tn(r),a=e?Du(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Zt(1);const u=Zt(0),d=Jt(r);if((d||!d&&!s)&&((Ws(r)!=="body"||La(o))&&(l=ju(r)),Jt(r))){const p=hi(r);c=ns(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const h=o&&!d&&!s?XE(o,l,!0):Zt(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function o8(t){return Array.from(t.getClientRects())}function a8(t){const e=tn(t),n=ju(t),r=t.ownerDocument.body,i=at(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=at(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Pg(t);const a=-n.scrollTop;return Bt(r).direction==="rtl"&&(o+=at(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function l8(t,e){const n=ut(t),r=tn(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=Tg();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function c8(t,e){const n=hi(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Jt(t)?ns(t):Zt(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function o_(t,e,n){let r;if(e==="viewport")r=l8(t,n);else if(e==="document")r=a8(tn(t));else if(Ut(e))r=c8(e,n);else{const i=QE(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Bc(r)}function ZE(t,e){const n=br(t);return n===e||!Ut(n)||bs(n)?!1:Bt(n).position==="fixed"||ZE(n,e)}function u8(t,e){const n=e.get(t);if(n)return n;let r=pa(t,[],!1).filter(a=>Ut(a)&&Ws(a)!=="body"),i=null;const s=Bt(t).position==="fixed";let o=s?br(t):t;for(;Ut(o)&&!bs(o);){const a=Bt(o),l=Eg(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||La(o)&&!l&&ZE(t,o))?r=r.filter(u=>u!==o):i=a,o=br(o)}return e.set(t,r),r}function d8(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Du(e)?[]:u8(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=o_(e,u,i);return c.top=at(d.top,c.top),c.right=xr(d.right,c.right),c.bottom=xr(d.bottom,c.bottom),c.left=at(d.left,c.left),c},o_(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function h8(t){const{width:e,height:n}=YE(t);return{width:e,height:n}}function f8(t,e,n){const r=Jt(e),i=tn(e),s=n==="fixed",o=hi(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Zt(0);if(r||!r&&!s)if((Ws(e)!=="body"||La(i))&&(a=ju(e)),r){const h=hi(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=Pg(i));const c=i&&!r&&!s?XE(i,a):Zt(0),u=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:o.width,height:o.height}}function Gd(t){return Bt(t).position==="static"}function a_(t,e){if(!Jt(t)||Bt(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return tn(t)===n&&(n=n.ownerDocument.body),n}function JE(t,e){const n=ut(t);if(Du(t))return n;if(!Jt(t)){let i=br(t);for(;i&&!bs(i);){if(Ut(i)&&!Gd(i))return i;i=br(i)}return n}let r=a_(t,e);for(;r&&t8(r)&&Gd(r);)r=a_(r,e);return r&&bs(r)&&Gd(r)&&!Eg(r)?n:r||n8(t)||n}const p8=async function(t){const e=this.getOffsetParent||JE,n=this.getDimensions,r=await n(t.floating);return{reference:f8(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function m8(t){return Bt(t).direction==="rtl"}const g8={convertOffsetParentRelativeRectToViewportRelativeRect:s8,getDocumentElement:tn,getClippingRect:d8,getOffsetParent:JE,getElementRects:p8,getClientRects:o8,getDimensions:h8,getScale:ns,isElement:Ut,isRTL:m8};function v8(t,e){let n=null,r;const i=tn(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:h}=t.getBoundingClientRect();if(a||e(),!d||!h)return;const p=ll(u),m=ll(i.clientWidth-(c+d)),w=ll(i.clientHeight-(u+h)),x=ll(c),y={rootMargin:-p+"px "+-m+"px "+-w+"px "+-x+"px",threshold:at(0,xr(1,l))||1};let _=!0;function C(b){const S=b[0].intersectionRatio;if(S!==l){if(!_)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(C,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,y)}n.observe(t)}return o(!0),s}function y8(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=kg(t),u=i||s?[...c?pa(c):[],...pa(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const d=c&&a?v8(c,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let m,w=l?hi(t):null;l&&x();function x(){const v=hi(t);w&&(v.x!==w.x||v.y!==w.y||v.width!==w.width||v.height!==w.height)&&n(),w=v,m=requestAnimationFrame(x)}return n(),()=>{var v;u.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const w8=X6,_8=Z6,x8=q6,C8=e8,b8=Y6,l_=K6,S8=J6,E8=(t,e,n)=>{const r=new Map,i={platform:g8,...n},s={...i.platform,_c:r};return G6(t,e,{...i,platform:s})};var Ll=typeof document<"u"?g.useLayoutEffect:g.useEffect;function zc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!zc(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!zc(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function eT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function c_(t,e){const n=eT(t);return Math.round(e*n)/n}function Kd(t){const e=g.useRef(t);return Ll(()=>{e.current=t}),e}function T8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=g.useState(r);zc(h,r)||p(r);const[m,w]=g.useState(null),[x,v]=g.useState(null),y=g.useCallback(P=>{P!==S.current&&(S.current=P,w(P))},[]),_=g.useCallback(P=>{P!==k.current&&(k.current=P,v(P))},[]),C=s||m,b=o||x,S=g.useRef(null),k=g.useRef(null),T=g.useRef(u),L=l!=null,A=Kd(l),z=Kd(i),D=Kd(c),X=g.useCallback(()=>{if(!S.current||!k.current)return;const P={placement:e,strategy:n,middleware:h};z.current&&(P.platform=z.current),E8(S.current,k.current,P).then(E=>{const R={...E,isPositioned:D.current!==!1};q.current&&!zc(T.current,R)&&(T.current=R,Ps.flushSync(()=>{d(R)}))})},[h,e,n,z,D]);Ll(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(P=>({...P,isPositioned:!1})))},[c]);const q=g.useRef(!1);Ll(()=>(q.current=!0,()=>{q.current=!1}),[]),Ll(()=>{if(C&&(S.current=C),b&&(k.current=b),C&&b){if(A.current)return A.current(C,b,X);X()}},[C,b,X,A,L]);const ae=g.useMemo(()=>({reference:S,floating:k,setReference:y,setFloating:_}),[y,_]),Z=g.useMemo(()=>({reference:C,floating:b}),[C,b]),U=g.useMemo(()=>{const P={position:n,left:0,top:0};if(!Z.floating)return P;const E=c_(Z.floating,u.x),R=c_(Z.floating,u.y);return a?{...P,transform:"translate("+E+"px, "+R+"px)",...eT(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:E,top:R}},[n,a,Z.floating,u.x,u.y]);return g.useMemo(()=>({...u,update:X,refs:ae,elements:Z,floatingStyles:U}),[u,X,ae,Z,U])}const k8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?l_({element:r.current,padding:i}).fn(n):{}:r?l_({element:r,padding:i}).fn(n):{}}}},P8=(t,e)=>({...w8(t),options:[t,e]}),N8=(t,e)=>({..._8(t),options:[t,e]}),I8=(t,e)=>({...S8(t),options:[t,e]}),R8=(t,e)=>({...x8(t),options:[t,e]}),A8=(t,e)=>({...C8(t),options:[t,e]}),M8=(t,e)=>({...b8(t),options:[t,e]}),O8=(t,e)=>({...k8(t),options:[t,e]});var L8="Arrow",tT=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return f.jsx(Ln.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});tT.displayName=L8;var D8=tT;function j8(t){const[e,n]=g.useState(void 0);return di(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ng="Popper",[nT,rT]=UE(Ng),[F8,iT]=nT(Ng),sT=t=>{const{__scopePopper:e,children:n}=t,[r,i]=g.useState(null);return f.jsx(F8,{scope:e,anchor:r,onAnchorChange:i,children:n})};sT.displayName=Ng;var oT="PopperAnchor",aT=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=iT(oT,n),o=g.useRef(null),a=Or(e,o);return g.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(Ln.div,{...i,ref:a})});aT.displayName=oT;var Ig="PopperContent",[V8,U8]=nT(Ig),lT=g.forwardRef((t,e)=>{var Dr,Og,Lg,Dg,jg,Fg;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...w}=t,x=iT(Ig,n),[v,y]=g.useState(null),_=Or(e,Hs=>y(Hs)),[C,b]=g.useState(null),S=j8(C),k=(S==null?void 0:S.width)??0,T=(S==null?void 0:S.height)??0,L=r+(s!=="center"?"-"+s:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},z=Array.isArray(c)?c:[c],D=z.length>0,X={padding:A,boundary:z.filter(z8),altBoundary:D},{refs:q,floatingStyles:ae,placement:Z,isPositioned:U,middlewareData:P}=T8({strategy:"fixed",placement:L,whileElementsMounted:(...Hs)=>y8(...Hs,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[P8({mainAxis:i+T,alignmentAxis:o}),l&&N8({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?I8():void 0,...X}),l&&R8({...X}),A8({...X,apply:({elements:Hs,rects:Vg,availableWidth:OT,availableHeight:LT})=>{const{width:DT,height:jT}=Vg.reference,ja=Hs.floating.style;ja.setProperty("--radix-popper-available-width",`${OT}px`),ja.setProperty("--radix-popper-available-height",`${LT}px`),ja.setProperty("--radix-popper-anchor-width",`${DT}px`),ja.setProperty("--radix-popper-anchor-height",`${jT}px`)}}),C&&O8({element:C,padding:a}),W8({arrowWidth:k,arrowHeight:T}),h&&M8({strategy:"referenceHidden",...X})]}),[E,R]=dT(Z),M=_r(m);di(()=>{U&&(M==null||M())},[U,M]);const Y=(Dr=P.arrow)==null?void 0:Dr.x,ge=(Og=P.arrow)==null?void 0:Og.y,He=((Lg=P.arrow)==null?void 0:Lg.centerOffset)!==0,[$s,nn]=g.useState();return di(()=>{v&&nn(window.getComputedStyle(v).zIndex)},[v]),f.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:U?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$s,"--radix-popper-transform-origin":[(Dg=P.transformOrigin)==null?void 0:Dg.x,(jg=P.transformOrigin)==null?void 0:jg.y].join(" "),...((Fg=P.hide)==null?void 0:Fg.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(V8,{scope:n,placedSide:E,onArrowChange:b,arrowX:Y,arrowY:ge,shouldHideArrow:He,children:f.jsx(Ln.div,{"data-side":E,"data-align":R,...w,ref:_,style:{...w.style,animation:U?void 0:"none"}})})})});lT.displayName=Ig;var cT="PopperArrow",B8={top:"bottom",right:"left",bottom:"top",left:"right"},uT=g.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=U8(cT,r),o=B8[s.placedSide];return f.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:f.jsx(D8,{...i,ref:n,style:{...i.style,display:"block"}})})});uT.displayName=cT;function z8(t){return t!==null}var W8=t=>({name:"transformOrigin",options:t,fn(e){var x,v,y;const{placement:n,rects:r,middlewareData:i}=e,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=dT(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((v=i.arrow)==null?void 0:v.x)??0)+a/2,p=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let m="",w="";return c==="bottom"?(m=o?d:`${h}px`,w=`${-l}px`):c==="top"?(m=o?d:`${h}px`,w=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,w=o?d:`${p}px`):c==="left"&&(m=`${r.floating.width+l}px`,w=o?d:`${p}px`),{data:{x:m,y:w}}}});function dT(t){const[e,n="center"]=t.split("-");return[e,n]}var $8=sT,hT=aT,H8=lT,G8=uT,K8="Portal",fT=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=g.useState(!1);di(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?dN.createPortal(f.jsx(Ln.div,{...r,ref:e}),o):null});fT.displayName=K8;function q8(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Rg=t=>{const{present:e,children:n}=t,r=Y8(e),i=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),s=Or(r.ref,Q8(i));return typeof n=="function"||r.isPresent?g.cloneElement(i,{ref:s}):null};Rg.displayName="Presence";function Y8(t){const[e,n]=g.useState(),r=g.useRef({}),i=g.useRef(t),s=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=q8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const c=cl(r.current);s.current=a==="mounted"?c:"none"},[a]),di(()=>{const c=r.current,u=i.current;if(u!==t){const h=s.current,p=cl(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),di(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=p=>{const w=cl(r.current).includes(p.animationName);if(p.target===e&&w&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=p=>{p.target===e&&(s.current=cl(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function cl(t){return(t==null?void 0:t.animationName)||"none"}function Q8(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function X8({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Z8({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=_r(n),l=g.useCallback(c=>{if(s){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else i(c)},[s,t,i,a]);return[o,l]}function Z8({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,i=g.useRef(r),s=_r(e);return g.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var J8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ci=new WeakMap,ul=new WeakMap,dl={},qd=0,pT=function(t){return t&&(t.host||pT(t.parentNode))},eU=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=pT(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},tU=function(t,e,n,r){var i=eU(e,Array.isArray(t)?t:[t]);dl[n]||(dl[n]=new WeakMap);var s=dl[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var p=h.getAttribute(r),m=p!==null&&p!=="false",w=(Ci.get(h)||0)+1,x=(s.get(h)||0)+1;Ci.set(h,w),s.set(h,x),o.push(h),w===1&&m&&ul.set(h,!0),x===1&&h.setAttribute(n,"true"),m||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return u(e),a.clear(),qd++,function(){o.forEach(function(d){var h=Ci.get(d)-1,p=s.get(d)-1;Ci.set(d,h),s.set(d,p),h||(ul.has(d)||d.removeAttribute(r),ul.delete(d)),p||d.removeAttribute(n)}),qd--,qd||(Ci=new WeakMap,Ci=new WeakMap,ul=new WeakMap,dl={})}},nU=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=J8(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),tU(r,i,n,"aria-hidden")):function(){return null}},Dl="right-scroll-bar-position",jl="width-before-scroll-bar",rU="with-scroll-bars-hidden",iU="--removed-body-scroll-bar-size";function Yd(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function sU(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var oU=typeof window<"u"?g.useLayoutEffect:g.useEffect,u_=new WeakMap;function aU(t,e){var n=sU(null,function(r){return t.forEach(function(i){return Yd(i,r)})});return oU(function(){var r=u_.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Yd(a,null)}),s.forEach(function(a){i.has(a)||Yd(a,o)})}u_.set(n,t)},[t]),n}function lU(t){return t}function cU(t,e){e===void 0&&(e=lU);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function uU(t){t===void 0&&(t={});var e=cU(null);return e.options=Gt({async:!0,ssr:!1},t),e}var mT=function(t){var e=t.sideCar,n=ka(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Gt({},n))};mT.isSideCarExport=!0;function dU(t,e){return t.useMedium(e),mT}var gT=uU(),Qd=function(){},Fu=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Qd,onWheelCapture:Qd,onTouchMoveCapture:Qd}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,p=t.noIsolation,m=t.inert,w=t.allowPinchZoom,x=t.as,v=x===void 0?"div":x,y=t.gapMode,_=ka(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,b=aU([n,e]),S=Gt(Gt({},_),i);return g.createElement(g.Fragment,null,u&&g.createElement(C,{sideCar:gT,removeScrollBar:c,shards:d,noIsolation:p,inert:m,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:y}),o?g.cloneElement(g.Children.only(a),Gt(Gt({},S),{ref:b})):g.createElement(v,Gt({},S,{className:l,ref:b}),a))});Fu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fu.classNames={fullWidth:jl,zeroRight:Dl};var hU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=hU();return e&&t.setAttribute("nonce",e),t}function pU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function mU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var gU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=fU())&&(pU(e,n),mU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},vU=function(){var t=gU();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},vT=function(){var t=vU(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},yU={left:0,top:0,right:0,gap:0},Xd=function(t){return parseInt(t||"",10)||0},wU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Xd(n),Xd(r),Xd(i)]},_U=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return yU;var e=wU(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},xU=vT(),rs="data-scroll-locked",CU=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(rU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(rs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dl,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(jl,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Dl," .").concat(Dl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(jl," .").concat(jl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(rs,`] {
    `).concat(iU,": ").concat(a,`px;
  }
`)},d_=function(){var t=parseInt(document.body.getAttribute(rs)||"0",10);return isFinite(t)?t:0},bU=function(){g.useEffect(function(){return document.body.setAttribute(rs,(d_()+1).toString()),function(){var t=d_()-1;t<=0?document.body.removeAttribute(rs):document.body.setAttribute(rs,t.toString())}},[])},SU=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;bU();var s=g.useMemo(function(){return _U(i)},[i]);return g.createElement(xU,{styles:CU(s,!e,i,n?"":"!important")})},zf=!1;if(typeof window<"u")try{var hl=Object.defineProperty({},"passive",{get:function(){return zf=!0,!0}});window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{zf=!1}var bi=zf?{passive:!1}:!1,EU=function(t){return t.tagName==="TEXTAREA"},yT=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!EU(t)&&n[e]==="visible")},TU=function(t){return yT(t,"overflowY")},kU=function(t){return yT(t,"overflowX")},h_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=wT(t,r);if(i){var s=_T(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},PU=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},NU=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},wT=function(t,e){return t==="v"?TU(e):kU(e)},_T=function(t,e){return t==="v"?PU(e):NU(e)},IU=function(t,e){return t==="h"&&e==="rtl"?-1:1},RU=function(t,e,n,r,i){var s=IU(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,h=0;do{var p=_T(t,a),m=p[0],w=p[1],x=p[2],v=w-x-s*m;(m||v)&&wT(t,a)&&(d+=v,h+=m),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!i)||!u&&(Math.abs(h)<1||!i))&&(c=!0),c},fl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},f_=function(t){return[t.deltaX,t.deltaY]},p_=function(t){return t&&"current"in t?t.current:t},AU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},MU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},OU=0,Si=[];function LU(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),i=g.useState(OU++)[0],s=g.useState(vT)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=kD([t.lockRef.current],(t.shards||[]).map(p_),!0).filter(Boolean);return w.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(w,x){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var v=fl(w),y=n.current,_="deltaX"in w?w.deltaX:y[0]-v[0],C="deltaY"in w?w.deltaY:y[1]-v[1],b,S=w.target,k=Math.abs(_)>Math.abs(C)?"h":"v";if("touches"in w&&k==="h"&&S.type==="range")return!1;var T=h_(k,S);if(!T)return!0;if(T?b=k:(b=k==="v"?"h":"v",T=h_(k,S)),!T)return!1;if(!r.current&&"changedTouches"in w&&(_||C)&&(r.current=b),!b)return!0;var L=r.current||b;return RU(L,x,w,L==="h"?_:C,!0)},[]),l=g.useCallback(function(w){var x=w;if(!(!Si.length||Si[Si.length-1]!==s)){var v="deltaY"in x?f_(x):fl(x),y=e.current.filter(function(b){return b.name===x.type&&(b.target===x.target||x.target===b.shadowParent)&&AU(b.delta,v)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var _=(o.current.shards||[]).map(p_).filter(Boolean).filter(function(b){return b.contains(x.target)}),C=_.length>0?a(x,_[0]):!o.current.noIsolation;C&&x.cancelable&&x.preventDefault()}}},[]),c=g.useCallback(function(w,x,v,y){var _={name:w,delta:x,target:v,should:y,shadowParent:DU(v)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(C){return C!==_})},1)},[]),u=g.useCallback(function(w){n.current=fl(w),r.current=void 0},[]),d=g.useCallback(function(w){c(w.type,f_(w),w.target,a(w,t.lockRef.current))},[]),h=g.useCallback(function(w){c(w.type,fl(w),w.target,a(w,t.lockRef.current))},[]);g.useEffect(function(){return Si.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,bi),document.addEventListener("touchmove",l,bi),document.addEventListener("touchstart",u,bi),function(){Si=Si.filter(function(w){return w!==s}),document.removeEventListener("wheel",l,bi),document.removeEventListener("touchmove",l,bi),document.removeEventListener("touchstart",u,bi)}},[]);var p=t.removeScrollBar,m=t.inert;return g.createElement(g.Fragment,null,m?g.createElement(s,{styles:MU(i)}):null,p?g.createElement(SU,{gapMode:t.gapMode}):null)}function DU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const jU=dU(gT,LU);var xT=g.forwardRef(function(t,e){return g.createElement(Fu,Gt({},t,{ref:e,sideCar:jU}))});xT.classNames=Fu.classNames;var Ag="Popover",[CT,wB]=UE(Ag,[rT]),Da=rT(),[FU,Lr]=CT(Ag),bT=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=t,a=Da(e),l=g.useRef(null),[c,u]=g.useState(!1),[d=!1,h]=X8({prop:r,defaultProp:i,onChange:s});return f.jsx($8,{...a,children:f.jsx(FU,{scope:e,contentId:j6(),triggerRef:l,open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:c,onCustomAnchorAdd:g.useCallback(()=>u(!0),[]),onCustomAnchorRemove:g.useCallback(()=>u(!1),[]),modal:o,children:n})})};bT.displayName=Ag;var ST="PopoverAnchor",VU=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Lr(ST,n),s=Da(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=i;return g.useEffect(()=>(o(),()=>a()),[o,a]),f.jsx(hT,{...s,...r,ref:e})});VU.displayName=ST;var ET="PopoverTrigger",TT=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Lr(ET,n),s=Da(n),o=Or(e,i.triggerRef),a=f.jsx(Ln.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":RT(i.open),...r,ref:o,onClick:hr(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:f.jsx(hT,{asChild:!0,...s,children:a})});TT.displayName=ET;var Mg="PopoverPortal",[UU,BU]=CT(Mg,{forceMount:void 0}),kT=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=Lr(Mg,e);return f.jsx(UU,{scope:e,forceMount:n,children:f.jsx(Rg,{present:n||s.open,children:f.jsx(fT,{asChild:!0,container:i,children:r})})})};kT.displayName=Mg;var Ss="PopoverContent",PT=g.forwardRef((t,e)=>{const n=BU(Ss,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=Lr(Ss,t.__scopePopover);return f.jsx(Rg,{present:r||s.open,children:s.modal?f.jsx(zU,{...i,ref:e}):f.jsx(WU,{...i,ref:e})})});PT.displayName=Ss;var zU=g.forwardRef((t,e)=>{const n=Lr(Ss,t.__scopePopover),r=g.useRef(null),i=Or(e,r),s=g.useRef(!1);return g.useEffect(()=>{const o=r.current;if(o)return nU(o)},[]),f.jsx(xT,{as:xg,allowPinchZoom:!0,children:f.jsx(NT,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:hr(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),s.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:hr(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:hr(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),WU=g.forwardRef((t,e)=>{const n=Lr(Ss,t.__scopePopover),r=g.useRef(!1),i=g.useRef(!1);return f.jsx(NT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),NT=g.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...d}=t,h=Lr(Ss,n),p=Da(n);return k6(),f.jsx($E,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:f.jsx(zE,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:f.jsx(H8,{"data-state":RT(h.open),role:"dialog",id:h.contentId,...p,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),IT="PopoverClose",$U=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Lr(IT,n);return f.jsx(Ln.button,{type:"button",...r,ref:e,onClick:hr(t.onClick,()=>i.onOpenChange(!1))})});$U.displayName=IT;var HU="PopoverArrow",GU=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Da(n);return f.jsx(G8,{...i,...r,ref:e})});GU.displayName=HU;function RT(t){return t?"open":"closed"}var KU=bT,qU=TT,YU=kT,AT=PT;const QU=KU,XU=qU,MT=g.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>f.jsx(YU,{children:f.jsx(AT,{ref:i,align:e,sideOffset:n,className:Mr("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));MT.displayName=AT.displayName;const ZU=[{key:"nightSkiing",icon:yb,label:"Night Skiing"},{key:"backcountry",icon:xm,label:"Back Country"},{key:"iceSkating",icon:cf,label:"Ice Skating"},{key:"snowmobile",icon:cf,label:"Snowmobile"},{key:"snowTubing",icon:Cm,label:"Snow Tubing"}],m_=({icon:t,label:e,isAvailable:n})=>f.jsxs("div",{className:"flex items-center gap-2 p-1 rounded-full",title:`${e} ${n?"Available":"Not Available"}`,children:[f.jsx("div",{className:`p-1 rounded-full ${n?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:f.jsx(t,{className:"h-4 w-4"})}),f.jsx("span",{className:"text-xs text-gray-600",children:e})]});function JU({resort:t}){const[e,n]=g.useState(!1),r=ZU.map(({key:a,icon:l,label:c})=>({key:a,icon:l,label:c,isAvailable:!!t[a]})),i=r.slice(0,3),s=r.slice(3),o=s.length>0;return f.jsxs(LE,{className:"group overflow-hidden transition-all hover:shadow-lg bg-gray-50 border-blue-200",onMouseLeave:()=>n(!1),children:[f.jsxs(DE,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:[f.jsxs(jE,{className:"flex items-center justify-between",children:[f.jsx("span",{children:t.name}),t.terrainPark!=="-"&&f.jsx(xi,{variant:"secondary",className:"bg-white/20",children:"Terrain Park"})]}),f.jsxs("div",{className:"flex items-center text-sm",children:[f.jsx(As,{className:"mr-1 h-4 w-4"}),t.region,", ",t.state]})]}),f.jsx(FE,{className:"pt-4",children:f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"transition-opacity duration-300 group-hover:opacity-0",children:f.jsxs("div",{className:"flex flex-col gap-1",children:[t.green!=="-"&&f.jsxs(xi,{variant:"secondary",className:"bg-green-500 text-white w-fit",children:[t.green," Green"]}),t.blue!=="-"&&f.jsxs(xi,{variant:"secondary",className:"bg-blue-500 text-white w-fit",children:[t.blue," Blue"]}),t.doubleBlue!=="-"&&f.jsxs(xi,{variant:"secondary",className:"bg-blue-700 text-white w-fit",children:[t.doubleBlue," Double Blue"]}),t.black!=="-"&&f.jsxs(xi,{variant:"secondary",className:"bg-gray-800 text-white w-fit",children:[t.black," Black"]}),t.doubleBlack!=="-"&&f.jsxs(xi,{variant:"secondary",className:"bg-black text-white w-fit",children:[t.doubleBlack," Double Black"]})]})}),f.jsx("div",{className:"absolute inset-0 opacity-0 transition-opacity duration-300 group-hover:opacity-100",children:f.jsx("p",{className:"text-sm text-gray-600",children:t.description||"No description available"})})]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"transition-opacity duration-300 group-hover:opacity-0",children:f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsxs("div",{className:"text-sm",children:[f.jsx("span",{className:"font-semibold",children:"Full Day:"})," ",t.fullDayTicket]}),t.halfDayTicket!=="-"&&f.jsxs("div",{className:"text-sm",children:[f.jsx("span",{className:"font-semibold",children:"Half Day:"})," ",t.halfDayTicket]})]})}),f.jsx("div",{className:"absolute inset-0 opacity-0 transition-opacity duration-300 group-hover:opacity-100",children:f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.map(({key:a,icon:l,label:c,isAvailable:u})=>f.jsx(m_,{icon:l,label:c,isAvailable:u},a)),o&&f.jsxs(QU,{open:e,onOpenChange:n,children:[f.jsx(XU,{asChild:!0,children:f.jsxs("button",{className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100",children:[f.jsx("div",{className:"p-1 rounded-full bg-blue-100 text-blue-600",children:f.jsx(UM,{className:"h-4 w-4"})}),f.jsx("span",{className:"text-xs text-gray-600",children:"More"})]})}),f.jsx(MT,{className:"w-48 p-2 bg-white",children:f.jsx("div",{className:"space-y-2",children:s.map(({key:a,icon:l,label:c,isAvailable:u})=>f.jsx(m_,{icon:l,label:c,isAvailable:u},a))})})]})]})})]})]})})]})}function eB(){const[t,e]=g.useState([]),[n,r]=g.useState(!0),[i,s]=g.useState(null);return g.useEffect(()=>(()=>{try{const a=Mu(Ou,"resorts"),l=SE(a,c=>{const u=c.val();if(u){const d=Object.entries(u).map(([h,p])=>({id:h,...p}));e(d)}else e([]);r(!1)},c=>{console.error("Error fetching resorts:",c),s("Error loading resorts"),r(!1)});return()=>l()}catch(a){return console.error("Error setting up resorts listener:",a),s("Error loading resorts"),r(!1),()=>{}}})(),[]),n?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-pulse",children:[...Array(6)].map((o,a)=>f.jsx("div",{className:"h-64 bg-white/10 rounded-lg"},`skeleton-${a}`))}):i?f.jsx("div",{className:"text-center p-8",children:f.jsx("p",{className:"text-red-200",children:i})}):t.length===0?f.jsx("div",{className:"text-center p-8",children:f.jsx("p",{className:"text-white/60",children:"No resorts found"})}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>f.jsx(JU,{resort:o},o.id))})}function tB(){const t=kr();return f.jsxs("div",{className:"min-h-screen p-4 space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-white",children:"Ski Resorts"}),f.jsxs("button",{onClick:()=>t("/results"),className:"flex items-center space-x-2 px-4 py-2 bg-white text-blue-900 rounded-lg hover:bg-blue-50 transition-colors",children:[f.jsx(vb,{className:"w-5 h-5"}),f.jsx("span",{children:"Map View"})]})]}),f.jsx(eB,{})]})}function nB(){return f.jsxs("div",{className:"p-4 max-w-lg mx-auto",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsxs("div",{className:"relative inline-block",children:[f.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 flex items-center justify-center mb-4 mx-auto",children:f.jsx(v0,{className:"w-8 h-8 text-white/60"})}),f.jsx("button",{className:"absolute bottom-0 right-0 bg-white text-blue-900 rounded-full p-2",children:f.jsx(v0,{className:"w-4 h-4"})})]}),f.jsx("h1",{className:"text-2xl font-bold text-white",children:"John Doe"}),f.jsx("p",{className:"text-white/60",children:"Ski Enthusiast"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[f.jsxs("div",{className:"flex items-center space-x-3 text-white mb-2",children:[f.jsx(_m,{className:"w-5 h-5"}),f.jsx("span",{children:"Email"})]}),f.jsx("p",{className:"text-white/80 pl-8",children:"john.doe@example.com"})]}),f.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[f.jsxs("div",{className:"flex items-center space-x-3 text-white mb-2",children:[f.jsx($M,{className:"w-5 h-5"}),f.jsx("span",{children:"Phone"})]}),f.jsx("p",{className:"text-white/80 pl-8",children:"+1 (555) 123-4567"})]}),f.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[f.jsxs("div",{className:"flex items-center space-x-3 text-white mb-2",children:[f.jsx(As,{className:"w-5 h-5"}),f.jsx("span",{children:"Location"})]}),f.jsx("p",{className:"text-white/80 pl-8",children:"Denver, Colorado"})]})]}),f.jsx("button",{className:"w-full mt-8 bg-white text-blue-900 rounded-lg py-3 font-semibold hover:bg-blue-50 transition-colors",children:"Edit Profile"})]})}const rB=[{category:"Preferences",items:[{id:"notifications",label:"Notifications",icon:LM},{id:"darkMode",label:"Dark Mode",icon:yb},{id:"language",label:"Language",icon:BM}]},{category:"Privacy & Security",items:[{id:"privacy",label:"Privacy Settings",icon:y0},{id:"security",label:"Security",icon:y0}]}];function iB(){return f.jsxs("div",{className:"p-4 max-w-lg mx-auto",children:[f.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Settings"}),f.jsx("div",{className:"space-y-6",children:rB.map(t=>f.jsxs("div",{children:[f.jsx("h2",{className:"text-white/80 text-sm font-medium mb-2",children:t.category}),f.jsx("div",{className:"bg-white/10 rounded-xl overflow-hidden",children:t.items.map((e,n)=>{const r=e.icon;return f.jsxs("button",{className:"w-full flex items-center justify-between p-4 text-white hover:bg-white/5 transition-colors",style:{borderTop:n>0?"1px solid rgba(255,255,255,0.1)":"none"},children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(r,{className:"w-5 h-5"}),f.jsx("span",{children:e.label})]}),f.jsx(ym,{className:"w-5 h-5 text-white/60"})]},e.id)})})]},t.category))})]})}const sB=[{name:"Vail",location:"Colorado",image:"https://images.unsplash.com/photo-1544985361-b420d7a77f51?auto=format&fit=crop&q=80&w=800",rating:4.8,priceRange:"$$$",description:"World-class skiing across 5,317 acres of terrain"},{name:"Park City",location:"Utah",image:"https://images.unsplash.com/photo-1548532369-c7e27c697f1b?auto=format&fit=crop&q=80&w=800",rating:4.7,priceRange:"$$$",description:"America's largest ski resort with 7,300 acres"},{name:"Aspen Snowmass",location:"Colorado",image:"https://images.unsplash.com/photo-1548533001-9dc7d1b04016?auto=format&fit=crop&q=80&w=800",rating:4.9,priceRange:"$$$$",description:"Four unique mountains with world-class amenities"}],oB=[{title:"Ultimate Colorado Adventure",duration:"7 days",price:2499,image:"https://images.unsplash.com/photo-1544988796-d0421a0350dc?auto=format&fit=crop&q=80&w=800",people:"2-4",includes:["3 Resort Access","Luxury Lodging","Equipment Rental","Guided Tours"]},{title:"Utah Powder Week",duration:"5 days",price:1999,image:"https://images.unsplash.com/photo-1565992441121-4367c2967103?auto=format&fit=crop&q=80&w=800",people:"2-6",includes:["2 Resort Access","Premium Lodging","Equipment Rental","Ski Lessons"]},{title:"Vermont Family Getaway",duration:"4 days",price:1599,image:"https://images.unsplash.com/photo-1586800779465-e89b31f6c8df?auto=format&fit=crop&q=80&w=800",people:"4-6",includes:["Family Resort Access","Cozy Cabin","Family Lessons","Kids Activities"]}];function aB(){const[t,e]=g.useState("resorts");return f.jsxs("div",{className:"p-4 max-w-6xl mx-auto",children:[f.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Explore"}),f.jsxs("div",{className:"flex space-x-4 mb-6",children:[f.jsx("button",{onClick:()=>e("resorts"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="resorts"?"bg-white text-blue-900":"text-white hover:bg-white/10"}`,children:"Top Rated Resorts"}),f.jsx("button",{onClick:()=>e("trips"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="trips"?"bg-white text-blue-900":"text-white hover:bg-white/10"}`,children:"Pre-Planned Trips"})]}),t==="resorts"?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:sB.map(n=>f.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl overflow-hidden hover:bg-white/20 transition-colors",children:[f.jsxs("div",{className:"aspect-video relative",children:[f.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"}),f.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 backdrop-blur-sm rounded-full px-3 py-1 flex items-center space-x-1",children:[f.jsx(wb,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),f.jsx("span",{className:"text-white",children:n.rating})]})]}),f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsx("h3",{className:"text-xl font-bold text-white",children:n.name}),f.jsx("span",{className:"text-white/60",children:n.priceRange})]}),f.jsxs("div",{className:"flex items-center text-white/60 mb-2",children:[f.jsx(As,{className:"w-4 h-4 mr-1"}),f.jsx("span",{children:n.location})]}),f.jsx("p",{className:"text-white/80 text-sm mb-4",children:n.description}),f.jsx("button",{className:"w-full bg-white text-blue-900 rounded-lg py-2 font-medium hover:bg-blue-50 transition-colors",children:"View Details"})]})]},n.name))}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:oB.map(n=>f.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl overflow-hidden hover:bg-white/20 transition-colors",children:[f.jsxs("div",{className:"aspect-video relative",children:[f.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:f.jsx("h3",{className:"text-xl font-bold text-white",children:n.title})})]}),f.jsxs("div",{className:"p-4 space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"flex items-center text-white/80",children:[f.jsx(mu,{className:"w-4 h-4 mr-2"}),f.jsx("span",{children:n.duration})]}),f.jsxs("div",{className:"flex items-center text-white/80",children:[f.jsx(xb,{className:"w-4 h-4 mr-2"}),f.jsxs("span",{children:[n.people," people"]})]})]}),f.jsxs("div",{className:"flex items-center text-white",children:[f.jsx(wm,{className:"w-5 h-5"}),f.jsx("span",{className:"text-xl font-bold",children:n.price}),f.jsx("span",{className:"text-white/60 ml-1",children:"/person"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h4",{className:"text-white/80 font-medium",children:"Includes:"}),f.jsx("ul",{className:"text-white/60 text-sm space-y-1",children:n.includes.map((r,i)=>f.jsxs("li",{className:"flex items-center",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full mr-2"}),r]},i))})]}),f.jsx("button",{className:"w-full bg-white text-blue-900 rounded-lg py-2 font-medium hover:bg-blue-50 transition-colors",children:"Book Package"})]})]},n.title))})]})}function lB(){const[t,e]=g.useState(1),[n,r]=g.useState(500),i=new Date().toISOString().split("T")[0],s=new Date;s.setFullYear(s.getFullYear()+2);const o=s.toISOString().split("T")[0],[a,l]=g.useState(i),[c,u]=g.useState("");return f.jsxs("div",{className:"p-4 max-w-lg mx-auto",children:[f.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Plan Your Trip"}),f.jsxs("div",{className:"mb-8",children:[f.jsx("div",{className:"flex justify-between mb-2",children:[1,2,3,4].map(d=>f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t>=d?"bg-white text-blue-900":"bg-white/20 text-white"}`,children:d},d))}),f.jsx("div",{className:"w-full bg-white/20 h-1 rounded-full",children:f.jsx("div",{className:"bg-white h-full rounded-full transition-all duration-300",style:{width:`${(t-1)/3*100}%`}})})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[f.jsxs("div",{className:"flex items-center space-x-3 text-white mb-4",children:[f.jsx(mu,{className:"w-5 h-5"}),f.jsx("span",{className:"font-medium",children:"Trip Dates"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-white/80 text-sm mb-2 ml-1",children:"Depart"}),f.jsx("input",{type:"date",min:i,max:o,value:a,onChange:d=>{l(d.target.value),c&&c<d.target.value&&u(d.target.value)},className:"w-full bg-white/5 border border-white/20 rounded-lg p-3 text-white focus:outline-none focus:border-white"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-white/80 text-sm mb-2 ml-1",children:"Return"}),f.jsx("input",{type:"date",min:a,max:o,value:c,onChange:d=>u(d.target.value),className:"w-full bg-white/5 border border-white/20 rounded-lg p-3 text-white focus:outline-none focus:border-white"})]})]})]}),f.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[f.jsxs("div",{className:"flex items-center space-x-3 text-white mb-4",children:[f.jsx(xb,{className:"w-5 h-5"}),f.jsx("span",{className:"font-medium",children:"How many people?"})]}),f.jsx("input",{type:"number",min:"1",placeholder:"Number of people",className:"w-full bg-white/5 border border-white/20 rounded-lg p-3 text-white focus:outline-none focus:border-white"})]}),f.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[f.jsxs("div",{className:"flex items-center space-x-3 text-white mb-4",children:[f.jsx(VM,{className:"w-5 h-5"}),f.jsx("span",{className:"font-medium",children:"Trip duration"})]}),f.jsxs("select",{className:"w-full bg-white/5 border border-white/20 rounded-lg p-3 text-white focus:outline-none focus:border-white [&>option]:text-gray-900",children:[f.jsx("option",{value:"weekend",children:"Weekend"}),f.jsx("option",{value:"week",children:"1 Week"}),f.jsx("option",{value:"twoWeeks",children:"2 Weeks"})]})]}),f.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[f.jsxs("div",{className:"flex items-center justify-between text-white mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(wm,{className:"w-5 h-5"}),f.jsx("span",{className:"font-medium",children:"Budget per person"})]}),f.jsxs("span",{className:"font-medium",children:["$",n]})]}),f.jsx("input",{type:"range",min:"100",max:"1000",step:"50",value:n,onChange:d=>r(Number(d.target.value)),className:"w-full"}),f.jsxs("div",{className:"flex justify-between text-white/60 text-sm mt-2",children:[f.jsx("span",{children:"$100"}),f.jsx("span",{children:"$1000"})]})]})]}),f.jsxs("div",{className:"mt-8 flex space-x-3",children:[t>1&&f.jsx("button",{onClick:()=>e(t-1),className:"flex-1 bg-white/10 text-white rounded-lg py-3 font-medium hover:bg-white/20 transition-colors",children:"Previous"}),f.jsx("button",{onClick:()=>t<4?e(t+1):null,className:"flex-1 bg-white text-blue-900 rounded-lg py-3 font-medium hover:bg-blue-50 transition-colors",children:t===4?"Find Matches":"Next"})]})]})}const cB=[{name:"Vail",location:"Colorado",image:"https://images.unsplash.com/photo-1544985361-b420d7a77f51?auto=format&fit=crop&q=80&w=800",lastViewed:"2024-03-15",rating:4.8,priceRange:"$$$"},{name:"Aspen Snowmass",location:"Colorado",image:"https://images.unsplash.com/photo-1548533001-9dc7d1b04016?auto=format&fit=crop&q=80&w=800",lastViewed:"2024-03-14",rating:4.9,priceRange:"$$$$"},{name:"Park City",location:"Utah",image:"https://images.unsplash.com/photo-1548532369-c7e27c697f1b?auto=format&fit=crop&q=80&w=800",lastViewed:"2024-03-13",rating:4.7,priceRange:"$$$"}];function uB(){return f.jsxs("div",{className:"p-4 max-w-6xl mx-auto",children:[f.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Your Resorts"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:cB.map(t=>f.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl overflow-hidden hover:bg-white/20 transition-colors cursor-pointer group",children:[f.jsxs("div",{className:"aspect-video relative",children:[f.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),f.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 backdrop-blur-sm rounded-full px-3 py-1 flex items-center space-x-1",children:[f.jsx(wb,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),f.jsx("span",{className:"text-white",children:t.rating})]})]}),f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-white",children:t.name}),f.jsxs("div",{className:"flex items-center text-white/60",children:[f.jsx(As,{className:"w-4 h-4 mr-1"}),f.jsx("span",{children:t.location})]})]}),f.jsx("span",{className:"text-white/60",children:t.priceRange})]}),f.jsxs("div",{className:"flex items-center text-white/60 text-sm mt-2",children:[f.jsx(mu,{className:"w-4 h-4 mr-1"}),f.jsxs("span",{children:["Last viewed: ",t.lastViewed]})]}),f.jsxs("div",{className:"mt-4 flex space-x-2",children:[f.jsx("button",{className:"flex-1 bg-white text-blue-900 rounded-lg py-2 font-medium hover:bg-blue-50 transition-colors",children:"Book Now"}),f.jsx("button",{className:"flex items-center justify-center w-10 aspect-square bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors",children:f.jsx(ym,{className:"w-5 h-5"})})]})]})]},t.name))})]})}const dB=[{id:"plan",label:"Plan A Trip",icon:vb},{id:"explore",label:"Explore",icon:mb},{id:"user",label:"User Info",icon:_b},{id:"settings",label:"Settings",icon:HM}];function hB(){const[t,e]=g.useState("saved"),n=()=>{switch(t){case"settings":return f.jsx(iB,{});case"user":return f.jsx(nB,{});case"explore":return f.jsx(aB,{});case"plan":return f.jsx(lB,{});case"saved":return f.jsx(uB,{});default:return null}};return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900",children:[f.jsx("div",{className:"pb-24",children:n()}),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/10 backdrop-blur-lg border-t border-white/20",children:f.jsxs("div",{className:"max-w-lg mx-auto px-4 relative",children:[f.jsx("button",{onClick:()=>e("saved"),className:"absolute left-1/2 -translate-x-1/2 -top-10 w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-lg hover:bg-blue-50 transition-colors",children:f.jsx(zM,{className:"w-8 h-8 text-blue-900"})}),f.jsx("div",{className:"flex justify-between py-2",children:dB.map((r,i)=>{const s=r.icon,o=t===r.id;return f.jsxs("button",{onClick:()=>e(r.id),className:`
                    flex flex-col items-center py-3 px-4 relative
                    ${o?"text-white":"text-white/60 hover:text-white/80"}
                    transition-colors duration-200
                    ${i===1?"mr-16":""}
                    ${i===2?"ml-16":""}
                  `,children:[f.jsx(s,{className:"w-6 h-6"}),f.jsx("span",{className:"text-xs mt-1",children:r.label}),o&&f.jsx("div",{className:"absolute -bottom-[1px] left-2 right-2 h-0.5 bg-white rounded-full"})]},r.id)})})]})})]})}function fB(){const t=kr(),[e,n]=g.useState(""),[r,i]=g.useState(""),[s,o]=g.useState(""),[a,l]=g.useState(!1),c=async h=>{h.preventDefault(),o(""),l(!0);try{const p=await oV(e,r);t("/dashboard")}catch(p){o(p instanceof Error?p.message:"An error occurred during login")}finally{l(!1)}},u=async()=>{try{const h=_f(),p=new ln,m=await Z0(h,p);t("/dashboard")}catch(h){o(h instanceof Error?h.message:"Error signing in with Google")}},d=async()=>{try{const h=_f(),p=new No("apple.com"),m=await Z0(h,p);t("/dashboard")}catch(h){o(h instanceof Error?h.message:"Error signing in with Apple")}};return f.jsxs("div",{className:"min-h-screen flex flex-col p-4",children:[f.jsxs("button",{onClick:()=>t("/"),className:"text-white hover:text-white/80 transition-colors self-start flex items-center space-x-2 mb-8",children:[f.jsx(vm,{className:"w-5 h-5"}),f.jsx("span",{children:"Back"})]}),f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center max-w-md mx-auto w-full",children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Welcome Back"}),s&&f.jsxs("div",{className:"w-full bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-6 flex items-center space-x-2 text-red-200",children:[f.jsx(pb,{className:"w-5 h-5 flex-shrink-0"}),f.jsx("p",{children:s})]}),f.jsxs("form",{onSubmit:c,className:"w-full space-y-4",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(_m,{className:"absolute top-1/2 left-3 transform -translate-y-1/2 text-white/60 w-5 h-5"}),f.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:h=>n(h.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg p-3 text-white placeholder-white/60 focus:outline-none focus:border-white pl-11",required:!0})]}),f.jsxs("div",{className:"relative",children:[f.jsx(gb,{className:"absolute top-1/2 left-3 transform -translate-y-1/2 text-white/60 w-5 h-5"}),f.jsx("input",{type:"password",placeholder:"Password",value:r,onChange:h=>i(h.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg p-3 text-white placeholder-white/60 focus:outline-none focus:border-white pl-11",required:!0})]})]}),f.jsx("button",{type:"submit",disabled:a,className:"w-full bg-white text-blue-900 rounded-lg py-3 font-semibold hover:bg-blue-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Logging in...":"Log In"}),f.jsxs("div",{className:"relative my-8",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-white/20"})}),f.jsx("div",{className:"relative flex justify-center text-sm",children:f.jsx("span",{className:"px-2 bg-blue-900 text-white/60",children:"Or continue with"})})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{type:"button",onClick:u,className:"w-full bg-white text-gray-900 rounded-lg py-3 font-semibold hover:bg-gray-100 transition-colors flex items-center justify-center space-x-2",children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),f.jsx("span",{children:"Continue with Google"})]}),f.jsxs("button",{type:"button",onClick:d,className:"w-full bg-black text-white rounded-lg py-3 font-semibold hover:bg-gray-900 transition-colors flex items-center justify-center space-x-2",children:[f.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:f.jsx("path",{fill:"currentColor",d:"M17.05 20.28c-.98.95-2.05.88-3.08.4-1.09-.5-2.08-.48-3.24 0-1.44.62-2.2.44-3.06-.4C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.78 1.18-.19 2.31-.89 3.51-.84 1.54.07 2.7.6 3.44 1.51-3.03 1.81-2.52 5.87.22 7.22-.65 1.29-1.51 2.58-2.25 3.3zm-3.08-15c.08 1.68-1.52 3.01-3.23 2.93-.23-1.78 1.41-2.95 3.23-2.93z"})}),f.jsx("span",{children:"Continue with Apple"})]})]})]}),f.jsxs("p",{className:"mt-8 text-white/60",children:["Don't have an account?"," ",f.jsx("button",{onClick:()=>t("/create-account"),className:"text-white hover:underline",children:"Sign up"})]})]})]})}function pB(){const t=kr(),[e,n]=g.useState({name:"",email:"",password:"",age:""}),[r,i]=g.useState(""),[s,o]=g.useState(!1),a=sessionStorage.getItem("selectedResort")?JSON.parse(sessionStorage.getItem("selectedResort")):null,l=async u=>{u.preventDefault(),i(""),o(!0);try{const d=await sV(e.email.trim().toLowerCase(),e.password,e.name.trim());await iV(d.uid,{name:e.name.trim(),email:e.email.trim().toLowerCase(),age:e.age?parseInt(e.age,10):null,selectedResort:a?a.id:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),t("/dashboard")}catch(d){console.error("Account creation error:",d),i(d instanceof Error?d.message:"An error occurred during account creation")}finally{o(!1)}},c=u=>{const{name:d,value:h}=u.target;n(p=>({...p,[d]:h}))};return f.jsxs("div",{className:"min-h-screen flex flex-col p-4",children:[f.jsxs("button",{onClick:()=>t(-1),className:"text-white hover:text-white/80 transition-colors self-start flex items-center space-x-2 mb-8",children:[f.jsx(vm,{className:"w-5 h-5"}),f.jsx("span",{children:"Back"})]}),f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center max-w-md mx-auto w-full",children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Create Account"}),a&&f.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-4 mb-8 w-full",children:f.jsxs("p",{className:"text-white text-center",children:["Create an account to book your stay at"," ",f.jsx("span",{className:"font-bold",children:a.name})]})}),r&&f.jsxs("div",{className:"w-full bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-6 flex items-center space-x-2 text-red-200",children:[f.jsx(pb,{className:"w-5 h-5 flex-shrink-0"}),f.jsx("p",{children:r})]}),f.jsxs("form",{onSubmit:l,className:"w-full space-y-4",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(_b,{className:"absolute top-1/2 left-3 transform -translate-y-1/2 text-white/60 w-5 h-5"}),f.jsx("input",{type:"text",name:"name",placeholder:"Full Name",value:e.name,onChange:c,className:"w-full bg-white/10 border border-white/20 rounded-lg p-3 text-white placeholder-white/60 focus:outline-none focus:border-white pl-11",required:!0,minLength:2,maxLength:50})]}),f.jsxs("div",{className:"relative",children:[f.jsx(_m,{className:"absolute top-1/2 left-3 transform -translate-y-1/2 text-white/60 w-5 h-5"}),f.jsx("input",{type:"email",name:"email",placeholder:"Email",value:e.email,onChange:c,className:"w-full bg-white/10 border border-white/20 rounded-lg p-3 text-white placeholder-white/60 focus:outline-none focus:border-white pl-11",required:!0,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$"})]}),f.jsxs("div",{className:"relative",children:[f.jsx(gb,{className:"absolute top-1/2 left-3 transform -translate-y-1/2 text-white/60 w-5 h-5"}),f.jsx("input",{type:"password",name:"password",placeholder:"Password",value:e.password,onChange:c,className:"w-full bg-white/10 border border-white/20 rounded-lg p-3 text-white placeholder-white/60 focus:outline-none focus:border-white pl-11",required:!0,minLength:8})]}),f.jsxs("div",{className:"relative",children:[f.jsx(mu,{className:"absolute top-1/2 left-3 transform -translate-y-1/2 text-white/60 w-5 h-5"}),f.jsx("input",{type:"number",name:"age",placeholder:"Age",min:"13",max:"120",value:e.age,onChange:c,className:"w-full bg-white/10 border border-white/20 rounded-lg p-3 text-white placeholder-white/60 focus:outline-none focus:border-white pl-11"})]})]}),f.jsx("button",{type:"submit",disabled:s,className:"w-full bg-white text-blue-900 rounded-lg py-3 font-semibold hover:bg-blue-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating Account...":"Create Account"})]}),f.jsxs("p",{className:"mt-8 text-white/60",children:["Already have an account?"," ",f.jsx("button",{onClick:()=>t("/login"),className:"text-white hover:underline",children:"Log in"})]})]})]})}function mB(){const t=_a();return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900",children:f.jsx(NM,{mode:"wait",children:f.jsxs(eI,{location:t,children:[f.jsx(kt,{path:"/",element:f.jsx(Wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:f.jsx(QM,{})})}),f.jsx(kt,{path:"/quiz",element:f.jsx(Wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:f.jsx(eO,{})})}),f.jsx(kt,{path:"/quiz/beginner",element:f.jsx(Wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:f.jsx(tO,{})})}),f.jsx(kt,{path:"/quiz/experienced",element:f.jsx(Wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:f.jsx(pO,{})})}),f.jsx(kt,{path:"/loading",element:f.jsx(Wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:f.jsx(gO,{})})}),f.jsx(kt,{path:"/results",element:f.jsx(Wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:f.jsx(NV,{})})}),f.jsx(kt,{path:"/resorts",element:f.jsx(Wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:f.jsx(tB,{})})}),f.jsx(kt,{path:"/dashboard",element:f.jsx(Wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:f.jsx(hB,{})})}),f.jsx(kt,{path:"/login",element:f.jsx(Wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:f.jsx(fB,{})})}),f.jsx(kt,{path:"/create-account",element:f.jsx(Wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:f.jsx(pB,{})})})]},t.pathname)})})}I1(document.getElementById("root")).render(f.jsx(g.StrictMode,{children:f.jsx(rI,{children:f.jsx(mB,{})})}));export{gB as c,g_ as g};
